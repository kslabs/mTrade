# üîß –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: API –º–∞—Ä—à—Ä—É—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

## –ü—Ä–æ–±–ª–µ–º–∞
API endpoints `/api/ui/state` –∏ `/api/trade/params` –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ **404 –æ—à–∏–±–∫—É** –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –±—ã–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. API –¥–ª—è UI State (3 –º–∞—Ä—à—Ä—É—Ç–∞)

#### GET /api/ui/state
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI:
```json
{
  "success": true,
  "state": {
    "auto_trade_enabled": true,
    "network_mode": "test",
    "trading_mode": "trade",
    "active_base_currency": "BTC",
    "active_quote_currency": "USDT",
    "enabled_currencies": {...},
    "breakeven_params": {...}
  }
}
```

#### POST /api/ui/state
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI

#### POST /api/ui/state/partial
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è)

### 2. API –¥–ª—è Trade Params (2 –º–∞—Ä—à—Ä—É—Ç–∞)

#### GET /api/trade/params?base_currency=BTC
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã

#### POST /api/trade/params
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è –≤–∞–ª—é—Ç—ã

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
**–í–ê–ñ–ù–û:** –°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞—Ç—å!

#### –í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **üîÑ** (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

#### –í–∞—Ä–∏–∞–Ω—Ç B - –í—Ä—É—á–Ω—É—é:
1. –ó–∞–∫—Ä–æ–π—Ç–µ **–í–°–ï** –æ–∫–Ω–∞ PowerShell —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º mTrade
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ä–µ–∑ Task Manager (Ctrl+Shift+Esc):
   - –ù–∞–π–¥–∏—Ç–µ `python.exe` —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `mTrade.py`
   - –ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ: `START.bat` –∏–ª–∏ `python mTrade.py`

### 2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

#### –°–ø–æ—Å–æ–± 1 - –ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
- **Windows:** `Ctrl + Shift + R` –∏–ª–∏ `Ctrl + F5`
- **Mac:** `Cmd + Shift + R`

#### –°–ø–æ—Å–æ–± 2 - –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞:
1. –ù–∞–∂–º–∏—Ç–µ `F12` (–æ—Ç–∫—Ä—ã—Ç—å DevTools)
2. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –∏–∫–æ–Ω–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. –í—ã–±–µ—Ä–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –∂—ë—Å—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ"

#### –°–ø–æ—Å–æ–± 3 - –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:
1. `Ctrl + Shift + Delete`
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≤ –∫–µ—à–µ"
3. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
[INIT] –ù–∞—á–∞–ª–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
[INIT] UI State –∑–∞–≥—Ä—É–∂–µ–Ω
UI State: —Ä–µ–∂–∏–º —Å–µ—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - test
UI State: –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - OFF
[NETWORK] –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º: test
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
GET http://127.0.0.1:5000/api/ui/state 404 (NOT FOUND)
GET http://127.0.0.1:5000/api/trade/params 404 (NOT FOUND)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
3. ‚úÖ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ 404 –¥–ª—è `/api/ui/state`
4. ‚úÖ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ 404 –¥–ª—è `/api/trade/params`

### –¢–µ—Å—Ç 2: AutoTrade —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ AutoTrade –Ω–∞ **OFF**
2. –ù–∞–∂–º–∏—Ç–µ F5
3. ‚úÖ AutoTrade –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è **OFF**

### –¢–µ—Å—Ç 3: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –Ω–∞ **TEST**
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 —Å–µ–∫—É–Ω–¥—ã
3. ‚úÖ –ë–∞–ª–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º
4. –ù–∞–∂–º–∏—Ç–µ F5
5. ‚úÖ –†–µ–∂–∏–º **TEST** –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è

## –í–∞–∂–Ω–æ!

### –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à—ë–Ω:**
   ```powershell
   Get-Process | Where-Object {$_.CommandLine -like "*mTrade.py*"} | Stop-Process -Force
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
   - –í –æ–∫–Ω–µ PowerShell –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   [BOOT] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞...
   [NETWORK] –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —Å–µ—Ç–∏ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ state_manager: test
   [INIT] AutoTrade –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ state_manager: OFF
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5000
   - –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:5000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª app_state.json:**
   - –î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å JSON —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç - –æ–Ω —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- ‚úèÔ∏è `mTrade.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 5 –Ω–æ–≤—ã—Ö API –º–∞—Ä—à—Ä—É—Ç–æ–≤

## –°—Ç–∞—Ç—É—Å

‚úÖ **API –ú–ê–†–®–†–£–¢–´ –î–û–ë–ê–í–õ–ï–ù–´**

–¢–µ–ø–µ—Ä—å –≤—Å–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –∏ —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

**–î–∞—Ç–∞:** 12 –Ω–æ—è–±—Ä—è 2025 –≥.
