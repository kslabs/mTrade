# ‚úÖ –ü–†–û–í–ï–†–ö–ê –¢–ò–ü–û–í –û–†–î–ï–†–û–í - –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–Å–¢

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2024-12-XX
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´

---

## üìã –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫—É–ø–∫–∏ (—Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞ —Ü–∏–∫–ª–∞)
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `MARKET`-–æ—Ä–¥–µ—Ä–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏—é.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ö–æ–¥:** `autotrader_v2.py`, —Å—Ç—Ä–æ–∫–∞ 672
```python
order = api_client.create_spot_order(
    currency_pair=currency_pair,
    side='buy',
    order_type='market',  # ‚úÖ MARKET –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–æ–∫—É–ø–∫–∏
    amount=str(required_usdt)
)
```

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MARKET-–æ—Ä–¥–µ—Ä –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –±–µ—Ä—ë—Ç—Å—è –†–ï–ê–õ–¨–ù–ê–Ø —Ü–µ–Ω–∞ –∏–∑ `avg_deal_price`
- –¢–∞–±–ª–∏—Ü–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π –ø–æ–∫—É–ø–∫–∏

---

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –î–æ–ª–∂–Ω—ã –±—ã—Ç—å `LIMIT`-–æ—Ä–¥–µ—Ä–∞–º–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π `target_sell_price` (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏).

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ö–æ–¥:** `autotrader_v2.py`, —Å—Ç—Ä–æ–∫–∞ 983
```python
order = api_client.create_spot_order(
    currency_pair=currency_pair,
    side='sell',
    order_type='limit',  # ‚úÖ LIMIT –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
    amount=str(available_base),
    price=str(target_sell_price)  # ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
)
```

**–õ–æ–≥–∏–∫–∞:**
- `target_sell_price` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –æ—Ç `start_price` (—Ü–µ–Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏)
- –§–æ—Ä–º—É–ª–∞: `target_sell_price = start_price * (1 + target_delta_pct / 100.0)`
- LIMIT-–æ—Ä–¥–µ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –¢–û–õ–¨–ö–û –ø–æ —Ü–µ–Ω–µ >= `target_sell_price`
- –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –Ω–∏–∂–µ `target_sell_price`, –æ—Ä–¥–µ—Ä –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∫–Ω–∏–≥–µ –∑–∞—è–≤–æ–∫
- –û—Ä–¥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç—Å—è, –∫–æ–≥–¥–∞ —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –¥–æ `target_sell_price` –∏–ª–∏ –≤—ã—à–µ

---

## üîç –ü–†–û–í–ï–†–ö–ê –î–†–£–ì–ò–• –§–ê–ô–õ–û–í

### handlers\quick_trades.py (—Ä—É—á–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
**–ù–∞–π–¥–µ–Ω–æ:**
- –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: `order_type='limit'`
- –ë–æ–µ–≤–æ–π —Ä–µ–∂–∏–º: `order_type='market'`

**–í—ã–≤–æ–¥:** ‚úÖ **–ù–ï –í–õ–ò–Ø–ï–¢ –ù–ê –ê–í–¢–û–¢–†–ï–ô–î–ï–†**
- –§–∞–π–ª `quick_trades.py` –ù–ï –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `autotrader_v2.py`
- –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä—É—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ —Ü–µ–Ω–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –ü–†–û–î–ê–ñ –ù–ò–ñ–ï –¶–ï–ù–´ –ü–û–ö–£–ü–ö–ò

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞ (—Å—Ç—Ä–æ–∫–∏ 930-960)
```python
# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–©–ò–¢–ê: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –ø–æ —Ü–µ–Ω–µ –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ –Ω–∏–∂–µ!
if target_sell_price <= cycle.start_price:
    print(f"[{base}] ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: target_sell_price ({target_sell_price:.8f}) <= start_price ({cycle.start_price:.8f})")
    print(f"[{base}] ‚ùå –ü—Ä–æ–¥–∞–∂–∞ –û–¢–ú–ï–ù–ï–ù–ê –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —É–±—ã—Ç–∫–æ–≤!")
    return
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ (—Å—Ç—Ä–æ–∫–∏ 1040-1055)
```python
# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê: –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å >= target_sell_price
if executed_price < target_sell_price:
    print(f"[{base}] ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è ({executed_price:.8f}) –Ω–∏–∂–µ —Ü–µ–ª–µ–≤–æ–π ({target_sell_price:.8f})")
    print(f"[{base}] ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –æ—à–∏–±–∫–∞ API –∏–ª–∏ slippage")
    print(f"[{base}] ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏ –æ—Ä–¥–µ—Ä –Ω–∞ –±–∏—Ä–∂–µ!")
else:
    print(f"[{base}] ‚úÖ –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è >= —Ü–µ–ª–µ–≤–æ–π (–∑–∞—â–∏—Ç–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞)")
```

---

## üìä –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É (—Å—Ç—Ä–æ–∫–∏ 965-976)
```python
print(f"[{base}] üîµ =============== –ü–ê–†–ê–ú–ï–¢–†–´ –ó–ê–ü–†–û–°–ê –ù–ê –ü–†–û–î–ê–ñ–£ ===============")
print(f"[{base}]   –ü–∞—Ä–∞: {currency_pair}")
print(f"[{base}]   –°—Ç–æ—Ä–æ–Ω–∞: SELL")
print(f"[{base}]   –¢–∏–ø –æ—Ä–¥–µ—Ä–∞: LIMIT")
print(f"[{base}]   –ö—É—Ä—Å (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞): {target_sell_price:.8f} {quote}")
print(f"[{base}]   –û–±—ä—ë–º: {available_base:.8f} {base}")
print(f"[{base}]   –°—Ç–æ–∏–º–æ—Å—Ç—å: ~{available_base * target_sell_price:.4f} {quote}")
print(f"[{base}]   –ò—Å—Ö–æ–¥–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏: {cycle.start_price:.8f} {quote}")
print(f"[{base}]   –¶–µ–ª–µ–≤–∞—è –¥–µ–ª—å—Ç–∞ (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã): {target_delta_pct:.2f}%")
print(f"[{base}]   –¢—Ä–µ–±—É–µ–º–∞—è –¥–µ–ª—å—Ç–∞ (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã): {target_delta_pct:.2f}%")
print(f"[{base}]   –û–∂–∏–¥–∞–µ–º–∞—è –≤—ã—Ä—É—á–∫–∞: >={available_base * target_sell_price:.4f} {quote}")
print(f"[{base}] üîµ =====================================================")
```

### –ú–∞—Ä–∫–µ—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–æ–¥–∞–∂–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏: `[AUTO_SELL]`
- –†—É—á–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏: `[MANUAL_SELL_ALL]`

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

### –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

1. ‚úÖ **–°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞** ‚Äî MARKET-–æ—Ä–¥–µ—Ä (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, –±—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥)
2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–¥–∞–∂–∞** ‚Äî LIMIT-–æ—Ä–¥–µ—Ä —Å —Ü–µ–Ω–æ–π = `target_sell_price` (–≥–∞—Ä–∞–Ω—Ç–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã)
3. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç —É–±—ã—Ç–∫–æ–≤** ‚Äî –¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞ –∏ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è)
4. ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–∂–¥–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
5. ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è** ‚Äî —Ä—É—á–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä

### –ì–∞—Ä–∞–Ω—Ç–∏–∏:
- ‚ùå –ü—Ä–æ–¥–∞–∂–∞ –ø–æ —Ü–µ–Ω–µ <= start_price **–ù–ï–í–û–ó–ú–û–ñ–ù–ê** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞)
- ‚ùå –ü—Ä–æ–¥–∞–∂–∞ –ø–æ —Ü–µ–Ω–µ < target_sell_price **–ù–ï–í–û–ó–ú–û–ñ–ù–ê** (LIMIT-–æ—Ä–¥–µ—Ä API –±–∏—Ä–∂–∏)
- ‚úÖ –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–°–¢–†–û–ì–û –ø–æ —Ü–µ–ª–µ–≤–æ–π –¥–µ–ª—å—Ç–µ** –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
- ‚úÖ –ï—Å–ª–∏ —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –Ω–∏–∂–µ —Ü–µ–ª–µ–≤–æ–π, –æ—Ä–¥–µ—Ä **–æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∫–Ω–∏–≥–µ –∑–∞—è–≤–æ–∫** –¥–æ –ª—É—á—à–∏—Ö —É—Å–ª–æ–≤–∏–π

---

## üß™ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –≤ –±–æ–µ–≤–æ–º —Ä–µ–∂–∏–º–µ
2. ‚úÖ –ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –ø—Ä–æ–¥–∞–∂ (–∏—Å–∫–∞—Ç—å –º–∞—Ä–∫–µ—Ä `[AUTO_SELL]`)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞:
   - –°–æ–∑–¥–∞—ë—Ç LIMIT-–æ—Ä–¥–µ—Ä
   - –£–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–µ–Ω—É >= `target_sell_price`
   - –í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ª–æ–≥–∏
4. ‚úÖ –ï—Å–ª–∏ LIMIT-–æ—Ä–¥–µ—Ä –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è —Å—Ä–∞–∑—É ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
   - –û—Ä–¥–µ—Ä –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∫–Ω–∏–≥–µ –∑–∞—è–≤–æ–∫
   - –ò—Å–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã

### –í–Ω–∏–º–∞–Ω–∏–µ:
- –ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è `‚ö†Ô∏è –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∏–∂–µ —Ü–µ–ª–µ–≤–æ–π` ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ API –±–∏—Ä–∂–∏!
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä–¥–µ—Ä –Ω–∞ –±–∏—Ä–∂–µ –∏ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É –±–∏—Ä–∂–∏

---

**–ü—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–æ–≤—ë–ª:** GitHub Copilot  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ù–ï–î–†–ï–ù–´ –ö–û–†–†–ï–ö–¢–ù–û  
**–°—Ç–∞—Ç—É—Å:** –ì–û–¢–û–í–û –ö –≠–ö–°–ü–õ–£–ê–¢–ê–¶–ò–ò
