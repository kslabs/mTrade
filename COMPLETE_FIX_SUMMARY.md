# –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏

## –î–∞—Ç–∞: 2024-01-XX

## –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê

–ë—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã **–î–í–ï –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**, –∫–æ—Ç–æ—Ä—ã–µ –≤–º–µ—Å—Ç–µ –ø—Ä–∏–≤–æ–¥–∏–ª–∏ –∫ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–º –ø–æ–∫—É–ø–∫–∞–º –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## –ü–†–û–ë–õ–ï–ú–ê #1: –¶–∏–∫–ª –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë"), —Ü–∏–∫–ª –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞ **–Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è** –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ IDLE, –∏–∑-–∑–∞ —á–µ–≥–æ:
- –ê–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä —Å—á–∏—Ç–∞–ª, —á—Ç–æ —Ü–∏–∫–ª –≤—Å—ë –µ—â—ë –∞–∫—Ç–∏–≤–µ–Ω
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞—á–∏–Ω–∞–ª –Ω–æ–≤—É—é —Å—Ç–∞—Ä—Ç–æ–≤—É—é –ø–æ–∫—É–ø–∫—É
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Å–µ—Ä–∏–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫

### –†–µ—à–µ–Ω–∏–µ
**–§–∞–π–ª**: `autotrader_v2.py`

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `force_reset_cycle()`:
```python
def force_reset_cycle(self, currency: str, reason: str = "manual_action"):
    """
    –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–±—Ä–æ—Å —Ü–∏–∫–ª–∞ –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏.
    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç state=IDLE, last_sell_at –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
    """
    currency = currency.upper()
    if currency not in self.cycles:
        return
    
    current_time = time.time()
    
    self.cycles[currency].update({
        'active': False,
        'active_step': -1,
        'last_buy_price': 0.0,
        'start_price': 0.0,
        'total_invested_usd': 0.0,
        'base_volume': 0.0,
        'pending_start': False,
        'last_sell_time': current_time,
        'last_start_attempt': 0
    })
    
    print(f"üî¥ –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ô –°–ë–†–û–° –¶–ò–ö–õ–ê (–ø—Ä–∏—á–∏–Ω–∞: {reason})")
    print(f"   –í–∞–ª—é—Ç–∞: {currency}")
    print(f"   –í—Ä–µ–º—è: {current_time}")
    
    self._save_cycles_state()
    self._set_last_diagnostic(currency, {
        'decision': 'force_reset',
        'timestamp': current_time,
        'reason': reason
    })
```

**–§–∞–π–ª**: `handlers/quick_trades.py`

–î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `force_reset_cycle` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ (—Å—Ç—Ä–æ–∫–∏ ~502-550):
```python
# –ï—Å–ª–∏ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –∑–∞–ø—É—â–µ–Ω ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä–æ–µ–º —Ü–∏–∫–ª –¥–ª—è —ç—Ç–æ–π –≤–∞–ª—é—Ç—ã
try:
    import mTrade
    import time as time_module
    at = getattr(mTrade, 'AUTO_TRADER', None)
    if at and hasattr(at, 'cycles'):
        b = base_currency.upper()
        if b in at.cycles:
            current_time = time_module.time()
            
            at.cycles[b].update({
                'active': False,
                'active_step': -1,
                'last_buy_price': 0.0,
                'start_price': 0.0,
                'total_invested_usd': 0.0,
                'base_volume': 0.0,
                'pending_start': False,
                'last_sell_time': current_time,
                'last_start_attempt': 0
            })
            
            print(f"[MANUAL_SELL][{b}] –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏: active=False, last_sell_time={current_time}")
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            if hasattr(at, '_save_cycles_state'):
                at._save_cycles_state()
                print(f"[MANUAL_SELL][{b}] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ")
except Exception as e:
    print(f"[MANUAL_SELL_ERROR] –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Ü–∏–∫–ª–∞: {e}")
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `TEST_MANUAL_SELL_FIX.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã #1 –∏ –µ—ë —Ä–µ—à–µ–Ω–∏—è

---

## –ü–†–û–ë–õ–ï–ú–ê #2: –ü—Ä–æ–¥–∞–∂–∏ –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ trade_logs

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø–∏—Å–∏ –≤ `trade_logs/*.jsonl` **–ù–ï —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å**, –∏–∑-–∑–∞ —á–µ–≥–æ:
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–≥–ª–∞ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª –±—ã–ª –∑–∞–≤–µ—Ä—à—ë–Ω –ø—Ä–æ–¥–∞–∂–µ–π
- –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –±—ã–ª –Ω–µ–ø–æ–ª–Ω—ã–º
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ä—É—á–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂–∞—Ö

### –ü—Ä–∏—á–∏–Ω–∞
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `filled_base > 0`**, –Ω–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏ –∏–ª–∏ –ø—Ä–∏ —Ä—ã–Ω–æ—á–Ω—ã—Ö –æ—Ä–¥–µ—Ä–∞—Ö `filled_base` –º–æ–≥ –±—ã—Ç—å 0, –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Ä–¥–µ—Ä –±—ã–ª —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω.

### –†–µ—à–µ–Ω–∏–µ
**–§–∞–π–ª**: `handlers/quick_trades.py` (—Å—Ç—Ä–æ–∫–∏ ~485-497)

**–ë–´–õ–û**:
```python
if filled_base and filled_base > 0:
    trade_logger = get_trade_logger()
    trade_logger.log_sell(currency=base_currency, volume=filled_base, price=best_bid, delta_percent=0.0, pnl=0.0)
else:
    diagnostic_info['error_stage'] = 'not_filled'
```

**–°–¢–ê–õ–û**:
```python
# –ö–†–ò–¢–ò–ß–ù–û: –í—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä—É–µ–º –ø—Ä–æ–¥–∞–∂—É, –¥–∞–∂–µ –µ—Å–ª–∏ filled_base=0
volume_to_log = filled_base if filled_base > 0 else amount
trade_logger = get_trade_logger()
trade_logger.log_sell(
    currency=base_currency, 
    volume=volume_to_log, 
    price=best_bid, 
    delta_percent=0.0, 
    pnl=0.0
)
print(f"[TRADE_LOG] –ü—Ä–æ–¥–∞–∂–∞ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞: {base_currency}, volume={volume_to_log}, price={best_bid}")
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `FIX_MISSING_TRADE_LOGS.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã #2 –∏ –µ—ë —Ä–µ—à–µ–Ω–∏—è

---

## –û–ë–™–ï–î–ò–ù–Å–ù–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†—É—á–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∫—É–ø–∫—É —á–µ—Ä–µ–∑ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä—É—á–Ω—É—é –ø—Ä–æ–¥–∞–∂—É —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë")
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å:
   ```
   [TRADE_LOG] –ü—Ä–æ–¥–∞–∂–∞ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞: BTC, volume=0.001, price=43000
   [MANUAL_SELL][BTC] –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏: active=False, last_sell_time=1234567890.123
   [MANUAL_SELL][BTC] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ
   ```

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `trade_logs/BTC_logs.jsonl`:
   ```json
   {"action":"BUY","timestamp":"2024-01-15T10:00:00","step":0,"price":43000,"volume":0.001}
   {"action":"SELL","timestamp":"2024-01-15T10:00:30","price":43000,"volume":0.001,"delta_percent":0.0,"pnl":0.0}
   ```

6. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ù–ï–¢ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†—É—á–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

1. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ 1-6 –∏–∑ –°—Ü–µ–Ω–∞—Ä–∏—è 1
2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –±–∏—Ä–∂–µ, —á—Ç–æ –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–∞–ª—é—Ç—ã

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä—É—á–Ω—É—é –ø—Ä–æ–¥–∞–∂—É –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞–ª—é—Ç –ø–æ–¥—Ä—è–¥
2. –î–ª—è –∫–∞–∂–¥–æ–π –≤–∞–ª—é—Ç—ã –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –ï—Å—Ç—å –∑–∞–ø–∏—Å—å –≤ `trade_logs/{CURRENCY}_logs.jsonl`
   - ‚úÖ –í –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å `[TRADE_LOG]` –∏ `[MANUAL_SELL]`
   - ‚ùå –ù–ï–¢ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç

---

## –†–ï–ó–£–õ–¨–¢–ê–¢: –î–û –∏ –ü–û–°–õ–ï

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
# –ö–æ–Ω—Å–æ–ª—å:
[BUY] BTC: –ü–æ–∫—É–ø–∫–∞ step=0, price=43000
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë"]
# –ù–ï–¢ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏
# –ù–ï–¢ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–±—Ä–æ—Å–µ —Ü–∏–∫–ª–∞
[BUY] BTC: –ü–æ–∫—É–ø–∫–∞ step=0, price=43100  ‚ùå –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–∫—É–ø–∫–∞!
[BUY] BTC: –ü–æ–∫—É–ø–∫–∞ step=0, price=43200  ‚ùå –ï—â—ë –æ–¥–Ω–∞!

# trade_logs/BTC_logs.jsonl:
{"action":"BUY","timestamp":"2024-01-15T10:00:00","step":0,"price":43000,"volume":0.001}
# –ù–ï–¢ –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–æ–¥–∞–∂–µ ‚ùå
{"action":"BUY","timestamp":"2024-01-15T10:01:00","step":0,"price":43100,"volume":0.001}
{"action":"BUY","timestamp":"2024-01-15T10:02:00","step":0,"price":43200,"volume":0.001}
```

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
# –ö–æ–Ω—Å–æ–ª—å:
[BUY] BTC: –ü–æ–∫—É–ø–∫–∞ step=0, price=43000
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–¥–∞—Ç—å –≤—Å—ë"]
[TRADE_LOG] –ü—Ä–æ–¥–∞–∂–∞ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞: BTC, volume=0.001, price=43000  ‚úÖ
[MANUAL_SELL][BTC] –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏: active=False, last_sell_time=1234567890.123  ‚úÖ
[MANUAL_SELL][BTC] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ  ‚úÖ
# –ù–ï–¢ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ ‚úÖ

# trade_logs/BTC_logs.jsonl:
{"action":"BUY","timestamp":"2024-01-15T10:00:00","step":0,"price":43000,"volume":0.001}
{"action":"SELL","timestamp":"2024-01-15T10:00:30","price":43000,"volume":0.001,"delta_percent":0.0,"pnl":0.0}  ‚úÖ
# –ù–ï–¢ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ ‚úÖ
```

---

## –§–ê–ô–õ–´ –ò–ó–ú–ï–ù–ï–ù–´

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. ‚úÖ `autotrader_v2.py` - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `force_reset_cycle()`
2. ‚úÖ `handlers/quick_trades.py` (—Å—Ç—Ä–æ–∫–∏ ~485-497) - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
3. ‚úÖ `handlers/quick_trades.py` (—Å—Ç—Ä–æ–∫–∏ ~502-550) - –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `force_reset_cycle` –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. ‚úÖ `TEST_MANUAL_SELL_FIX.md` - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã #1 (—Å–±—Ä–æ—Å —Ü–∏–∫–ª–∞)
2. ‚úÖ `FIX_MISSING_TRADE_LOGS.md` - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã #2 (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂)
3. ‚úÖ `COMPLETE_FIX_SUMMARY.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞)

---

## –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### PowerShell –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```powershell
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ —Å–¥–µ–ª–æ–∫:
Get-Content -Path "trade_logs\BTC_logs.jsonl" -Tail 20 -Wait

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –ª–æ–≥–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
Get-Content -Path "trade_logs\*_logs.jsonl" -Tail 50 -Wait | Select-String "SELL|BUY"

# –ü–æ–∏—Å–∫ —Ä—É—á–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂ –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ —Ñ–∞–π–ª):
Get-Content -Path "server.log" -Wait | Select-String "MANUAL_SELL|TRADE_LOG"
```

### –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏:

–ü–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ –í –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `[TRADE_LOG] –ü—Ä–æ–¥–∞–∂–∞ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞`
- ‚úÖ –í –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ `[MANUAL_SELL][XXX] –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω`
- ‚úÖ –í `trade_logs/{CURRENCY}_logs.jsonl` –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å —Å `"action":"SELL"`
- ‚úÖ –§–∞–π–ª `autotrader_cycles_state.json` –æ–±–Ω–æ–≤–ª—ë–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `last_sell_time`)
- ‚ùå –í —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç –ù–ï–¢ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π `"action":"BUY"` —Å `"step":0`

---

## –°–¢–ê–¢–£–°: ‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

–û–±–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
1. ‚úÖ –¶–∏–∫–ª –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏
2. ‚úÖ –í—Å–µ –ø—Ä–æ–¥–∞–∂–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `trade_logs/*.jsonl`

**–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏.**

---

## –î–ê–õ–¨–ù–ï–ô–®–ò–ï –®–ê–ì–ò (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã**: –°–æ–∑–¥–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–±—Ä–æ—Å–∞ —Ü–∏–∫–ª–∞
2. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**: –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Å–±—Ä–æ—Å–∞ —Ü–∏–∫–ª–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ —Å–±—Ä–æ—Å–µ —Ü–∏–∫–ª–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

---

## –ö–û–ù–¢–ê–ö–¢–´ –ò –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —ç—Ç–∏–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—Å–º. —Ä–∞–∑–¥–µ–ª "–§–ê–ô–õ–´ –ò–ó–ú–ï–ù–ï–ù–´")
2. –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º `trade_logs/*.jsonl` –∏ `autotrader_cycles_state.json`
4. –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º, —Å–æ–±–µ—Ä–∏—Ç–µ:
- –õ–æ–≥–∏ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `trade_logs/{CURRENCY}_logs.jsonl` (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `autotrader_cycles_state.json`
- –°–∫—Ä–∏–Ω—à–æ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–±–ª–µ–º—ã
