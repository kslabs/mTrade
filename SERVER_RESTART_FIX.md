# üîÑ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

**–î–∞—Ç–∞**: 10 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞" –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–∞–ª—Å—è, –Ω–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –∑–∞–Ω–æ–≤–æ.

### –ü—Ä–∏—á–∏–Ω–∞
–§—É–Ω–∫—Ü–∏—è `server_restart()` –≤ `mTrade.py` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ Windows.

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ:

```python
# –°—Ç–∞—Ä—ã–π –∫–æ–¥ (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª):
subprocess.Popen(['cmd', '/c', 'start', '"mTrade Restart"', bat_to_run], shell=False)

# –ù–æ–≤—ã–π –∫–æ–¥ (—Ä–∞–±–æ—Ç–∞–µ—Ç):
subprocess.Popen(
    f'start "mTrade Server" cmd /c "{bat_file}"',
    shell=True,
    cwd=app_dir
)
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–ø—É—Å–∫–∞:

1. **START.bat** (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `cmd /c`
2. **restart.py** (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å CREATE_NEW_CONSOLE
3. **mTrade.py** (–ø—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫) - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ cmd

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –°–ø–æ—Å–æ–± 1: –ö–Ω–æ–ø–∫–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ ‚úÖ

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000/
2. –ù–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞"
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É
4. –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ó–∞–≤–µ—Ä—à–∏—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å
   - –ó–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ
   - –ß–µ—Ä–µ–∑ 3-5 —Å–µ–∫—É–Ω–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Å–Ω–æ–≤–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥.

### –°–ø–æ—Å–æ–± 2: PowerShell —Å–∫—Ä–∏–ø—Ç

```powershell
python restart.py
```

### –°–ø–æ—Å–æ–± 3: –ë–∞—Ç–Ω–∏–∫

```batch
START.bat
```

### –°–ø–æ—Å–æ–± 4: –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python stop.py

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã
Start-Sleep -Seconds 2

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python start.py
```

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

### –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è?

**–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**
```powershell
python status.py
```

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ PID —Ñ–∞–π–ª–∞**
```powershell
if (Test-Path "mtrade_server.pid") {
    "PID —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
    Get-Content "mtrade_server.pid"
} else {
    "PID —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç - —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω"
}
```

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ Python**
```powershell
Get-Process python -ErrorAction SilentlyContinue
```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 5000**
```powershell
netstat -ano | findstr ":5000"
```

### –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ü—Ä–æ–±–ª–µ–º–∞ 1: –ú—ë—Ä—Ç–≤—ã–π PID —Ñ–∞–π–ª**
```powershell
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π PID —Ñ–∞–π–ª
Remove-Item "mtrade_server.pid" -Force

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∑–∞–Ω–æ–≤–æ
python start.py
```

**–ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–æ—Ä—Ç 5000 –∑–∞–Ω—è—Ç**
```powershell
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 5000
netstat -ano | findstr ":5000"

# –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π)
taskkill /F /PID <PID>

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python start.py
```

**–ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Python**
```powershell
# –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Python (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
Get-Process python | Stop-Process -Force

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python start.py
```

---

## üìã –ñ–£–†–ù–ê–õ –ò–ó–ú–ï–ù–ï–ù–ò–ô

### v1.8.1 (10 –Ω–æ—è–±—Ä—è 2025)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `server_restart()` —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä—ë—Ö —Å–ø–æ—Å–æ–±–æ–≤ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (START.bat, restart.py, –ø—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–§–∞–π–ª:** `mTrade.py` (—Å—Ç—Ä–æ–∫–∏ 360-391)

**–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 900 —Å—Ç—Ä–æ–∫ (–±—ã–ª–æ 880)

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```powershell
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python start.py

# 2. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5000/

# 3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫"

# 4. –ü–æ–¥–æ–∂–¥–∞—Ç—å 5 —Å–µ–∫—É–Ω–¥

# 5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ API –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

```powershell
# –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
Start-Sleep -Seconds 5
curl.exe http://localhost:5000/version

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ—Ä–≤–µ—Ä–µ
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª server.log
Get-Content server.log -Tail 20

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:
# [RESTART] –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞...
# [RESTART] –ó–∞–ø—É—â–µ–Ω –±–∞—Ç–Ω–∏–∫: C:\...\START.bat
# [INIT] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebSocket –º–µ–Ω–µ–¥–∂–µ—Ä–∞...
```

---

## ‚ú® –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ START.bat** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
   ```batch
   @echo off
   python mTrade.py
   pause
   ```

2. **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞** –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞

3. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ API

4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
   ```powershell
   Get-Content server.log -Tail 50
   ```

5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ status.py** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
   ```powershell
   python status.py
   ```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è:

1. –°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
   ```powershell
   python status.py > status_report.txt
   Get-Content server.log -Tail 50 >> status_report.txt
   Get-Process python >> status_report.txt
   netstat -ano | findstr ":5000" >> status_report.txt
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `status_report.txt`

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:
   ```powershell
   python stop.py
   Start-Sleep -Seconds 2
   python start.py
   ```

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞  
**–í–µ—Ä—Å–∏—è**: 1.8.1  
**–î–∞—Ç–∞**: 10 –Ω–æ—è–±—Ä—è 2025

---

_–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!_ üéâ
