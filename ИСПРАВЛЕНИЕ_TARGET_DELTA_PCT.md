# –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ target_delta_pct –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞

## üö® –ü–†–û–ë–õ–ï–ú–ê

**–ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–õ–û:**
- –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ (step 0) –≤ —Ç–∞–±–ª–∏—Ü–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `breakeven_pct = 0.0`
- –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–ª —É—Å–ª–æ–≤–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –ø–æ `breakeven_pct`
- –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ —Ç—Ä–µ–±–æ–≤–∞–ª—Å—è —Ä–æ—Å—Ç **0%**, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–æ –∏–∑-–∑–∞ –∫–æ–º–∏—Å—Å–∏–π
- **–†–ï–ó–£–õ–¨–¢–ê–¢:** –ü–µ—Ä–≤—ã–π —à–∞–≥ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–æ–¥–∞–≤–∞–ª—Å—è!

**–ü–†–ò–ú–ï–†:**
```json
{
  "step": 0,
  "breakeven_pct": 0.0,       ‚Üê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å —ç—Ç–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!)
  "target_delta_pct": 0.45    ‚Üê –î–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–æ!
}
```

## ‚úÖ –†–ï–®–ï–ù–ò–ï

**–ß–¢–û –ò–ó–ú–ï–ù–ï–ù–û:**
–í –º–µ—Ç–æ–¥–µ `_try_sell()` —Å—Ç—Ä–æ–∫–∞ 1224:

**–ë–´–õ–û:**
```python
required_growth_pct = float(params_row.get('breakeven_pct', 0))
```

**–°–¢–ê–õ–û:**
```python
# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º target_delta_pct –≤–º–µ—Å—Ç–æ breakeven_pct
# –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ breakeven_pct=0, –Ω–æ target_delta_pct —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ü–µ–ª–µ–≤–æ–π —Ä–æ—Å—Ç
required_growth_pct = float(params_row.get('target_delta_pct', params_row.get('breakeven_pct', 0)))
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

**–î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
- XRP —Ü–∏–∫–ª step 0: Required growth = **0.0%**
- –¢–µ–∫—É—â–∏–π —Ä–æ—Å—Ç: **1.39%**
- –ü—Ä–æ–¥–∞–∂–∞ **–ù–ï –ü–†–û–ò–°–•–û–î–ò–õ–ê** (–ø–æ—Ç–æ–º—É —á—Ç–æ 0% - —ç—Ç–æ –±–µ–∑—É–±—ã—Ç–æ–∫ –±–µ–∑ —É—á—ë—Ç–∞ –∫–æ–º–∏—Å—Å–∏–π)

**–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
- XRP —Ü–∏–∫–ª step 0: Required growth = **0.45%**
- –¢–µ–∫—É—â–∏–π —Ä–æ—Å—Ç: **1.39%**
- –ü—Ä–æ–¥–∞–∂–∞ **–î–û–õ–ñ–ù–ê –ü–†–û–ò–ó–û–ô–¢–ò** ‚úÖ (1.39% > 0.45%)

## üîç –õ–û–ì–ò–ö–ê –ü–û–õ–ï–ô

| –ü–æ–ª–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä Step 0 | –ü—Ä–∏–º–µ—Ä Step 1 |
|------|-----------|---------------|---------------|
| `breakeven_pct` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç –¥–ª—è –±–µ–∑—É–±—ã—Ç–∫–∞ (–±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏) | 0.0% | 0.31% |
| `target_delta_pct` | **–¶–µ–ª–µ–≤–æ–π —Ä–æ—Å—Ç —Å —É—á—ë—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π –∏ –∑–∞–ø–∞—Å–∞** | **0.45%** | **0.75%** |

**–ü–†–ê–í–ò–õ–û:**
- –î–ª—è –ø—Ä–æ–¥–∞–∂–∏ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `target_delta_pct`, –∞ –ù–ï `breakeven_pct`!
- `breakeven_pct` - —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∏–Ω–∏–º—É–º –ë–ï–ó –∫–æ–º–∏—Å—Å–∏–π
- `target_delta_pct` - —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Ü–µ–ª–µ–≤–æ–π –ø–æ—Ä–æ–≥ –° –∫–æ–º–∏—Å—Å–∏—è–º–∏ –∏ –∑–∞–ø–∞—Å–æ–º

## ‚öôÔ∏è –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

```python
# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: target_delta_pct > breakeven_pct > 0
required_growth_pct = float(params_row.get('target_delta_pct', params_row.get('breakeven_pct', 0)))
```

1. **–°–Ω–∞—á–∞–ª–∞** –ø—ã—Ç–∞–µ—Ç—Å—è –≤–∑—è—Ç—å `target_delta_pct` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
2. **–ï—Å–ª–∏ –Ω–µ—Ç** - –±–µ—Ä—ë—Ç `breakeven_pct` (fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
3. **–ï—Å–ª–∏ –Ω–µ—Ç** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 0 (default)

## üéØ –í–õ–ò–Ø–ù–ò–ï

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∞–∫—Ç–∏–≤—ã:**
- ‚úÖ **XRP** - —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –ø—Ä–æ–¥–∞–≤–∞—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ 0.45%
- ‚úÖ **ETH** - –µ—Å–ª–∏ –µ—Å—Ç—å step 0, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- ‚úÖ **–í—Å–µ –ø—Ä–æ—á–∏–µ –∞–∫—Ç–∏–≤—ã** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —à–∞–≥–∏:**
- ‚úÖ **Step 0** (–ø–µ—Ä–≤—ã–π —à–∞–≥) - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û
- ‚úÖ **Step 1+** - –¥–ª—è –Ω–∏—Ö `breakeven_pct` —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –Ω–æ `target_delta_pct` –ª—É—á—à–µ

## üìù –ü–†–û–í–ï–†–ö–ê

**–î–ª—è XRP:**
```bash
python debug_xrp_sell_v3.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Required growth –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å **0.45%** –≤–º–µ—Å—Ç–æ **0.0%**
- –ü—Ä–∏ —Ç–µ–∫—É—â–µ–º —Ä–æ—Å—Ç–µ 1.39% –ø—Ä–æ–¥–∞–∂–∞ –î–û–õ–ñ–ù–ê –ø—Ä–æ–∏–∑–æ–π—Ç–∏

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä** - —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –≤ –ø–∞–º—è—Ç–∏ –Ω–µ –æ–±–Ω–æ–≤–∏—Ç—Å—è
2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏** `[XRP] _try_sell` - –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   [XRP] üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–¥–∞–∂–∏:
   [XRP]   Required growth: 0.4500%  ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0.45%, –∞ –Ω–µ 0.0%
   [XRP] ‚úÖ –£—Å–ª–æ–≤–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!
   ```
3. **–ï—Å–ª–∏ FOK –æ—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è** - —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ IOC –∏–ª–∏ MARKET

## üìÖ –ò–°–¢–û–†–ò–Ø

- **–ö–æ–≥–¥–∞:** 2025-01-XX
- **–ß—Ç–æ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ—Ä–æ–≥–∞ –ø—Ä–æ–¥–∞–∂–∏
- **–ü–æ—á–µ–º—É:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `breakeven_pct=0` –≤–º–µ—Å—Ç–æ `target_delta_pct=0.45` –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä–≤—ã–π —à–∞–≥ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–≥–æ —Ä–æ—Å—Ç–∞
