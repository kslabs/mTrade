# โ ะะะะะะะ ะะะะงะะะ: XRP5L ะฝะต ะฟัะพะดะฐัั ะธะท-ะทะฐ orderbook_level = 0.26

## ๐ ะะะะะะะกะขะะะ

### **ะะฐะฝะฝัะต ะธะท ะธะฝัะตััะตะนัะฐ:**
```
ะขะตะบััะฐั ัะตะฝะฐ: 0.04697
Required price: 0.04691015
ะฃัะปะพะฒะธะต ะฒัะฟะพะปะฝะตะฝะพ: 0.04697 >= 0.04691015 โ
ะะพ ะฟัะพะดะฐะถะฐ ะะ ะฟัะพะธััะพะดะธั!
```

### **ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ัะธะบะปะฐ:**
```python
active: True
active_step: 0
_selling_in_progress: False
```
โ ะฆะธะบะป ะฐะบัะธะฒะตะฝ, ะฟัะพะดะฐะถะฐ ะะ ะฒ ะฟัะพัะตััะต

### **ะัะพะฒะตัะบะฐ ะฟะฐัะฐะผะตััะพะฒ:**
```python
orderbook_level: 0.26  โ โ ะะะะะะะะ!
pprof: 0.45
```

---

## โ ะะะะะะะะ

**`orderbook_level = 0.26`** โ ััะพ **ะะ ัะตะปะพะต ัะธัะปะพ**!

### **ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั ะฒ ะบะพะดะต:**

1. ะะฒัะพััะตะนะดะตั ัะธัะฐะตั `orderbook_level` ะธะท ะฟะฐัะฐะผะตััะพะฒ โ **0.26**
2. ะ ะบะพะดะต:
   ```python
   table_orderbook_level = int(row.get('orderbook_level', 1))
   orderbook_level = max(0, table_orderbook_level - 1)
   ```
3. `int(0.26)` = **0**
4. `0 - 1` = **-1**
5. `max(0, -1)` = **0**

**ะะตะทัะปััะฐั:** ะะตััััั **0-ะน ััะพะฒะตะฝั ััะฐะบะฐะฝะฐ** (top bid, ัะฐะผะฐั ะฒััะพะบะฐั ัะตะฝะฐ ะฟะพะบัะฟะบะธ).

### **ะะพัะตะผั ะฟัะพะดะฐะถะฐ ะฝะต ะฟัะพะธััะพะดะธั:**

ะะฒัะพััะตะนะดะตั ะฟัะพะฒะตััะตั 2 ััะปะพะฒะธั:
1. โ Ticker price >= required_price (0.04697 >= 0.04691015) โ **ะะซะะะะะะะ**
2. โ **Orderbook price >= required_price** โ **ะะะะะข ะะ ะะซะะะะะฏะขะฌะกะฏ**

ะัะปะธ ะฝะฐ 0-ะผ ััะพะฒะฝะต ััะฐะบะฐะฝะฐ (top bid) ัะตะฝะฐ **ะฝะธะถะต 0.04691015**, ะฟัะพะดะฐะถะฐ ะฑะปะพะบะธััะตััั ะดะปั ะทะฐัะธัั ะพั ัะฑััะบะฐ.

---

## ๐ง ะะะจะะะะ

### **ะะฐัะธะฐะฝั 1: ะัะฟัะฐะฒะธัั orderbook_level ะฝะฐ ัะตะปะพะต ัะธัะปะพ**

ะัะบัะพะนัะต ะฒะตะฑ-ะธะฝัะตััะตะนั โ ะะฐัััะพะนะบะธ XRP5L โ **ะฃัะพะฒะตะฝั ััะฐะบะฐะฝะฐ: 1**

ะะปะธ ะฒัััะฝัั ะฒ `app_state.json`:
```json
"XRP5L": {
  "orderbook_level": 1  โ ะะทะผะตะฝะธัั ั 0.26 ะฝะฐ 1
}
```

### **ะะฐัะธะฐะฝั 2: ะัะพะฒะตัะธัั ะปะพะณะธ ัะตัะฒะตัะฐ**

ะ ัะตัะผะธะฝะฐะปะต ะฝะฐะนะดะธัะต ัััะพะบะธ:
```
[XRP5L] ๐ฐ ะะะะะะะะ ะะะะะะะ:
[XRP5L] ๐ฐ   Orderbook price: 0.XXXXXXXX
[XRP5L] ๐ฐ   ะฃัะปะพะฒะธะต: 0.XXXXXXXX >= 0.04691015 ?
[XRP5L] โ ะฆะตะฝะฐ ะธะท ััะฐะบะฐะฝะฐ (...) ะฝะธะถะต ััะตะฑัะตะผะพะน (...)
```

ะญัะพ ะฟะพะดัะฒะตัะดะธั, ััะพ orderbook_price < required_price.

---

## ๐ ะะะงะะะฃ orderbook_level = 0.26?

ะะพะทะผะพะถะฝะพ:
1. ะะฐัะฐะผะตัั ะฑัะป ัะฐัััะธัะฐะฝ ะบะฐะบ **ะฟัะพัะตะฝั** ะธะปะธ **ะดัะพะฑั**
2. ะัะธะฑะบะฐ ะฟัะธ ัะพััะฐะฝะตะฝะธะธ ะฟะฐัะฐะผะตััะพะฒ
3. ะัะพะฑะปะตะผะฐ ั ะฟะฐััะธะฝะณะพะผ JSON

**ะัะฐะฒะธะปัะฝะพะต ะทะฝะฐัะตะฝะธะต:** ะฆะตะปะพะต ัะธัะปะพ **1-10** (ััะพะฒะตะฝั ััะฐะบะฐะฝะฐ, 1-based).

---

## ๐ฏ ะะะะกะขะะะฏ

### **1. ะัะฟัะฐะฒะธัั orderbook_level**
```powershell
# ะะฐัะธะฐะฝั ะ: ะงะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั
1. ะัะบัะพะนัะต http://localhost:5000
2. ะัะฑะตัะธัะต XRP5L
3. ะ ะฝะฐัััะพะนะบะฐั ะฝะฐะนะดะธัะต "ะฃัะพะฒะตะฝั ััะฐะบะฐะฝะฐ"
4. ะฃััะฐะฝะพะฒะธัะต ะทะฝะฐัะตะฝะธะต 1
5. ะกะพััะฐะฝะธัะต
```

### **2. ะะตัะตะทะฐะฟัััะธัั ัะตัะฒะตั (ะพะฟัะธะพะฝะฐะปัะฝะพ)**
```powershell
.\RESTART.bat
```

### **3. ะะพะถะดะฐัััั ัะปะตะดัััะตะน ะธัะตัะฐัะธะธ ัะธะบะปะฐ (~1 ัะตะบัะฝะดะฐ)**

ะะฒัะพััะตะนะดะตั ะดะพะปะถะตะฝ ะฟะพะฟััะฐัััั ะฟัะพะดะฐัั XRP5L ะฟัะธ ัะปะตะดัััะตะน ะฟัะพะฒะตัะบะต.

---

## ๐ ะะะะะะะะซะ ะะะะฃะะฌะขะะข

ะะพัะปะต ะธัะฟัะฐะฒะปะตะฝะธั ะฒ ะปะพะณะฐั ะดะพะปะถะฝะพ ะฟะพัะฒะธัััั:
```
[XRP5L] ๐ฐ ะะะะะะะะ ะะะะะะะ:
[XRP5L] ๐ฐ   Orderbook price: 0.04697000  โ ะขะตะฟะตัั ะฑะตััััั 1-ะน ััะพะฒะตะฝั
[XRP5L] ๐ฐ   ะฃัะปะพะฒะธะต: 0.04697000 >= 0.04691015 ?
[XRP5L] โโโ ะะะ ะะะะะะะะ ะะะะะะะะซ! ะะฐัะธะฝะฐะตะผ ะฟัะพะดะฐะถั...
[XRP5L] ๐ฐ๐ฐ๐ฐ ===== ะกะะะะะะะ FOK ะะะะะะ ===== ๐ฐ๐ฐ๐ฐ
[XRP5L] โฑ๏ธ ะัะตะผั ัะพะทะดะฐะฝะธั ะพัะดะตัะฐ: 0.XXs
[XRP5L] โฑ๏ธ ะะะฉะะ ะะะะะฏ ะะะะะะฆะะ ะะะะะะะ: 0.XXs
[XRP5L] โโโ ===== ะะะะะ ะะกะะะะะะ ะะะะะะกะขะฌะฎ! ===== โโโ
```

---

**ะะฐัะฐ ะดะธะฐะณะฝะพััะธะบะธ:** 2025-01-XX  
**ะกัะฐััั:** โ **ะะะะะะะะ ะะะะะะะ**  
**ะะตัะตะฝะธะต:** ะัะฟัะฐะฒะธัั `orderbook_level` ั 0.26 ะฝะฐ 1
