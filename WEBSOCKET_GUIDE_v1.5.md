# üìä WebSocket Integration v1.5

## üéØ –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –°—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–î–∞—Ç–∞:** 4 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.5

---

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ

### 1. –ó–∞–º–µ–Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –Ω–∞ —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –£–¥–∞–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏"
- –ù–∞ –µ—ë –º–µ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–†—ã–Ω–æ–∫ –∏ —Å—Ç–∞–∫–∞–Ω"
- –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ WebSocket

### 2. –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞—Ä—ã
```
BTC_USDT
$67,234.56
```
- –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ + –∫–æ—Ç–∏—Ä—É–µ–º–∞—è –≤–∞–ª—é—Ç–∞
- –¶–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

#### –ë–∞–ª–∞–Ω—Å—ã
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ë–∞–ª–∞–Ω—Å BTC                      ‚îÇ –ë–∞–ª–∞–Ω—Å USDT                     ‚îÇ
‚îÇ 0.12345678                      ‚îÇ 1,234.56                        ‚îÇ
‚îÇ ‚âà $8,304.44                     ‚îÇ ‚âà $1,234.56                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
- –ë–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ (BTC, ETH, SOL, –∏ —Ç.–¥.)
- –ö–æ—Ç–∏—Ä—É–µ–º–∞—è –≤–∞–ª—é—Ç–∞ (USDT, USDC, BTC, ETH)
- –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö

#### –°—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤ (Order Book)
```
–¶–µ–Ω–∞ (USDT)    –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (BTC)    –°—É–º–º–∞
67,245.20      0.45231000          30,419.33  ‚Üê Asks (–ø—Ä–æ–¥–∞–∂–∞)
67,244.80      0.32100000          21,585.62
67,244.50      0.18500000          12,440.23
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–°–ø—Ä–µ–¥: 1.50 (0.0022%)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
67,243.00      0.25000000          16,810.75  ‚Üê Bids (–ø–æ–∫—É–ø–∫–∞)
67,242.50      0.38000000          25,552.15
67,242.00      0.52000000          34,965.84
```
- –î–æ 10 —É—Ä–æ–≤–Ω–µ–π –ø—Ä–æ–¥–∞–∂–∏ (Asks) - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
- –î–æ 10 —É—Ä–æ–≤–Ω–µ–π –ø–æ–∫—É–ø–∫–∏ (Bids) - –∑–µ–ª—ë–Ω—ã–π —Ü–≤–µ—Ç
- –°–ø—Ä–µ–¥ –º–µ–∂–¥—É –ª—É—á—à–∏–º–∏ —Ü–µ–Ω–∞–º–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. WebSocket –º–æ–¥—É–ª—å (`gateio_websocket.py`)

#### –ö–ª–∞—Å—Å `GateIOWebSocket`
–ë–∞–∑–æ–≤—ã–π WebSocket –∫–ª–∏–µ–Ω—Ç –¥–ª—è Gate.io:

```python
from gateio_websocket import GateIOWebSocket

ws = GateIOWebSocket(api_key, api_secret)
ws.connect()

# –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ä
ws.subscribe_ticker("BTC_USDT", callback)

# –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å—Ç–∞–∫–∞–Ω
ws.subscribe_orderbook("BTC_USDT", "20", "100ms", callback)

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
ws.disconnect()
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ä (—Ü–µ–Ω–∞, –æ–±—ä—ë–º)
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ ping-pong

#### –ö–ª–∞—Å—Å `PairWebSocketManager`
–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ä:

```python
from gateio_websocket import init_websocket_manager, get_websocket_manager

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
init_websocket_manager(api_key, api_secret)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
ws_manager = get_websocket_manager()

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä—ã
ws_manager.create_connection("BTC_USDT")

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
data = ws_manager.get_data("BTC_USDT")

# –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
ws_manager.close_connection("BTC_USDT")
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –û—Ç–¥–µ–ª—å–Ω–æ–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ä, —Å—Ç–∞–∫–∞–Ω –∏ —Å–¥–µ–ª–∫–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (threading.Lock)

### 2. Backend API Endpoints

#### POST `/api/pair/subscribe`
–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞—Ä—ã.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "base_currency": "BTC",
  "quote_currency": "USDT"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "pair": "BTC_USDT",
  "message": "–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ BTC_USDT —Å–æ–∑–¥–∞–Ω–∞"
}
```

#### GET `/api/pair/data`
–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞—Ä—ã –∏–∑ –∫—ç—à–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `base_currency` - –±–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ (BTC, ETH, –∏ —Ç.–¥.)
- `quote_currency` - –∫–æ—Ç–∏—Ä—É–µ–º–∞—è –≤–∞–ª—é—Ç–∞ (USDT, USDC, –∏ —Ç.–¥.)

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "pair": "BTC_USDT",
  "data": {
    "ticker": {
      "currency_pair": "BTC_USDT",
      "last": "67234.56",
      "lowest_ask": "67235.20",
      "highest_bid": "67234.00",
      "change_percentage": "2.45",
      "base_volume": "1234.5678",
      "quote_volume": "83045678.90"
    },
    "orderbook": {
      "asks": [
        ["67235.20", "0.12345"],
        ["67236.00", "0.23456"]
      ],
      "bids": [
        ["67234.00", "0.34567"],
        ["67233.50", "0.45678"]
      ]
    },
    "trades": [
      {
        "id": "123456789",
        "create_time": 1699099200,
        "side": "buy",
        "amount": "0.01",
        "price": "67234.56"
      }
    ],
    "last_update": "2025-11-04T12:34:56"
  }
}
```

#### POST `/api/pair/unsubscribe`
–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –¥–∞–Ω–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞—Ä—ã.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "base_currency": "BTC",
  "quote_currency": "USDT"
}
```

### 3. Frontend JavaScript

#### –§—É–Ω–∫—Ü–∏—è `subscribeToPairData(baseCurrency, quoteCurrency)`
–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä—ã —á–µ—Ä–µ–∑ WebSocket.

#### –§—É–Ω–∫—Ü–∏—è `loadMarketData()`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—ã
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
- –°–∏–º–≤–æ–ª—ã –≤–∞–ª—é—Ç
- –°—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤

#### –§—É–Ω–∫—Ü–∏—è `updateOrderBook(orderbook)`
–û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤:
- 10 —É—Ä–æ–≤–Ω–µ–π asks (–ø—Ä–æ–¥–∞–∂–∞)
- 10 —É—Ä–æ–≤–Ω–µ–π bids (–ø–æ–∫—É–ø–∫–∞)
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–ø—Ä–µ–¥–∞

#### –§—É–Ω–∫—Ü–∏—è `refreshMarketData()`
–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–Ω–æ–ø–∫–µ.

#### –§—É–Ω–∫—Ü–∏—è `switchBaseCurrency(baseCurrency)`
–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–∫–ª–∞–¥–∫–∏
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤—É—é –ø–∞—Ä—É
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
bGate.mTrade/
‚îú‚îÄ‚îÄ gateio_websocket.py          ‚Üê –ù–æ–≤—ã–π —Ñ–∞–π–ª WebSocket –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ mTrade.py                     ‚Üê –û–±–Ω–æ–≤–ª—ë–Ω: –¥–æ–±–∞–≤–ª–µ–Ω—ã API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îú‚îÄ‚îÄ secrets.json                  ‚Üê API –∫–ª—é—á–∏ Gate.io
‚îú‚îÄ‚îÄ requirements.txt              ‚Üê –î–æ–±–∞–≤–ª–µ–Ω websocket-client==1.6.4
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ index.html                ‚Üê –û–±–Ω–æ–≤–ª—ë–Ω: –Ω–æ–≤—ã–π UI –¥–ª—è —Å—Ç–∞–∫–∞–Ω–∞
```

---

## üîë –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API –∫–ª—é—á–µ–π

### secrets.json
```json
{
  "GATEIO_API_KEY": "your_api_key_here",
  "GATEIO_API_SECRET": "your_api_secret_here"
}
```

**–í–∞–∂–Ω–æ:**
- –§–∞–π–ª `secrets.json` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å Gate.io API
- –ö–ª—é—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
- –ï—Å–ª–∏ –∫–ª—é—á–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, WebSocket –Ω–µ –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```powershell
python start.py
# –∏–ª–∏
START.bat
```

### 2. –û—Ç–∫—Ä—ã—Ç–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```
http://localhost:5000
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
1. –í—ã–±–µ—Ä–∏—Ç–µ –±–∞–∑–æ–≤—É—é –≤–∞–ª—é—Ç—É –≤ –∑–∞–∫–ª–∞–¥–∫–∞—Ö (BTC, ETH, SOL, –∏ —Ç.–¥.)
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä—ã
3. –î–∞–Ω–Ω—ã–µ –Ω–∞—á–Ω—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
4. –°—Ç–∞–∫–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ —Ü–µ–Ω

### 4. –°–º–µ–Ω–∞ –ø–∞—Ä—ã
```
–ö–ª–∏–∫ –Ω–∞ –∑–∞–∫–ª–∞–¥–∫—É ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ WebSocket

### –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–¢–∏–∫–µ—Ä**: –∫–∞–∂–¥—ã–π —Ç–∏–∫ (~100ms)
- **–°—Ç–∞–∫–∞–Ω**: 100ms (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
- **–°–¥–µ–ª–∫–∏**: –∫–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞

### –ì–ª—É–±–∏–Ω–∞ —Å—Ç–∞–∫–∞–Ω–∞
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20 —É—Ä–æ–≤–Ω–µ–π
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: 10 —É—Ä–æ–≤–Ω–µ–π –ø—Ä–æ–¥–∞–∂–∏ + 10 —É—Ä–æ–≤–Ω–µ–π –ø–æ–∫—É–ø–∫–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–¥–µ: `"5"`, `"10"`, `"20"`, `"50"`, `"100"`

### –ê–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ –∫–æ–Ω—Å–æ–ª—å

---

## üé® –°—Ç–∏–ª–∏ UI

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å—Ç–∞–∫–∞–Ω–∞
- **Asks (–ø—Ä–æ–¥–∞–∂–∞)**: `#f44336` (–∫—Ä–∞—Å–Ω—ã–π)
- **Bids (–ø–æ–∫—É–ø–∫–∞)**: `#4CAF50` (–∑–µ–ª—ë–Ω—ã–π)
- **–°–ø—Ä–µ–¥**: `#FF9800` (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- **–§–æ–Ω**: `#1a1a1a` (—Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π)

### –†–∞–∑–º–µ—Ä—ã
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å—Ç–∞–∫–∞–Ω–∞**: 200px (—Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π)
- **–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞**: 11px
- **–û—Ç—Å—Ç—É–ø—ã**: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–π –ø–∞—Ä—ã
fetch('/api/pair/data?base_currency=BTC&quote_currency=USDT')
  .then(r => r.json())
  .then(console.log)

// –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—É—é –ø–∞—Ä—É
fetch('/api/pair/subscribe', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({
    base_currency: 'ETH',
    quote_currency: 'USDT'
  })
}).then(r => r.json()).then(console.log)
```

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
```
[INFO] WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
[INFO] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ä: BTC_USDT
[INFO] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å—Ç–∞–∫–∞–Ω: BTC_USDT (level=20, interval=100ms)
[INFO] –ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–∞: spot.tickers
[INFO] –ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–∞: spot.order_book_update
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ü–∞–º—è—Ç—å**: ~10-20 MB –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **CPU**: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- **–°–µ—Ç—å**: ~1-5 KB/s –Ω–∞ –ø–∞—Ä—É

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –±–æ–ª–µ–µ 10 –ø–∞—Ä –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É

---

## üîÆ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### v1.6
- –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ì–ª—É–±–∏–Ω–∞ —Ä—ã–Ω–∫–∞ (market depth chart)
- –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞–∫–∞–Ω –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∏—Ä–∂

### v1.7
- –¢–æ—Ä–≥–æ–≤–ª—è –ø—Ä—è–º–æ –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ (–∫–ª–∏–∫ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Ü–µ–Ω—ã)
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä—ë–º–æ–≤
- –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

---

**–í–µ—Ä—Å–∏—è:** 1.5  
**–î–∞—Ç–∞:** 4 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

---

*WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!* üöÄ
