# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Å—Ç–∞–∫–∞–Ω–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂

**–î–∞—Ç–∞:** 2025-01-15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

---

## üìã –ó–ê–î–ê–ß–ê

–û–±–µ—Å–ø–µ—á–∏—Ç—å, —á—Ç–æ–±—ã:
1. –ü—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Ü–µ–Ω–∞ –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤ —Å—Ç–æ–ª–±—Ü–µ "–°—Ç." (orderbook_level) —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
2. –£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –≤ –±–ª–æ–∫–µ "üìà –£—Ä–æ–≤–Ω–∏ —Ü–µ–Ω" –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
3. –ë–ª–æ–∫ "üìà –£—Ä–æ–≤–Ω–∏ —Ü–µ–Ω" –±—ã–ª –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫

---

## üîß –í–ù–ï–°–Å–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. **API (`mTrade.py`)**

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `orderbook_level` –≤ `autotrade_levels`
```python
# –°—Ç—Ä–æ–∫–∞ ~1665 (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã)
autotrade_levels['orderbook_level'] = int(row.get('orderbook_level', 0))
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** API —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞ –≤ –æ—Ç–≤–µ—Ç–µ `/api/trade/indicators`

---

### 2. **–ê–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä (`autotrader_v2.py`)**

#### –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_get_orderbook_price`
–ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã –∏–∑ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å—Ç–∞–∫–∞–Ω–∞:
```python
def _get_orderbook_price(self, base: str, quote: str, orderbook_level: int, side: str = 'bids') -> Optional[float]:
    """
    –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –∏–∑ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å—Ç–∞–∫–∞–Ω–∞
    
    Args:
        base: –±–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ETH)
        quote: –≤–∞–ª—é—Ç–∞ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, USDT)
        orderbook_level: —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ (0-based –∏–Ω–¥–µ–∫—Å)
        side: 'bids' –¥–ª—è —Ü–µ–Ω –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ 'asks' –¥–ª—è —Ü–µ–Ω –ø—Ä–æ–¥–∞–∂–∏
    
    Returns:
        –¶–µ–Ω–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ —Å—Ç–∞–∫–∞–Ω–∞ –∏–ª–∏ None –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
    """
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ WebSocket (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç REST API –∫–∞–∫ fallback
- –í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –î–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `side='bids'` (—Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –≥–æ—Ç–æ–≤—ã –∫—É–ø–∏—Ç—å)

#### –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–∑–æ–≤–∞ `_try_sell`
```python
# –ü–æ–ª—É—á–∞–µ–º —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ –∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
with self._get_lock(base):
    cycle = self.cycles[base]
    if cycle.table and active_step >= 0 and active_step < len(cycle.table):
        orderbook_level = int(cycle.table[active_step].get('orderbook_level', 0))
    else:
        orderbook_level = 0

# –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ –Ω–∞ –Ω—É–∂–Ω–æ–º —É—Ä–æ–≤–Ω–µ (bids –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏)
orderbook_price = self._get_orderbook_price(base, quote, orderbook_level, 'bids')
if orderbook_price:
    print(f"[{base}] –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ bids[{orderbook_level}] = {orderbook_price:.8f}")
    price = orderbook_price
else:
    print(f"[{base}] [WARN] –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º ticker.last = {price:.8f}")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–¥–∞–∂–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω–∞ –∏–∑ —É—Ä–æ–≤–Ω—è —Å—Ç–∞–∫–∞–Ω–∞ `bids[orderbook_level]`
- ‚úÖ Fallback –Ω–∞ ticker.last, –µ—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è

---

### 3. **–§—Ä–æ–Ω—Ç–µ–Ω–¥ (`index.html`)**

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ "–£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞" –∏ —É–±—Ä–∞–Ω—ã –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
```html
<div class="price-levels">
    <div class="price-row"><span class="label">–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞:</span><span class="value" id="autotradePriceCurrent">-</span></div>
    <div class="price-row"><span class="label">–£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞:</span><span class="value" id="autotradeOrderbookLevel">-</span></div>
    <div class="price-row"><span class="label">–°—Ç–∞—Ä—Ç–æ–≤–∞—è (P0):</span><span class="value" id="autotradePriceStart">-</span></div>
    <div class="price-row"><span class="label">–ë–µ–∑—É–±—ã—Ç–æ–∫ (BE):</span><span class="value" id="autotradePriceBreakeven">-</span></div>
    <div class="price-row"><span class="label">–ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–∫—É–ø–∫–∞:</span><span class="value" id="autotradePriceLastBuy">-</span></div>
    <div class="price-row sell"><span class="label">üì§ –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏:</span><span class="value highlight" id="autotradePriceSell">-</span></div>
    <div class="price-row buy"><span class="label">üì• –°–ª–µ–¥. –ø–æ–∫—É–ø–∫–∞:</span><span class="value highlight" id="autotradePriceNextBuy">-</span></div>
</div>
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ "–£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞" –ø–æ—Å–ª–µ "–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞"
- ‚úÖ –£–±—Ä–∞–Ω—ã –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ `<div class="price-row">` –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ –ë–ª–æ–∫ —Ç–µ–ø–µ—Ä—å –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω–∏–º—É–º –º–µ—Å—Ç–∞

---

### 4. **JavaScript (`app.js`)**

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Å—Ç–∞–∫–∞–Ω–∞
```javascript
// –û–±–Ω–æ–≤–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞
const orderbookLevelEl = $('autotradeOrderbookLevel');
if(orderbookLevelEl){
  orderbookLevelEl.textContent = (levels.orderbook_level !== null && levels.orderbook_level !== undefined) ? levels.orderbook_level : '-';
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI

---

## üéØ –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–¥–∞–∂–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞:**
   - –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–¥–∞–∂–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω–∞ `bids[orderbook_level]`
   - –£—Ä–æ–≤–µ–Ω—å –±–µ—Ä—ë—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ (—Å—Ç–æ–ª–±–µ—Ü "–°—Ç.")
   - –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî fallback –Ω–∞ ticker.last —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –≤ –ª–æ–≥–∞—Ö

2. **UI –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞
   - –í—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ –±–ª–æ–∫–µ "üìà –£—Ä–æ–≤–Ω–∏ —Ü–µ–Ω" –∫–æ–º–ø–∞–∫—Ç–Ω—ã (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ–Ω–æ—Å–æ–≤)
   - –ë–ª–æ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω–∏–º—É–º –≤—ã—Å–æ—Ç—ã

3. **API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - `orderbook_level` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –æ—Ç–≤–µ—Ç `/api/trade/indicators`
   - –£—Ä–æ–≤–µ–Ω—å –±–µ—Ä—ë—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã

---

## üìä –õ–û–ì–ò–ö–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –£–†–û–í–ù–Ø –°–¢–ê–ö–ê–ù–ê

### –î–ª—è –ø—Ä–æ–¥–∞–∂–∏:
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** `bids[orderbook_level]` ‚Äî —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –≥–æ—Ç–æ–≤—ã –∫—É–ø–∏—Ç—å
- **–ü–æ—á–µ–º—É:** –≠—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –º–æ–Ω–µ—Ç—ã —Å–µ–π—á–∞—Å
- **–ü—Ä–∏–º–µ—Ä:** –ï—Å–ª–∏ `orderbook_level=2`, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 3-–π –ª—É—á—à–∏–π bid (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å 0)

### –î–ª—è –ø–æ–∫—É–ø–∫–∏ (—Ä–µ–±–∞–π):
- **–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** `asks[orderbook_level]` ‚Äî —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–∞–≤—Ü—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–æ–¥–∞—Ç—å
- **–ü–æ—á–µ–º—É:** –≠—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –º–æ–Ω–µ—Ç—ã —Å–µ–π—á–∞—Å

---

## üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –†–ê–ë–û–¢–£

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Å–æ–ª–∏ Python

–ü—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º —Ü–∏–∫–ª–µ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
[ETH] –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ bids[2] = 3450.12345678
[ETH] üî¥ _try_sell –≤—ã–∑–≤–∞–Ω | –ö–û–î –í–ï–†–°–ò–Ø: 2025-12-08_07:30 | –¶–µ–Ω–∞: 3450.12345678
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ UI (–±—Ä–∞—É–∑–µ—Ä)

–í –±–ª–æ–∫–µ "üìà –£—Ä–æ–≤–Ω–∏ —Ü–µ–Ω" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞:       3450.12
–£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞:    2
–°—Ç–∞—Ä—Ç–æ–≤–∞—è (P0):     3400.00
–ë–µ–∑—É–±—ã—Ç–æ–∫ (BE):     3425.50
...
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ª–æ–≥–∞—Ö –ø—Ä–æ–¥–∞–∂–∏

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–æ–¥–∞–∂–∏:
```
[ETH] üî¥ –ü–û–í–¢–û–†–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –¶–ï–ù–´:
[ETH]   current_price_before_sell: 3450.12345678  ‚Üê –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–∑ bids[orderbook_level]
[ETH]   target_sell_price: 3445.00000000
[ETH]   start_price (—Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏): 3400.00000000
```

---

## üìù –í–ê–ñ–ù–´–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

1. **–¶–µ–Ω–∞ –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ vs ticker.last:**
   - **ticker.last** = —Ü–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏ (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç)
   - **bids[N]** = —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ N (–∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)
   - **asks[N]** = —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ N (–∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)

2. **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π:**
   - –£—Ä–æ–≤–Ω–∏ —Å—Ç–∞–∫–∞–Ω–∞ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è —Å 0
   - `orderbook_level=0` ‚Üí –ª—É—á—à–∏–π bid/ask (—Ç–æ–ø —Å—Ç–∞–∫–∞–Ω–∞)
   - `orderbook_level=2` ‚Üí 3-–π –ª—É—á—à–∏–π bid/ask

3. **Fallback –Ω–∞ ticker.last:**
   - –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≥–ª—É–±–∏–Ω–∞)
   - –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `[WARN]`

---

## ‚ö†Ô∏è –ß–¢–û –¢–†–ï–ë–£–ï–¢ –í–ù–ò–ú–ê–ù–ò–Ø

1. **–ì–ª—É–±–∏–Ω–∞ —Å—Ç–∞–∫–∞–Ω–∞:**
   - –ï—Å–ª–∏ `orderbook_level` –±–æ–ª—å—à–µ, —á–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ
   - –ù—É–∂–Ω–æ –ª–∏–±–æ —É–≤–µ–ª–∏—á–∏—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—É—é –≥–ª—É–±–∏–Ω—É (—Å–µ–π—á–∞—Å limit=50)
   - –õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à–∏–π —É—Ä–æ–≤–µ–Ω—å –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

2. **–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:**
   - –ù–∞ –≤—ã—Å–æ–∫–∏—Ö —É—Ä–æ–≤–Ω—è—Ö —Å—Ç–∞–∫–∞–Ω–∞ (orderbook_level > 10) –æ–±—ä—ë–º –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º
   - FOK-–æ—Ä–¥–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å—Å—è –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
2. ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û:** –û–±–Ω–æ–≤–ª—ë–Ω UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è —Å—Ç–∞–∫–∞–Ω–∞
3. ‚è≥ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. ‚è≥ **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û:** –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è —Ä–µ–±–∞—è (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `asks[orderbook_level]`)

---

## üìÅ –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

1. `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\mTrade.py`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `orderbook_level` –≤ `autotrade_levels`

2. `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\autotrader_v2.py`
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_get_orderbook_price`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ `_try_sell`

3. `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\templates\index.html`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ "–£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞" –≤ –±–ª–æ–∫ "üìà –£—Ä–æ–≤–Ω–∏ —Ü–µ–Ω"
   - –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏

4. `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\static\app.js`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ `autotradeOrderbookLevel`

---

## ‚úÖ –°–¢–ê–¢–£–°: –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã, –∫–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫.  
–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:**
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å:
python mTrade.py
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –í UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–∫–∞–Ω–∞"
2. –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ `–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ bids[N]`
3. –ë–ª–æ–∫ "üìà –£—Ä–æ–≤–Ω–∏ —Ü–µ–Ω" –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π (–Ω–µ—Ç –±–æ–ª—å—à–∏—Ö –æ—Ç—Å—Ç—É–ø–æ–≤)

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–æ–∫—É–º–µ–Ω—Ç:** –£–†–û–í–ï–ù–¨_–°–¢–ê–ö–ê–ù–ê_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï.md
