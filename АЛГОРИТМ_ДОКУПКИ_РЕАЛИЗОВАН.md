# ‚úÖ –ê–õ–ì–û–†–ò–¢–ú –î–û–ö–£–ü–ö–ò (REBUY) –†–ï–ê–õ–ò–ó–û–í–ê–ù

## –î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
**08 –¥–µ–∫–∞–±—Ä—è 2024, 14:00**

---

## üìã –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ `_try_rebuy`**
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `autotrader_v2.py`, —Å—Ç—Ä–æ–∫–∏ ~1190-1390

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –¥–æ–∫—É–ø–∫–∏ (—Ü–µ–Ω–∞ —É–ø–∞–ª–∞ –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
- –°–æ–∑–¥–∞–Ω–∏–µ MARKET –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –¥–æ–∫—É–ø–∫—É
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ü–∏–∫–ª–∞
- –ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã —Å –Ω–æ–≤—ã–º —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–º –∫—É—Ä—Å–æ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–ø–∫–∏

### 2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª**
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `autotrader_v2.py`, —Å—Ç—Ä–æ–∫–∞ ~475

**–õ–æ–≥–∏–∫–∞:**
```python
if is_active:
    # 1. –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏
    self._try_sell(base, quote, market_price, orderbook_price)
    
    # 2. –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–∫—É–ø–∫–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–æ!)
    self._try_rebuy(base, quote, market_price)
```

---

## üîç –ê–õ–ì–û–†–ò–¢–ú –î–û–ö–£–ü–ö–ò

### –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
1. **–¶–∏–∫–ª –∞–∫—Ç–∏–≤–µ–Ω** (`cycle.state == CycleState.ACTIVE`)
2. **–¶–µ–Ω–∞ —É–ø–∞–ª–∞** –¥–æ –ø–æ—Ä–æ–≥–∞: `price < last_buy_price * (1 - rebuy_trigger_pct / 100)`
3. **–ï—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥** –≤ —Ç–∞–±–ª–∏—Ü–µ (`active_step + 1 < len(table)`)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- **`rebuy_trigger_pct`**: –ü—Ä–æ—Ü–µ–Ω—Ç –ø–∞–¥–µ–Ω–∏—è –¥–ª—è –¥–æ–∫—É–ø–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2%)
  - –ü–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ `state_manager.get_breakeven_params(base)`
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–ª—é—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ

### –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–∫—É–ø–∫–∏

#### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π (–ø–æ–¥ lock)
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º:
- –¶–∏–∫–ª –∞–∫—Ç–∏–≤–µ–Ω?
- –ï—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞?
- –ï—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥?
- –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–ø–∫–∏?
- –ü—Ä–æ—à–ª–æ 5 —Å–µ–∫—É–Ω–¥ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–æ–∫—É–ø–∫–∏?
```

#### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –ø–∞–¥–µ–Ω–∏—è (–ë–ï–ó lock)
```python
rebuy_threshold = last_buy_price * (1.0 - rebuy_trigger_pct / 100.0)

if price < rebuy_threshold:
    # –£—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚Üí –¥–æ–∫—É–ø–∞–µ–º
```

#### –®–ê–ì 3: –ê—Ç–æ–º–∞—Ä–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ (–ø–æ–¥ lock)
```python
cycle._rebuy_in_progress = True
cycle.last_buy_attempt_at = time.time()
```

#### –®–ê–ì 4: API –∑–∞–ø—Ä–æ—Å—ã (–ë–ï–ó lock)
```python
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö BUY –æ—Ä–¥–µ—Ä–æ–≤
# 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ USDT
# 4. –°–æ–∑–¥–∞–Ω–∏–µ MARKET –æ—Ä–¥–µ—Ä–∞
# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞
```

#### –®–ê–ì 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ø–æ–¥ lock)
```python
# –û–±–Ω–æ–≤–ª—è–µ–º:
cycle.active_step += 1
cycle.last_buy_price = executed_price
cycle.total_invested_usd += executed_cost
cycle.base_volume += executed_amount

# –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫—É—Ä—Å:
weighted_avg_price = cycle.total_invested_usd / cycle.base_volume

# –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É:
cycle.table = calculate_breakeven_table(params, current_price=weighted_avg_price)
```

#### –®–ê–ì 6: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ë–ï–ó lock)
```python
self.logger.log_buy(
    currency=base,
    volume=executed_amount,
    price=executed_price,
    delta_percent=delta_percent,
    total_drop_percent=total_drop_pct,
    investment=executed_cost
)
```

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø

### 1. –§–ª–∞–≥ `_rebuy_in_progress`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ê–¢–û–ú–ê–†–ù–û –ø–æ–¥ lock
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–ø–∫–∏
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö BUY –æ—Ä–¥–µ—Ä–æ–≤
- –ü–µ—Ä–µ–¥ –¥–æ–∫—É–ø–∫–æ–π –ø—Ä–æ–≤–µ—Ä—è–µ–º `api_client.get_spot_orders(status="open")`
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ BUY –æ—Ä–¥–µ—Ä–∞ ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ–º

### 3. –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –¥–æ–∫—É–ø–∫–∞–º–∏
- –ú–∏–Ω–∏–º—É–º **5 —Å–µ–∫—É–Ω–¥** –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `time.time() - cycle.last_buy_attempt_at < 5.0`

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞
- –ü–µ—Ä–µ–¥ –¥–æ–∫—É–ø–∫–æ–π: `next_step_index < len(cycle.table)`
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ–∫—É–ø–∫—É —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞

---

## üìä –û–ë–ù–û–í–õ–ï–ù–ò–ï –¢–ê–ë–õ–ò–¶–´

### –ó–∞—á–µ–º –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å?
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –¥–æ–∫—É–ø–∫–∏ —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫—É—Ä—Å –∏–∑–º–µ–Ω—è–µ—Ç—Å—è:

```
weighted_avg_price = total_invested_usd / base_volume
```

**–ü—Ä–∏–º–µ—Ä:**
- –°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞: 100 USDT –ø–æ 0.0010
- –î–æ–∫—É–ø–∫–∞: 200 USDT –ø–æ 0.0009
- –°—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π: 300 / (100/0.0010 + 200/0.0009) ‚âà 0.000923

### –ß—Ç–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è?
1. **–¶–µ–Ω—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏** (breakeven_price) –¥–ª—è –≤—Å–µ—Ö —à–∞–≥–æ–≤
2. **–¶–µ–ª–µ–≤—ã–µ –¥–µ–ª—å—Ç—ã** (target_delta_pct) –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–æ–≥–æ –∫—É—Ä—Å–∞
3. **–û–±—ä—ë–º—ã –ø—Ä–æ–¥–∞–∂–∏** (volume_to_sell) –¥–ª—è –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

---

## üìù –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏
```python
{
    "currency": "ETH",
    "operation": "buy",
    "volume": 0.123456,
    "price": 0.00098765,
    "delta_percent": -1.23,  # –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ start_price
    "total_drop_percent": 2.5,  # –ò–∑ —Ç–∞–±–ª–∏—Ü—ã (total_drop_pct)
    "investment": 200.0,
    "timestamp": "2024-12-08 14:30:00"
}
```

### –ú–µ—Ç—Ä–∏–∫–∏
- **`delta_percent`**: –ü—Ä–æ—Ü–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ **—Å—Ç–∞—Ä—Ç–æ–≤–æ–π** —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏
- **`total_drop_percent`**: –û–±—â–µ–µ –ø–∞–¥–µ–Ω–∏–µ –æ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ü–µ–Ω—ã (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã)
- **`investment`**: –°—É–º–º–∞ USDT, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–∞—è –Ω–∞ –¥–æ–∫—É–ø–∫—É

---

## üéØ –ü–†–ò–ú–ï–† –†–ê–ë–û–¢–´

### –°—Ü–µ–Ω–∞—Ä–∏–π
1. **–°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞:** 100 USDT –ø–æ 0.0010
   - `active_step = 0`
   - `last_buy_price = 0.0010`
   - `base_volume = 100000` (100 USDT / 0.0010)

2. **–¶–µ–Ω–∞ –ø–∞–¥–∞–µ—Ç –¥–æ 0.00098** (–ø–∞–¥–µ–Ω–∏–µ 2%)
   - –£—Å–ª–æ–≤–∏–µ: `0.00098 < 0.0010 * 0.98 = 0.00098` ‚úÖ
   - –¢—Ä–∏–≥–≥–µ—Ä –¥–æ–∫—É–ø–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!

3. **–î–æ–∫—É–ø–∫–∞:** 200 USDT –ø–æ 0.00098
   - `active_step = 0 ‚Üí 1`
   - `last_buy_price = 0.00098`
   - `total_invested_usd = 300 USDT`
   - `base_volume = 304081` (100000 + 204081)

4. **–ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã:**
   - –°—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫—É—Ä—Å: `300 / 304081 ‚âà 0.000987`
   - –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å —ç—Ç–∏–º –∫—É—Ä—Å–æ–º
   - –¶–µ–ª—å –ø—Ä–æ–¥–∞–∂–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

5. **–¶–µ–Ω–∞ —Ä–∞—Å—Ç—ë—Ç –¥–æ —Ü–µ–ª–µ–≤–æ–π** ‚Üí –ü—Ä–æ–¥–∞–∂–∞ –≤—Å–µ–≥–æ –æ–±—ä—ë–º–∞
   - `base_volume = 304081` –ø—Ä–æ–¥–∞—ë—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º
   - –¶–∏–∫–ª —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ IDLE

---

## ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É—Å–ª–æ–≤–∏—è:**
   - –î–æ–∫—É–ø–∫–∞ –ù–ï —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ —Ü–µ–Ω–∞ > –ø–æ—Ä–æ–≥–∞
   - –î–æ–∫—É–ø–∫–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ —Ü–µ–Ω–∞ < –ø–æ—Ä–æ–≥–∞

2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ `_try_rebuy` –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º
   - –ó–∞–¥–µ—Ä–∂–∫–∞ 5 —Å–µ–∫—É–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
   - `active_step` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
   - `last_buy_price` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
   - `total_invested_usd` –∏ `base_volume` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

4. **–ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã:**
   - –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º –∫—É—Ä—Å–æ–º
   - –¶–µ–ª–∏ –ø—Ä–æ–¥–∞–∂–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –î–æ–∫—É–ø–∫–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `trading_log_YYYY-MM-DD.csv`
   - –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ê

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `breakeven_params`
```json
{
  "start_volume": 100.0,
  "rebuy_trigger_pct": 2.0,  ‚Üê –ü—Ä–æ—Ü–µ–Ω—Ç –ø–∞–¥–µ–Ω–∏—è –¥–ª—è –¥–æ–∫—É–ø–∫–∏
  "step_multiplier": 2.0,
  "target_profit_pct": 0.3,
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –¥–æ–∫—É–ø–∫–∏
```python
# –ß–µ—Ä–µ–∑ state_manager:
params = state_manager.get_breakeven_params("ETH")
params['rebuy_trigger_pct'] = 3.0  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 3%
state_manager.set_breakeven_params("ETH", params)
```

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –§–ê–ô–õ–´

1. **`autotrader_v2.py`**
   - –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–∫—É–ø–∫–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª

2. **`breakeven_calculator.py`**
   - –§—É–Ω–∫—Ü–∏—è `calculate_breakeven_table`
   - –ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ –¥–æ–∫—É–ø–∫–∏

3. **`trade_logger.py`**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–ø–æ–∫ (`log_buy`)

4. **`state_manager.py`**
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (`breakeven_params`)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ü–∏–∫–ª–æ–≤

---

## üéì –í–´–í–û–î–´

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. –ü–æ–ª–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–∫—É–ø–∫–∏ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª AutoTrader V2
3. –ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –¥–æ–∫—É–ø–∫–∏
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å (lock/unlock)

### üìå –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
1. **–î–æ–∫—É–ø–∫–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã
2. **–¢–∞–±–ª–∏—Ü–∞ –ü–ï–†–ï–°–ß–ò–¢–´–í–ê–ï–¢–°–Ø** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –¥–æ–∫—É–ø–∫–∏
3. **–°—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫—É—Ä—Å** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Ü–µ–ª–∏
4. **–ü—Ä–æ–¥–∞–∂–∞** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –í–°–ï–ì–û –æ–±—ä—ë–º–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏

### üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!
–ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–∫—É–ø–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –±–æ–µ–≤–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `trading_log_YYYY-MM-DD.csv`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `rebuy_trigger_pct` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∞–ª—é—Ç—ã

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–î–∞—Ç–∞:** 08.12.2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ
