# üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê: –°–ò–ù–ò–ô –ë–û–†–î–Æ–† –ù–ï –ü–û–Ø–í–õ–Ø–ï–¢–°–Ø

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–î–ª—è –≤–∞–ª—é—Ç—ã **ANIME** (–∏ –≤–æ–∑–º–æ–∂–Ω–æ –¥—Ä—É–≥–∏—Ö) —Å–∏–Ω–∏–π –±–æ—Ä–¥—é—Ä –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, —Ö–æ—Ç—è —Ç–æ—Ä–≥–æ–≤–ª—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–∫–ª—é—á–µ–Ω–∞ (`permission=false`).

## üî¨ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `static/app.js`

#### 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `permissionEnabled`
–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é `updateTabsPermissionsUI()` (—Å—Ç—Ä–æ–∫–∞ ~779):

```javascript
// üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê: –õ–æ–≥–∏—Ä—É–µ–º permission –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
if(code === 'ANIME' || permissionEnabled === false || permissionEnabled === undefined){
  console.log(`[PERMISSION_DEBUG] ${code}:`, {
    permissionEnabled: permissionEnabled,
    tradingPermissions: window.tradingPermissions,
    specificValue: window.tradingPermissions ? window.tradingPermissions[code] : 'no tradingPermissions'
  });
}
```

#### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–ø—É—Å–∫–∞ —Å–∏–Ω–µ–≥–æ –±–æ—Ä–¥—é—Ä–∞
–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è ANIME (—Å—Ç—Ä–æ–∫–∞ ~860):

```javascript
else if(code === 'ANIME'){
  // üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê: –ï—Å–ª–∏ —ç—Ç–æ ANIME –∏ —Å–∏–Ω–∏–π –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª—Å—è, –ª–æ–≥–∏—Ä—É–µ–º –ø–æ—á–µ–º—É
  console.log(`[BORDER_DEBUG] ${code}: permission=${permissionEnabled}, —Ç–∏–ø=${typeof permissionEnabled}, —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å false: ${permissionEnabled === false}`);
}
```

---

## üß™ –ö–∞–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python autotrader_v2.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:5000
3. –ù–∞–∂–º–∏—Ç–µ **F12** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Console**

### –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ –¥–ª—è ANIME
–ù–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å—Ç—Ä–æ–∫–∏:
```
[PERMISSION_DEBUG] ANIME: {...}
[BORDER_DEBUG] ANIME: permission=..., —Ç–∏–ø=..., —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å false: ...
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è

#### –í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

##### ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–π 1: `permission === false` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```javascript
[PERMISSION_DEBUG] ANIME: {
  permissionEnabled: false,
  tradingPermissions: {...},
  specificValue: false
}
[BORDER] ANIME: trading-disabled (permission=false) - –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Ü–≤–µ—Ç–∞
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏–Ω–∏–π –±–æ—Ä–¥—é—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è ‚úÖ

##### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π 2: `permission === undefined` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```javascript
[PERMISSION_DEBUG] ANIME: {
  permissionEnabled: undefined,
  tradingPermissions: {...},
  specificValue: undefined
}
[BORDER_DEBUG] ANIME: permission=undefined, —Ç–∏–ø=undefined, —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å false: false
```
**–ü—Ä–æ–±–ª–µ–º–∞:** `window.tradingPermissions[code]` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`, –∞ –Ω–µ `false`  
**–ü—Ä–∏—á–∏–Ω–∞:** –í–∞–ª—é—Ç–∞ ANIME –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ–±—ä–µ–∫—Ç–µ `tradingPermissions`

##### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π 3: `permission === true` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```javascript
[PERMISSION_DEBUG] ANIME: {
  permissionEnabled: true,
  tradingPermissions: {...},
  specificValue: true
}
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ—Ä–≥–æ–≤–ª—è –≤–∫–ª—é—á–µ–Ω–∞ –≤–º–µ—Å—Ç–æ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π  
**–ü—Ä–∏—á–∏–Ω–∞:** –í `state.json` –∏–ª–∏ —á–µ—Ä–µ–∑ API permission —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `true`

##### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π 4: `tradingPermissions` –≤–æ–æ–±—â–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```javascript
[PERMISSION_DEBUG] ANIME: {
  permissionEnabled: undefined,
  tradingPermissions: undefined,
  specificValue: 'no tradingPermissions'
}
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–±—ä–µ–∫—Ç `window.tradingPermissions` –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω  
**–ü—Ä–∏—á–∏–Ω–∞:** API `/api/trade/permissions` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É

---

## üîß –†–µ—à–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: `permission === undefined`
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–∞–ª—é—Ç–∞ ANIME –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `tradingPermissions`

**–†–µ—à–µ–Ω–∏–µ 1:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `state.json`
```json
{
  "enabled_currencies": {
    "ANIME": false,  // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å false
    ...
  }
}
```

**–†–µ—à–µ–Ω–∏–µ 2:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API `/api/trade/permissions`
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000/api/trade/permissions
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ANIME –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
   ```json
   {
     "success": true,
     "permissions": {
       "ANIME": false,
       ...
     }
   }
   ```

**–†–µ—à–µ–Ω–∏–µ 3:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ ANIME –≤ permissions —á–µ—Ä–µ–∑ API
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
await fetch('/api/trade/permission/ANIME/false', {method: 'POST'});
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: `permission === true`
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ—Ä–≥–æ–≤–ª—è –≤–∫–ª—é—á–µ–Ω–∞ –≤–º–µ—Å—Ç–æ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –í—ã–∫–ª—é—á–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤–ª—é –¥–ª—è ANIME
1. –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–∫–Ω–æ–ø–∫–∞ ON/OFF) –¥–ª—è ANIME
2. –ò–ª–∏ —á–µ—Ä–µ–∑ API:
   ```javascript
   await fetch('/api/trade/permission/ANIME/false', {method: 'POST'});
   ```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: `tradingPermissions` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** API –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ permissions
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
await loadTradingPermissions();
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–æ–±–µ—Ä–∏—Ç–µ –ª–æ–≥–∏** –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π** (1, 2, 3 –∏–ª–∏ 4)
3. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ**
4. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (F5) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ—è–≤–∏–ª—Å—è –ª–∏ —Å–∏–Ω–∏–π –±–æ—Ä–¥—é—Ä

---

## üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS –∫–ª–∞—Å—Å–∞
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
document.querySelector('[data-code="ANIME"]').classList
```

–î–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- ‚úÖ `trading-disabled` ‚Äî –µ—Å–ª–∏ permission=false (—Å–∏–Ω–∏–π –±–æ—Ä–¥—é—Ä)
- ‚ùå `ready-to-sell` –∏–ª–∏ `ready-to-buy` ‚Äî –µ—Å–ª–∏ permission=true (—Ü–≤–µ—Ç–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è)

---

**–î–∞—Ç–∞:** 2025  
**–§–∞–π–ª:** `static/app.js`  
**–°—Ç–∞—Ç—É—Å:** üî¨ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞, –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
