# ‚úÖ –ò–¢–û–ì–û–í–û–ï –†–ï–ó–Æ–ú–ï: –ê–õ–ì–û–†–ò–¢–ú –î–û–ö–£–ü–ö–ò –†–ï–ê–õ–ò–ó–û–í–ê–ù

## üìÖ –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
**08 –¥–µ–∫–∞–±—Ä—è 2024, 14:00**

---

## üéØ –ó–ê–î–ê–ß–ê

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–ø–∫–∏ (rebuy) –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã –≤ AutoTrader V2.

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ `_try_rebuy`**
**–§–∞–π–ª:** `autotrader_v2.py`  
**–°—Ç—Ä–æ–∫–∏:** ~1190-1390

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –¥–æ–∫—É–ø–∫–∏ (—Ü–µ–Ω–∞ —É–ø–∞–ª–∞ –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã breakeven
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ MARKET –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –¥–æ–∫—É–ø–∫—É
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ü–∏–∫–ª–∞ (step, volume, invested)
- ‚úÖ –ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã —Å –Ω–æ–≤—ã–º —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–º –∫—É—Ä—Å–æ–º
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–æ–∫—É–ø–∫–∏

### 2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª**
**–§–∞–π–ª:** `autotrader_v2.py`  
**–°—Ç—Ä–æ–∫–∞:** ~475

```python
if is_active:
    # –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏
    self._try_sell(base, quote, market_price, orderbook_price)
    
    # –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–∫—É–ø–∫–∏ (–î–û–ë–ê–í–õ–ï–ù–û!)
    self._try_rebuy(base, quote, market_price)
```

### 3. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
- ‚úÖ –§–ª–∞–≥ `_rebuy_in_progress` (–∞—Ç–æ–º–∞—Ä–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–¥ lock)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö BUY –æ—Ä–¥–µ—Ä–æ–≤ –ø–µ—Ä–µ–¥ –¥–æ–∫—É–ø–∫–æ–π
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ 5 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –¥–æ–∫—É–ø–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ

### 4. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã**
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –¥–æ–∫—É–ø–∫–∏:
```python
weighted_avg_price = cycle.total_invested_usd / cycle.base_volume
cycle.table = calculate_breakeven_table(params, current_price=weighted_avg_price)
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ü–µ–ª–µ–≤—ã–µ —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞.

### 5. **–°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- ‚úÖ `–ê–õ–ì–û–†–ò–¢–ú_–î–û–ö–£–ü–ö–ò_–†–ï–ê–õ–ò–ó–û–í–ê–ù.md` - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- ‚úÖ `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–î–û–ö–£–ü–ö–ò.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ `–ò–¢–û–ì–û–í–û–ï_–†–ï–ó–Æ–ú–ï_–î–û–ö–£–ü–ö–ê.md` - –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

---

## üîç –ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò

### 1. **–£—Å–ª–æ–≤–∏–µ –¥–æ–∫—É–ø–∫–∏**
```python
rebuy_threshold = last_buy_price * (1.0 - rebuy_trigger_pct / 100.0)

if current_price < rebuy_threshold:
    # –î–æ–∫—É–ø–∞–µ–º!
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä:** `rebuy_trigger_pct` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2%)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–ª—é—Ç—ã
- –ü–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ `state_manager.get_breakeven_params(base)`

### 2. **–í—ã–±–æ—Ä –æ–±—ä—ë–º–∞ –¥–æ–∫—É–ø–∫–∏**
–û–±—ä—ë–º –±–µ—Ä—ë—Ç—Å—è –∏–∑ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ —Ç–∞–±–ª–∏—Ü—ã:
```python
next_step_index = cycle.active_step + 1
next_step = cycle.table[next_step_index]
purchase_usd = float(next_step.get('purchase_usd', 0))
```

### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –¥–æ–∫—É–ø–∫–∏:
```python
cycle.active_step += 1                    # –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
cycle.last_buy_price = executed_price     # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–∫—É–ø–∫–∏
cycle.total_invested_usd += executed_cost # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
cycle.base_volume += executed_amount      # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–±—ä—ë–º–∞
```

### 4. **–ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã**
–°—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫—É—Ä—Å:
```
weighted_avg = total_invested_usd / base_volume
```

–ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å —ç—Ç–∏–º –∫—É—Ä—Å–æ–º, –æ–±–Ω–æ–≤–ª—è—è:
- –¶–µ–Ω—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ (breakeven_price)
- –¶–µ–ª–µ–≤—ã–µ –¥–µ–ª—å—Ç—ã (target_delta_pct)
- –û–±—ä—ë–º—ã –ø—Ä–æ–¥–∞–∂–∏ (volume_to_sell)

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –û–®–ò–ë–û–ö

### 1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–ø–æ–∫**
–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è:
- –ê—Ç–æ–º–∞—Ä–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ñ–ª–∞–≥–∞ –ø–æ–¥ lock
- –ü—Ä–æ–≤–µ—Ä–∫–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- –ó–∞–¥–µ—Ä–∂–∫–µ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏

### 2. **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ —à–∞–≥–æ–≤**
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–∫—É–ø–∫–æ–π:
```python
if next_step_index >= len(cycle.table):
    return  # –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ–∫—É–ø–∫—É
```

### 3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤**
–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ USDT –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞:
```python
if available_usdt < purchase_usd:
    return  # –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ–∫—É–ø–∫—É
```

### 4. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
–í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è:
```python
if purchase_usd <= 0:
    return  # –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ–∫—É–ø–∫—É

if executed_price <= 0:
    return  # –ë–ª–æ–∫–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

---

## üìä –ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´ (–ö–†–ê–¢–ö–ê–Ø –í–ï–†–°–ò–Ø)

1. **–ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–Ω—É –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
2. **–ï—Å–ª–∏ —Ü–∏–∫–ª –∞–∫—Ç–∏–≤–µ–Ω:** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `_try_sell` –∏ `_try_rebuy`
3. **`_try_rebuy` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ:** `price < last_buy_price * (1 - trigger%)`
4. **–ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å USDT
   - –°–æ–∑–¥–∞—ë—Ç MARKET –æ—Ä–¥–µ—Ä
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ü–∏–∫–ª–∞
   - –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É
   - –õ–æ–≥–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é
5. **–¶–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è** –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏

---

## üìù –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –≤ `trading_log_YYYY-MM-DD.csv`
```csv
timestamp,currency,operation,volume,price,delta_percent,total_drop_percent,pnl,investment,source
2024-12-08 14:15:00,XRP,buy,15.234,0.657,0.00,0.00,,10.0,AUTO
2024-12-08 14:20:00,XRP,buy,31.056,0.644,-1.98,2.00,,20.0,AUTO
2024-12-08 14:30:00,XRP,sell,46.290,0.651,0.45,,0.135,,AUTO
```

**–ü–æ—è—Å–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π:**
- `delta_percent`: –ü—Ä–æ—Ü–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ **—Å—Ç–∞—Ä—Ç–æ–≤–æ–π** —Ü–µ–Ω—ã
- `total_drop_percent`: –û–±—â–µ–µ –ø–∞–¥–µ–Ω–∏–µ –æ—Ç —Å—Ç–∞—Ä—Ç–∞ (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã)
- `investment`: –°—É–º–º–∞ USDT, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–∞—è –Ω–∞ –ø–æ–∫—É–ø–∫—É
- `pnl`: –ü—Ä–æ—Ñ–∏—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏)

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
1. **–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç:** 1 –¥–æ–∫—É–ø–∫–∞ ‚Üí –ø—Ä–æ–¥–∞–∂–∞
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–∫—É–ø–∫–∏:** 3-5 –¥–æ–∫—É–ø–æ–∫ ‚Üí –ø—Ä–æ–¥–∞–∂–∞
3. **–õ–∏–º–∏—Ç —à–∞–≥–æ–≤:** –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ `max_steps`
4. **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:** –ë—ã—Å—Ç—Ä–æ–µ –ø–∞–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- ‚úÖ –î–æ–∫—É–ø–∫–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- ‚úÖ –ù–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü—Ä–æ–¥–∞–∂–∞ –ø–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–π —Ü–µ–ª–∏
- ‚úÖ PnL —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–î–û–ö–£–ü–ö–ò.md`

---

## üìÅ –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

### 1. `autotrader_v2.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_try_rebuy` (~200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_clear_rebuy_flag` (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤—ã–∑–æ–≤ `_try_rebuy` –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª

**–°—Ç—Ä–æ–∫–∏:**
- –ú–µ—Ç–æ–¥ `_try_rebuy`: ~1190-1390
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ü–∏–∫–ª: ~475

### 2. –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ `–ê–õ–ì–û–†–ò–¢–ú_–î–û–ö–£–ü–ö–ò_–†–ï–ê–õ–ò–ó–û–í–ê–ù.md`
- ‚úÖ `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø_–î–û–ö–£–ü–ö–ò.md`
- ‚úÖ `–ò–¢–û–ì–û–í–û–ï_–†–ï–ó–Æ–ú–ï_–î–û–ö–£–ü–ö–ê.md`

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ò

### –ü–∞—Ä–∞–º–µ—Ç—Ä `rebuy_trigger_pct`
**–ì–¥–µ:** `state_manager.get_breakeven_params(base)`

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 2.0 (–¥–æ–∫—É–ø–∫–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –Ω–∞ 2%)

**–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:**
```python
params = state_manager.get_breakeven_params("XRP")
params['rebuy_trigger_pct'] = 3.0  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 3%
state_manager.set_breakeven_params("XRP", params)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö –º–æ–Ω–µ—Ç: 1.5-2.5%
- –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –º–æ–Ω–µ—Ç: 0.5-1.5%

---

## üéì –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

### 1. **–î–æ–∫—É–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Ü–∏–∫–ª–µ**
```python
if not cycle.is_active():
    return  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º
```

### 2. **–¢–∞–±–ª–∏—Ü–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è**
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –¥–æ–∫—É–ø–∫–∏ —Å—Ä–µ–¥–Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫—É—Ä—Å –∏–∑–º–µ–Ω—è–µ—Ç—Å—è:
```python
weighted_avg = total_invested / base_volume
cycle.table = calculate_breakeven_table(params, weighted_avg)
```

### 3. **–ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –í–°–ï–ì–û –æ–±—ä—ë–º–∞**
–ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏ –ø—Ä–æ–¥–∞—ë—Ç—Å—è:
```python
volume_to_sell = cycle.base_volume  # –í–µ—Å—å –æ–±—ä—ë–º!
```

### 4. **–§–ª–∞–≥ `_rebuy_in_progress` –∫—Ä–∏—Ç–∏—á–µ–Ω**
–ë–µ–∑ –Ω–µ–≥–æ –≤–æ–∑–º–æ–∂–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –¥–æ–∫—É–ø–∫–∏:
```python
with lock:
    cycle._rebuy_in_progress = True  # –ê–¢–û–ú–ê–†–ù–û!
```

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. –ü–æ–ª–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–∫—É–ø–∫–∏
2. –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ü–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
5. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:
1. –û–ø–∏—Å–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
3. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!
–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –≥–æ—Ç–æ–≤ –∫ –±–æ–µ–≤–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

## üìû –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å AutoTrader V2**
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –≤–∞–ª—é—Ç—ã
3. **–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é** –∏ –¥–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏
4. **–ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –¥–æ–∫—É–ø–∫–∞–º–∏** –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏
6. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏** –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üéâ –ò–¢–û–ì

**–ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–∫—É–ø–∫–∏ (rebuy) –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!**

–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–ø–∫–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å

**–°—Ç–∞—Ç—É—Å:** üü¢ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ –ò –ë–û–ï–í–û–ú–£ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 08.12.2024  
**–ê–≤—Ç–æ—Ä:** GitHub Copilot + User  
**–ü—Ä–æ–µ–∫—Ç:** bGate.mTrade - AutoTrader V2
