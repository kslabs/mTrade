* {margin:0;padding:0;box-sizing:border-box}
        body {font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:#1a1a1a;min-height:100vh;padding:20px;color:#e0e0e0}
        .container {max-width:1600px;margin:0 auto}
        .header {background:#2a2a2a;border-radius:8px;padding:12px 20px;margin-bottom:15px;box-shadow:0 2px 10px rgba(0,0,0,.3);border:1px solid #3a3a3a;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:20px}
        .header-left {display:flex;align-items:center;gap:15px;justify-self:start}
        .header-center {display:flex;align-items:center;gap:12px;justify-self:center}
        .header-right {display:flex;align-items:center;gap:20px;justify-self:end}
        .header h1 {color:#4CAF50;margin:0;font-size:18px;font-weight:600}
        .header p {color:#666;font-size:11px;margin:0}
        .mode-label {font-weight:500;color:#999;font-size:11px}
        .mode-label.active {color:#4CAF50}
        .server-status-inline {display:flex;align-items:center;gap:8px;padding:6px 12px;background:#1a1a1a;border-radius:6px;border:1px solid #3a3a3a;font-size:12px}
        .status-dot {width:8px;height:8px;border-radius:50%;background:#4CAF50;animation:pulse 2s infinite}
        .uptime-display {color:#999;font-size:12px;font-family:'Courier New',monospace}
        .server-controls-inline {display:flex;gap:8px}
        .server-btn-small {padding:6px 12px;border:none;border-radius:6px;cursor:pointer;font-size:11px;font-weight:500;transition:.2s}
        .server-btn-small.restart { /* 2x larger icon and centered */
            width:36px; height:36px; padding:0;
            font-size:22px; line-height:1;
            display:flex; align-items:center; justify-content:center;
        }
        .server-btn-small.restart {background:#FF9800;color:#fff}
        .server-btn-small.restart:hover {background:#F57C00}
        .server-btn-small.shutdown { /* 2x larger icon and centered */
            width:36px; height:36px; padding:0;
            font-size:22px; line-height:1;
            display:flex; align-items:center; justify-content:center;
        }
        .server-btn-small.shutdown {background:#f44336;color:#fff}
        .server-btn-small.shutdown:hover {background:#d32f2f}
        /* Control buttons (Buy, Sell, Reset) - same size as restart button */
        .control-large {
            width: 36px !important;
            height: 36px !important;
            padding: 0 !important;
            font-size: 20px !important;
            line-height: 1 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        .toggle-switch {position:relative;width:60px;height:30px;background:#1a1a1a;border-radius:15px;cursor:pointer;transition:background .3s;border:2px solid #3a3a3a}
        .toggle-switch.active {background:#4CAF50}
        .toggle-slider {position:absolute;top:3px;left:3px;width:24px;height:24px;background:#fff;border-radius:50%;transition:transform .3s;box-shadow:0 2px 5px rgba(0,0,0,.4)}
        .toggle-switch.active .toggle-slider {transform:translateX(30px)}
        .grid {display:grid;grid-template-columns:1fr 80px 1fr;gap:15px;margin-bottom:15px}
        .indicator-card {display:flex;align-items:flex-start;justify-content:center;padding:8px 6px;height:100%}
        .indicator-scale {position:relative;width:56px;height:650px;background:linear-gradient(#0d0d0d,#111);border-radius:8px;border:1px solid #2a2a2a;box-shadow:inset 0 0 20px rgba(0,0,0,.7);display:block}
        .indicator-marker {position:absolute;left:0;width:45%;height:3px;border-radius:2px;box-shadow:0 1px 6px rgba(0,0,0,.6);transition:top .6s cubic-bezier(.22,1,.36,1),height .25s,box-shadow .25s,opacity .25s}
        .indicator-marker .label {position:absolute;left:100%;margin-left:4px;top:-8px;font-size:11px;color:#ccc;white-space:nowrap}
        .marker-tooltip {position:absolute;left:100%;top:-30px;margin-left:10px;background:rgba(0,0,0,.8);color:#fff;padding:6px 8px;border-radius:6px;font-size:12px;white-space:nowrap;box-shadow:0 6px 18px rgba(0,0,0,.6);opacity:0;transform:translateY(6px);transition:.18s}
        .indicator-marker:hover .marker-tooltip {opacity:1;transform:translateY(0)}
        /* Футер индикатора с уменьшенным шрифтом */
        .indicator-footer {
            width:56px;
            background:rgba(0,0,0,0.7);
            border-top:1px solid #3a3a3a;
            border-radius:0 0 8px 8px;
            padding:4px 6px;
            font-size:9px;
            margin-top:4px;
        }
        .indicator-footer .row {
            display:flex;
            justify-content:space-between;
            align-items:center;
            padding:2px 0;
            border-bottom:1px solid rgba(255,255,255,0.05);
        }
        .indicator-footer .row:last-child {
            border-bottom:none;
        }
        .indicator-footer .row.price {
            font-weight:600;
        }
        .indicator-footer .label {
            color:#888;
            font-size:9px;
            margin-left:-2px;
        }
        .indicator-footer .value {
            color:#4CAF50;
            font-weight:500;
            font-size:9px;
            text-align:right;
        }
        .card {background:#2a2a2a;border-radius:8px;padding:15px;box-shadow:0 2px 10px rgba(0,0,0,.3);border:1px solid #3a3a3a}
        .card h3 {color:#4CAF50;margin-bottom:12px;font-size:14px;border-bottom:1px solid #3a3a3a;padding-bottom:8px;font-weight:600}
        .market-header {display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:8px 10px;background:#1a1a1a;border-radius:6px;border:1px solid #3a3a3a}
        .pair-name {font-size:14px;font-weight:600;color:#4CAF50}
        .pair-price {font-size:12px;font-weight:700;color:#4CAF50}
        .balances-grid {display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:12px}
        .balance-item {background:#1a1a1a;border:1px solid #3a3a3a;border-radius:6px;padding:10px}
        .balance-label {font-size:11px;color:#999;margin-bottom:6px;font-weight:500}
        .balance-value {font-size:15px;font-weight:600;color:#4CAF50;margin-bottom:4px}
        .balance-usd {font-size:11px;color:#888}
        @keyframes pulse {0%,100%{opacity:1}50%{opacity:.6}}
        .orderbook-container {background:#1a1a1a;border-radius:8px;padding:10px;border:1px solid #3a3a3a}
        .orderbook-header {display:grid;grid-template-columns:1fr .9fr .9fr 1fr;gap:5px;padding:6px 5px;font-size:10px;font-weight:600;color:#666;border-bottom:1px solid #3a3a3a}
        .orderbook-asks,.orderbook-bids {max-height: 220px; overflow-y:auto}
        .orderbook-row {display:grid;grid-template-columns:1fr .9fr .9fr 1fr;gap:5px;padding:2px 5px;font-size:11px;cursor:pointer; height: 20px; align-items:center}
        .orderbook-row:hover {background:#2a2a2a}
        .orderbook-asks .price {color:#f44336}
        .orderbook-bids .price {color:#4CAF50}
        .orderbook-row .amount,.orderbook-row .total {color:#999}
        .orderbook-row .cumulative {color:#888;font-weight:600;font-size:10px}
        /* Подсветка уровней покупки/продажи в стакане */
        .orderbook-buy-level {
            background: rgba(255, 0, 0, 0.15) !important;
            border-left: 3px solid #ff0000;
            font-weight: 600;
        }
        .orderbook-buy-level:hover {
            background: rgba(255, 0, 0, 0.25) !important;
        }
        .orderbook-sell-level {
            background: rgba(0, 255, 0, 0.15) !important;
            border-left: 3px solid #00ff00;
            font-weight: 600;
        }
        .orderbook-sell-level:hover {
            background: rgba(0, 255, 0, 0.25) !important;
        }
        .orderbook-spread {display:flex;justify-content:space-between;align-items:center;padding:6px 5px;font-size:11px;font-weight:600;color:#999;border-top:1px solid #3a3a3a;border-bottom:1px solid #3a3a3a;background:#252525}
        #currentPrice {color:#4CAF50;font-size:12px;font-weight:700}
        #spreadValue {color:#FF9800}
        /* Network mode toggle - dual button style */
        .network-switch {
            display:inline-flex;
            align-items:center;
            gap:2px;
            background:#1a1a1a;
            border:1px solid #3a3a3a;
            border-radius:8px;
            padding:2px;
            user-select:none;
        }
        .network-switch .mode-option {
            padding:4px 16px;
            font-size:11px;
            font-weight:500;
            color:#666;
            background:transparent;
            border:none;
            border-radius:6px;
            transition:all .3s cubic-bezier(.22,1,.36,1);
            cursor:pointer;
            position:relative;
            letter-spacing:0.5px;
            text-transform:uppercase;
            line-height:1.2;
        }
        .network-switch .mode-option:hover:not(.active) {
            background:#2a2a2a;
            color:#999;
        }
        /* Активный режим: крупнее, жирнее и ярче */
        .network-switch .mode-option.active {
            padding:5px 18px;
            font-size:14px;
            font-weight:700;
            transform:scale(1.08);
        }
        /* Work mode - зелёный */
        .network-switch .mode-option[data-mode="work"].active {
            background:#4CAF50;
            color:#fff;
            box-shadow:0 3px 12px rgba(76,175,80,.6),inset 0 1px 0 rgba(255,255,255,.25);
        }
        /* Test mode - синий */
        .network-switch .mode-option[data-mode="test"].active {
            background:#2196F3;
            color:#fff;
            box-shadow:0 3px 12px rgba(33,150,243,.6),inset 0 1px 0 rgba(255,255,255,.25);
        }
        .network-switch.pending {
            opacity:0.7;
        }
        .network-switch.error {
            border-color:#f44336;
            animation:pulse-error .6s ease-in-out 2;
        }
        @keyframes pulse-error {
            0%, 100% { border-color:#f44336; }
            50% { border-color:#ff5252; }
        }
        #networkConnStatus {
            font-size:9px;
            color:#999;
            position:absolute;
            bottom:-14px;
            left:50%;
            transform:translateX(-50%);
            white-space:nowrap;
        }
        /* Trading mode toggle - dual button style (Trade/Copy) */
        .trading-mode-switch {
            display:inline-flex;
            align-items:center;
            gap:2px;
            background:#1a1a1a;
            border:1px solid #3a3a3a;
            border-radius:8px;
            padding:2px;
            user-select:none;
        }
        .trading-mode-switch .mode-option {
            padding:4px 16px;
            font-size:11px;
            font-weight:500;
            color:#666;
            background:transparent;
            border:none;
            border-radius:6px;
            transition:all .3s cubic-bezier(.22,1,.36,1);
            cursor:pointer;
            position:relative;
            letter-spacing:0.5px;
            text-transform:uppercase;
            line-height:1.2;
        }
        .trading-mode-switch .mode-option:hover:not(.active) {
            background:#2a2a2a;
            color:#999;
        }
        /* Активный режим: крупнее, жирнее и ярче */
        .trading-mode-switch .mode-option.active {
            padding:5px 18px;
            font-size:14px;
            font-weight:700;
            transform:scale(1.08);
        }
        /* Normal/Trade mode - зелёный */
        .trading-mode-switch .mode-option[data-mode="normal"].active {
            background:#4CAF50;
            color:#fff;
            box-shadow:0 3px 12px rgba(76,175,80,.6),inset 0 1px 0 rgba(255,255,255,.25);
        }
        /* Copy mode - оранжевый */
        .trading-mode-switch .mode-option[data-mode="copy"].active {
            background:#FF9800;
            color:#fff;
            box-shadow:0 3px 12px rgba(255,152,0,.6),inset 0 1px 0 rgba(255,255,255,.25);
        }
        .trading-mode-switch.pending {
            opacity:0.7;
        }
        /* AutoTrade toggle button */
        .autotrade-switch {
            display:inline-flex;
            align-items:center;
            gap:2px;
            background:#1a1a1a;
            border:1px solid #3a3a3a;
            border-radius:8px;
            padding:2px;
            user-select:none;
            cursor:pointer;
            transition:all .3s ease;
        }
        .autotrade-switch .mode-option {
            padding:4px 14px;
            font-size:11px;
            font-weight:500;
            color:#666;
            background:transparent;
            border:none;
            border-radius:6px;
            transition:all .3s cubic-bezier(.22,1,.36,1);
            position:relative;
            letter-spacing:0.5px;
            text-transform:uppercase;
            line-height:1.2;
        }
        .autotrade-switch .mode-option.active {
            padding:5px 16px;
            font-size:13px;
            font-weight:700;
            transform:scale(1.08);
        }
        /* AutoTrade OFF - красный */
        .autotrade-switch .mode-option[data-state="off"].active {
            background:#f44336;
            color:#fff;
            box-shadow:0 3px 12px rgba(244,67,54,.6),inset 0 1px 0 rgba(255,255,255,.25);
        }
        /* AutoTrade ON - зелёный */
        .autotrade-switch .mode-option[data-state="on"].active {
            background:#4CAF50;
            color:#fff;
            box-shadow:0 3px 12px rgba(76,175,80,.6),inset 0 1px 0 rgba(255,255,255,.25);
        }
        .autotrade-switch .label-text {
            font-size:10px;
            color:#999;
            margin-right:8px;
            text-transform:uppercase;
            letter-spacing:0.5px;
            font-weight:600;
        }
        .perm-toggle {display:inline-block;width:14px;height:14px;border-radius:50%;margin-left:6px;position:relative;cursor:pointer;box-shadow:0 0 0 1px #555,inset 0 0 4px rgba(0,0,0,.6)}
        .perm-toggle.on {background:#4CAF50}
        .perm-toggle.off {background:#f44336}
        .perm-indicator {width:18px;height:18px;border-radius:50%;position:absolute;top:2px;right:2px;box-shadow:0 0 0 2px #222,inset 0 0 6px rgba(0,0,0,.6);cursor:pointer;transition:transform .2s,box-shadow .2s}
        .perm-indicator.on {background:#4CAF50}
        .perm-indicator.off {background:#f44336}
        .perm-indicator:hover {transform:scale(1.15);box-shadow:0 0 0 2px #4CAF50,inset 0 0 8px rgba(0,0,0,.4)}
        .perm-indicator.off:hover {box-shadow:0 0 0 2px #f44336,inset 0 0 8px rgba(0,0,0,.4)}
        .base-currency-tabs {background:#2a2a2a;border-radius:8px;padding:10px;margin-bottom:15px;box-shadow:0 2px 10px rgba(0,0,0,.3);border:1px solid #3a3a3a;display:flex;gap:8px;overflow-x:auto}
        .base-currency-tabs {padding:8px 10px} /* меньше высота контейнера */
        .tab-item { /* уплотнено + место под индикатор разрешения */
            padding:4px 18px 4px 10px;
            line-height:1.05;
            min-height:auto;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            gap:4px;
            position:relative; /* нужно для абсолютного индикатора */
        }
        .tab-item .code-label {display:inline;font-weight:600}
        .tab-item .symbol-label {display:inline;margin:0;font-size:11px;color:#bbb;font-weight:500;line-height:1;position:static}
        .currency-gear-btn {padding:8px 12px;background:#1a1a1a;border:1px solid #3a3a3a;color:#ccc;border-radius:6px;cursor:pointer;font-size:12px;font-weight:600;display:flex;align-items:center;gap:6px}
        .currency-gear-btn:hover {background:#2f2f2f;color:#fff}
        .perm-indicator {width:18px;height:18px;border-radius:50%;position:absolute;top:2px;right:2px;box-shadow:0 0 0 2px #222,inset 0 0 6px rgba(0,0,0,.6);cursor:pointer;transition:transform .2s,box-shadow .2s}
        .perm-indicator.on {background:#4CAF50}
        .perm-indicator.off {background:#f44336}
        .perm-indicator:hover {transform:scale(1.15);box-shadow:0 0 0 2px #4CAF50,inset 0 0 8px rgba(0,0,0,.4)}
        .perm-indicator.off:hover {box-shadow:0 0 0 2px #f44336,inset 0 0 8px rgba(0,0,0,.4)}
        #currencyManagerModal {position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.65);z-index:1000}
        #currencyManagerModal .modal-inner {background:#222;border:1px solid #3a3a3a;border-radius:10px;padding:18px;max-width:580px;width:92%;max-height:80vh;overflow:auto;box-shadow:0 6px 24px rgba(0,0,0,.6)}
        #currencyManagerModal h4 {margin:0 0 12px;font-size:15px;color:#4CAF50;font-weight:600}
        .cm-row {display:grid;grid-template-columns:70px 120px 1fr auto;gap:8px;align-items:center;padding:6px 0;border-bottom:1px solid #2e2e2e;font-size:12px}
        .cm-row input {background:#111;border:1px solid #333;border-radius:4px;padding:6px;color:#eee;font-size:12px}
        .cm-row.disabled {opacity:.5}
        .cm-symbol-picker {display:flex;gap:4px;align-items:center}
        .cm-symbol-picker .cm-symbol {flex:1;cursor:pointer}
        .cm-emoji-btn {background:#3a3a3a;border:1px solid #4a4a4a;border-radius:4px;padding:4px 8px;font-size:14px;cursor:pointer;transition:all .2s}
        .cm-emoji-btn:hover {background:#4a4a4a;transform:scale(1.1)}
        
        /* Emoji Picker Popup */
        .emoji-picker-popup {position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#2a2a2a;border:1px solid #3a3a3a;border-radius:12px;padding:16px;box-shadow:0 8px 32px rgba(0,0,0,.7);z-index:2000;min-width:360px;max-width:480px}
        .emoji-picker-header {font-size:14px;font-weight:600;color:#4CAF50;margin-bottom:12px;text-align:center;border-bottom:1px solid #3a3a3a;padding-bottom:8px}
        .emoji-picker-grid {display:grid;grid-template-columns:repeat(9,1fr);gap:6px;margin-bottom:12px;max-height:280px;overflow-y:auto;padding:4px}
        .emoji-item {display:flex;align-items:center;justify-content:center;width:36px;height:36px;font-size:20px;cursor:pointer;border-radius:6px;background:#1a1a1a;border:1px solid #3a3a3a;transition:all .2s}
        .emoji-item:hover {background:#3a3a3a;transform:scale(1.15);border-color:#4CAF50}
        .emoji-picker-custom {display:flex;gap:8px;margin-bottom:12px}
        .emoji-picker-custom input {flex:1;background:#1a1a1a;border:1px solid #3a3a3a;border-radius:6px;padding:8px;color:#eee;font-size:13px}
        .emoji-picker-custom button {background:#4CAF50;color:#fff;border:none;border-radius:6px;padding:8px 16px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}
        .emoji-picker-custom button:hover {background:#45a049}
        .emoji-picker-close {position:absolute;top:8px;right:8px;background:transparent;border:none;color:#999;font-size:18px;cursor:pointer;width:28px;height:28px;border-radius:4px;transition:all .2s}
        .emoji-picker-close:hover {background:#3a3a3a;color:#fff}
        /* --- Compact tabs final overrides (placed last to win specificity) --- */
        .base-currency-tabs{align-items:center;gap:8px}
        .currency-gear-btn{padding:6px 10px}
        .base-currency-tabs .tab-item{
            padding:4px 18px 4px 1px;
            display:inline-flex;
            align-items:center;
            justify-content:flex-start;
            gap:4px;
            line-height:1;
            min-height:auto;
            position:relative;
        }
        .base-currency-tabs .tab-item .code-label{font-weight:600;margin-left:0px;padding-left:0px}
        .base-currency-tabs .tab-item .symbol-label{display:inline!important;margin:0!important;font-size:11px;color:#bbb;font-weight:500}
        .base-currency-tabs .tab-item .symbol-label:empty{display:none!important}
        .base-currency-tabs .tab-item .perm-indicator{right:2px;top:1px;z-index:2;width:16px;height:16px}
        /* Индикатор активного шага на вкладке */
        .base-currency-tabs .tab-item .step-indicator{
            position:absolute;
            bottom:1px;
            right:1px;
            background:transparent;
            color:#fff;
            font-size:11px;
            font-weight:700;
            padding:0 2px;
            border-radius:0;
            line-height:1;
            z-index:3;
            box-shadow:none;
            pointer-events:none;
            text-shadow:0 0 3px rgba(0,0,0,0.8);
        }
        .base-currency-tabs .tab-item.active .step-indicator{
            color:#fff;
            text-shadow:0 0 4px rgba(0,0,0,0.9);
        }
        /* Акцент активной вкладки и индикатора разрешения */
        .base-currency-tabs .tab-item.active {background:#2E7D32!important;color:#fff!important}
        .base-currency-tabs .tab-item.active .symbol-label {color:#eaffea!important}
        .base-currency-tabs .tab-item .perm-indicator {border:1px solid #111}
        .base-currency-tabs .tab-item.active .perm-indicator.on {box-shadow:0 0 0 1px #0d3,inset 0 0 6px rgba(0,0,0,.4)}
        /* Усиленный стиль кнопок выбора валюты - оптимальный бордер 2px */
        .base-currency-tabs .tab-item {background:#0d0d0d;border:2px solid #4CAF50;color:#ccc;font-weight:700;min-width:70px;border-radius:6px;cursor:pointer;user-select:none}
        .base-currency-tabs .tab-item:hover {background:#1a1a1a;color:#fff;border:2px solid #66BB6A}
        .base-currency-tabs .tab-item.active {background:#1B5E20!important;color:#fff!important;border:2px solid #1B5E20!important}
        
        /* 🔥 НОВОЕ: Цвет border в зависимости от готовности к покупке/продаже */
        /* Жёлтый border - цена выше цены продажи (готов продавать) - ЕЩЁ ТЕМНЕЕ ФОН */
        .base-currency-tabs .tab-item.ready-to-sell {border-color:#FFA000!important}
        .base-currency-tabs .tab-item.ready-to-sell:hover {border-color:#FFB300!important}
        .base-currency-tabs .tab-item.active.ready-to-sell {background:#B26A00!important;border-color:#B26A00!important}
        
        /* Красный border - цена ниже цены докупки (готов покупать) - ЕЩЁ ТЕМНЕЕ ФОН */
        .base-currency-tabs .tab-item.ready-to-buy {border-color:#D32F2F!important}
        .base-currency-tabs .tab-item.ready-to-buy:hover {border-color:#E53935!important}
        .base-currency-tabs .tab-item.active.ready-to-buy {background:#8B1C1C!important;border-color:#8B1C1C!important}
        
        /* 🔵 СИНИЙ цвет названия валюты - торговля выключена (inactive) - МАКСИМАЛЬНАЯ СПЕЦИФИЧНОСТЬ */
        .base-currency-tabs .tab-item.inactive-currency .code-label {color:#2196F3!important;text-shadow:0 0 2px rgba(33,150,243,0.5)!important}
        .base-currency-tabs .tab-item.inactive-currency:hover .code-label {color:#42A5F5!important;text-shadow:0 0 3px rgba(66,165,245,0.6)!important}
        .base-currency-tabs .tab-item.active.inactive-currency .code-label {color:#64B5F6!important;text-shadow:0 0 3px rgba(100,181,246,0.6)!important}
        /* Перекрываем ВСЕ возможные правила цвета для неактивных валют */
        .tab-item.inactive-currency .code-label,
        .base-currency-tabs .inactive-currency .code-label,
        .base-currency-tabs .tab-item.inactive-currency > .code-label,
        div.tab-item.inactive-currency .code-label,
        div.tab-item.inactive-currency span.code-label {color:#2196F3!important}
        /* Перекрываем даже для активной вкладки */
        .base-currency-tabs .tab-item.active.inactive-currency .code-label,
        .tab-item.active.inactive-currency .code-label {color:#64B5F6!important}
        /* --- Server controls overrides --- */
        .server-btn-small.restart { /* 2x larger icon and centered */
            width:36px; height:36px; padding:0;
            font-size:22px; line-height:1;
            display:flex; align-items:center; justify-content:center;
        }
        .server-btn-small.shutdown { /* 2x larger icon and centered */
            width:36px; height:36px; padding:0;
            font-size:22px; line-height:1;
            display:flex; align-items:center; justify-content:center;
        }
        /* Trade parameters editor */
        .params-header {
            display:flex;
            justify-content:space-between;
            align-items:center;
            margin-bottom:6px;
            padding-bottom:4px;
            border-bottom:1px solid #3a3a3a;
        }
        .params-header h2,
        .params-header h3 {
            margin:0;
            color:#4CAF50;
            font-size:12px;
            font-weight:600;
            border:none;
            padding:0;
        }
        .params-header-actions {
            display:flex;
            align-items:center;
            gap:4px;
        }
        .save-params-btn-compact {
            padding:3px 6px;
            background:#4CAF50;
            color:#fff;
            border:none;
            border-radius:3px;
            font-size:9px;
            font-weight:600;
            cursor:pointer;
            transition:all 0.2s;
            white-space:nowrap;
        }
        .save-params-btn-compact:hover {
            background:#45a049;
            transform:translateY(-1px);
        }
        .save-params-btn-compact:active {
            transform:translateY(0);
        }
        .trade-params-editor {
            background:#1a1a1a;
            border:1px solid #3a3a3a;
            border-radius:8px;
            padding:12px;
            margin-bottom:15px;
        }
        .params-row {
            display:grid;
            grid-template-columns:repeat(5,1fr);
            gap:8px 10px;
            margin-bottom:8px;
        }
        .params-row:last-child {
            grid-template-columns:repeat(4,1fr);
        }
        .param-field {
            display:flex;
            flex-direction:column;
            gap:3px;
        }
        .param-field label {
            font-size:10px;
            color:#999;
            font-weight:500;
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
            cursor:help;
        }
        .param-field input,
        .param-field select {
            background:#0d0d0d;
            border:1px solid #333;
            border-radius:4px;
            padding:5px 6px;
            color:#e0e0e0;
            font-size:11px;
            font-weight:500;
            width:100%;
        }
        .param-field input:focus,
        .param-field select:focus {
            outline:none;
            border-color:#4CAF50;
            box-shadow:0 0 0 2px rgba(76,175,80,0.2);
        }
        .params-save-status {
            font-size:8px;
            color:#4CAF50;
            white-space:nowrap;
        }
        .params-save-status.error {
            color:#f44336;
        }
        /* Symbol Picker Modal Styles */
        .symbol-picker-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(4px);
        }

        .symbol-picker-content {
            background: #2a2a2a;
            border-radius: 12px;
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
            border: 1px solid #3a3a3a;
        }

        .symbol-picker-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid #3a3a3a;
        }

        .symbol-picker-header h3 {
            color: #4CAF50;
            font-size: 18px;
            font-weight: 600;
            margin: 0;
            border: none;
            padding: 0;
        }

        .symbol-picker-close {
            background: none;
            border: none;
            color: #999;
            font-size: 32px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            line-height: 1;
            transition: color 0.2s;
        }

        .symbol-picker-close:hover {
            color: #f44336;
        }

        .symbol-picker-search {
            padding: 16px 24px;
            border-bottom: 1px solid #3a3a3a;
        }

        .symbol-picker-search input {
            width: 100%;
            padding: 10px 16px;
            background: #1a1a1a;
            border: 1px solid #3a3a3a;
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .symbol-picker-search input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .symbol-picker-tabs {
            display: flex;
            gap: 8px;
            padding: 16px 24px 0;
            border-bottom: 1px solid #3a3a3a;
        }

        .symbol-tab {
            padding: 10px 20px;
            background: #1a1a1a;
            border: 1px solid #3a3a3a;
            border-radius: 8px 8px 0 0;
            color: #999;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s;
            border-bottom: none;
        }

        .symbol-tab:hover {
            background: #252525;
            color: #e0e0e0;
        }

        .symbol-tab.active {
            background: #2a2a2a;
            color: #4CAF50;
            border-color: #3a3a3a #3a3a3a #2a2a2a #3a3a3a;
        }

        .symbol-picker-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px 24px;
        }

        .symbol-category {
            display: none;
        }

        .symbol-category.active {
            display: block;
        }

        .symbol-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
        }

        .symbol-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px 8px;
            background: #1a1a1a;
            border: 2px solid #3a3a3a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            gap: 4px;
        }

        .symbol-item:hover {
            background: #252525;
            border-color: #4a4a4a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .symbol-item.selected {
            /* Removed all visual distinction - selected button looks identical to unselected */
            background: #1a1a1a !important;
            border: 2px solid #3a3a3a !important;
            box-shadow: none !important;
        }

        .symbol-char {
            font-size: 28px;
            line-height: 1;
            margin-bottom: 4px;
        }

        .symbol-code {
            font-size: 10px;
            color: #666;
            font-family: 'Courier New', monospace;
        }

        .symbol-picker-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-top: 1px solid #3a3a3a;
            background: #252525;
            border-radius: 0 0 12px 12px;
        }

        .symbol-picker-preview {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #999;
            font-size: 14px;
        }

        .preview-symbol {
            font-size: 32px;
            color: #4CAF50;
            width: 40px;
            text-align: center;
        }

        .symbol-picker-actions {
            display: flex;
            gap: 10px;
        }

        .symbol-picker-actions button {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-cancel {
            background: #3a3a3a;
            color: #e0e0e0;
        }

        .btn-cancel:hover {
            background: #4a4a4a;
        }

        .btn-confirm {
            background: #4CAF50;
            color: white;
        }

        .btn-confirm:hover:not(:disabled) {
            background: #45a049;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
        }

        .btn-confirm:disabled {
            background: #2a2a2a;
            color: #666;
            cursor: not-allowed;
        }

        /* Scrollbar styles for symbol picker */
        .symbol-picker-body::-webkit-scrollbar {
            width: 8px;
        }

        .symbol-picker-body::-webkit-scrollbar-track {
            background: #1a1a1a;
            border-radius: 4px;
        }

        .symbol-picker-body::-webkit-scrollbar-thumb {
            background: #3a3a3a;
            border-radius: 4px;
        }

        .symbol-picker-body::-webkit-scrollbar-thumb:hover {
            background: #4a4a4a;
        }

        /* Currency symbol button in currency editor */
        .currency-symbol-btn {
            padding: 8px 16px;
            background: #1a1a1a;
            border: 1px solid #3a3a3a;
            border-radius: 6px;
            color: #4CAF50;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
        }

        .currency-symbol-btn:hover {
            background: #252525;
            border-color: #4CAF50;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
        }

/* Стили для индикатора активного торгового цикла */
.autotrade-cycle-indicator {
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    margin-bottom: 15px;
}

.cycle-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #3a3a3a;
}

.cycle-header h3 {
    margin: 0;
    padding: 0;
    border: none;
}

.cycle-status {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    background: #1a1a1a;
    border-radius: 6px;
    border: 1px solid #3a3a3a;
}

.cycle-status .cycle-label {
    font-size: 12px;
    color: #999;
}

.cycle-status .value {
    font-size: 12px;
    font-weight: 600;
    padding: 3px 8px;
    border-radius: 4px;
}

.cycle-status .value.active {
    color: #4CAF50;
    background: rgba(76, 175, 80, 0.15);
}

.cycle-status .value.inactive {
    color: #999;
    background: rgba(153, 153, 153, 0.1);
}

.cycle-info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.cycle-section {
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    border-radius: 6px;
    padding: 12px;
}

.section-title {
    font-size: 12px;
    font-weight: 600;
    color: #4CAF50;
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px solid #2a2a2a;
}

.price-levels,
.cycle-stats {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.price-row,
.stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 8px;
    background: #2a2a2a;
    border-radius: 4px;
    font-size: 12px;
}

.price-row.sell,
.price-row.buy {
    border: 1px solid #3a3a3a;
    background: #252525;
}

.price-row .label,
.stat-row .label {
    color: #999;
    font-weight: 500;
}

.price-row .value,
.stat-row .value {
    color: #e0e0e0;
    font-weight: 600;
    font-family: 'Courier New', monospace;
}

.price-row .value.highlight {
    color: #4CAF50;
    font-size: 13px;
}

.stat-row .value.positive {
    color: #4CAF50;
}

.stat-row .value.negative {
    color: #f44336;
}

@media (max-width: 1200px) {
    .cycle-info-grid {
        grid-template-columns: 1fr;
    }
}

/* Плавный переход для подсветки активной строки в таблице безубыточности */
table tbody tr {
    transition: background-color 0.3s ease, border-left 0.3s ease, font-weight 0.3s ease;
}

/* === УСИЛЕНИЕ ВИЗУАЛА: Номер шага в таблице безубыточности === */
/* Заголовок колонки номера шага - ОТКЛЮЧЕНО */
/*
#breakEvenTable thead th:first-child {
    background: #1a4d1a !important;
    color: #00ff00 !important;
    font-size: 14px !important;
    font-weight: 900 !important;
    text-align: center !important;
    min-width: 50px !important;
    border-right: 3px solid #4CAF50 !important;
    text-shadow: 0 0 8px rgba(0,255,0,0.7) !important;
    padding: 8px !important;
}
*/

/* Стили для первого столбца таблицы отключены - возврат к стандартному виду */
/* 
#breakEvenTable tbody td:first-child {
    background: linear-gradient(135deg, #1a4d1a 0%, #2e7d32 100%) !important;
    color: #00ff00 !important;
    font-size: 18px !important;
    font-weight: 900 !important;
    text-align: center !important;
    min-width: 50px !important;
    border-right: 3px solid #4CAF50 !important;
    text-shadow: 0 0 10px rgba(0,255,0,0.8), 0 0 20px rgba(0,255,0,0.4) !important;
    padding: 10px 8px !important;
    letter-spacing: 1px !important;
    font-family: 'Arial Black', 'Arial', sans-serif !important;
}

#breakEvenTable tbody tr[style*="2a4a2a"] td:first-child,
#breakEvenTable tbody tr[style*="background:#2a4a2a"] td:first-child,
#breakEvenTable tbody tr[style*="background: #2a4a2a"] td:first-child {
    background: linear-gradient(135deg, #2e7d32 0%, #4CAF50 100%) !important;
    color: #ffffff !important;
    font-size: 20px !important;
    box-shadow: 0 0 15px rgba(76,175,80,1), inset 0 0 10px rgba(255,255,255,0.2) !important;
    border: 2px solid #fff !important;
    animation: pulse-glow 2s ease-in-out infinite !important;
}

@keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 15px rgba(76,175,80,0.8), inset 0 0 10px rgba(255,255,255,0.2); }
    50% { box-shadow: 0 0 25px rgba(76,175,80,1), inset 0 0 15px rgba(255,255,255,0.3); }
}

.step-number-cell {
    background: linear-gradient(135deg, #1a4d1a 0%, #2e7d32 100%) !important;
    color: #00ff00 !important;
    font-size: 18px !important;
    font-weight: 900 !important;
    text-align: center !important;
    min-width: 50px !important;
    border-right: 3px solid #4CAF50 !important;
    text-shadow: 0 0 10px rgba(0,255,0,0.8), 0 0 20px rgba(0,255,0,0.4) !important;
    padding: 10px 8px !important;
    letter-spacing: 1px !important;
    font-family: 'Arial Black', 'Arial', sans-serif !important;
}
*/

/* Стили для кнопок управления логами */
.btn-secondary {
    background: #5a5a5a;
    color: #fff;
    border: 1px solid #3a3a3a;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-secondary:hover {
    background: #6a6a6a;
}

.btn-warning {
    background: #ffa500;
    color: #fff;
    border: 1px solid #ff8c00;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-warning:hover {
    background: #ff8c00;
}

.btn-success {
    background: #4CAF50;
    color: #fff;
    border: 1px solid #45a049;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-success:hover {
    background: #45a049;
}

.btn-danger {
    background: #f44336;
    color: #fff;
    border: 1px solid #d32f2f;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-danger:hover {
    background: #d32f2f;
}
