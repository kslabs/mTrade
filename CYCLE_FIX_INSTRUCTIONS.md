# üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ü–†–ò–ú–ï–ù–ï–ù–ò–Æ –ò–ó–ú–ï–ù–ï–ù–ò–ô

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–¢–µ–ø–µ—Ä—å **–∫–∞–∂–¥–∞—è —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ü–∏–∫–ª** —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID, –∞ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—Ç–∞—Ä—ã–π.

## –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
python check_cycle_state.py
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Ü–∏–∫–ª–æ–≤.

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
python test_cycle_logic.py
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç:
```
‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´!
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞

**–í–ê–ñ–ù–û:** –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä–∞, –µ—Å–ª–∏ –æ–Ω –∑–∞–ø—É—â–µ–Ω.

#### Windows:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
taskkill /F /IM python.exe /FI "WINDOWTITLE eq mTrade*"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
python mTrade.py
```

#### Linux:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
pkill -f "python.*mTrade.py"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
python mTrade.py
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

```
[CYCLE] ‚ú® –ù–æ–≤—ã–π —Ü–∏–∫–ª #1 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!
[CYCLE] ‚úÖ –¶–∏–∫–ª #1 –∑–∞–≤–µ—Ä—à—ë–Ω! –í—Å–µ–≥–æ —Ü–∏–∫–ª–æ–≤: 1
[CYCLE] ‚ú® –ù–æ–≤—ã–π —Ü–∏–∫–ª #2 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ curl:

```bash
curl http://localhost:5003/api/autotrader/cycle/ETH
```

–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è:
```json
{
  "cycle_id": 1,
  "total_cycles_count": 0,
  "state": "active",
  ...
}
```

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –∏ –Ω–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª—Å—è —Å—Ç–∞—Ä—ã–π —Ü–∏–∫–ª
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ö–∞–∂–¥–∞—è –ø–æ–∫—É–ø–∫–∞ = –Ω–æ–≤—ã–π —Ü–∏–∫–ª —Å –Ω–æ–≤—ã–º ID
- –ú–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Ç–æ—Ä–≥–æ–≤–∞–ª–∏ –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç–æ–π
- –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ü–∏–∫–ª–∞–º–∏

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞:
- –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –î–ª—è —Å—Ç–∞—Ä—ã—Ö —Ü–∏–∫–ª–æ–≤ `cycle_id` –±—É–¥–µ—Ç = 0
- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –Ω–∞—á–Ω—ë—Ç—Å—è –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å 1

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
```
[CYCLE] ‚ú® –ù–æ–≤—ã–π —Ü–∏–∫–ª #N –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!
[CYCLE] ‚úÖ –¶–∏–∫–ª #N –∑–∞–≤–µ—Ä—à—ë–Ω! –í—Å–µ–≥–æ —Ü–∏–∫–ª–æ–≤: M
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
python check_cycle_state.py
```

–ü–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–µ–Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```
Cycle ID:           3
Total Cycles:       2
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API
```bash
curl http://localhost:5003/api/autotrader/cycle/ETH
```

–ü–æ–ª—è `cycle_id` –∏ `total_cycles_count` –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å.

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –õ–æ–≥–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `autotrader_v2.py` –±—ã–ª –∏–∑–º–µ–Ω—ë–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞: `ls -l autotrader_v2.py`

### –ü—Ä–æ–±–ª–µ–º–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
2. –°–¥–µ–ª–∞–π—Ç–µ hard reload (Ctrl+Shift+R)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ curl, –∞ –Ω–µ –±—Ä–∞—É–∑–µ—Ä

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `ls -l autotrader_cycles_state.json`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
3. –°–æ–∑–¥–∞–π—Ç–µ backup –≤—Ä—É—á–Ω—É—é: `cp autotrader_cycles_state.json autotrader_cycles_state.json.backup`

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏:

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ git (–µ—Å–ª–∏ –µ—Å—Ç—å)
git checkout autotrader_v2.py

# –ò–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup (–µ—Å–ª–∏ –µ—Å—Ç—å)
cp autotrader_v2.py.backup autotrader_v2.py
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –§–∞–π–ª `CYCLE_ID_FIX_COMPLETE.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
2. –§–∞–π–ª `CYCLE_FIX_SUMMARY.md` - –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ
3. –¢–µ—Å—Ç—ã `test_cycle_logic.py` - –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

---

**–î–∞—Ç–∞:** 2024-12-07  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–ò–ú–ï–ù–ï–ù–ò–Æ
