# üî• –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂

## –î–∞—Ç–∞: 2024-12-08

## –ü–†–û–ë–õ–ï–ú–ê

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –ù–ï –ª–æ–≥–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ `trade_logs/*.jsonl` –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞.

**–û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏** (–µ—Å–ª–∏ –±—ã–ª–∞):
```
TypeError: log_sell() got an unexpected keyword argument 'profit'
```

## –ü–†–ò–ß–ò–ù–ê

–ú–µ—Ç–æ–¥ `log_sell` –≤ `trade_logger.py` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**:
```python
def log_sell(self, currency, volume, price, delta_percent, pnl):
```

–ù–æ –≤ `autotrader_v2.py` –≤—ã–∑—ã–≤–∞–ª—Å—è —Å **6 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**:
```python
self.logger.log_sell(
    currency=base,
    volume=executed_amount,
    price=executed_price,
    delta_percent=growth_pct,
    pnl=profit,
    profit=profit  # ‚ùå –õ–ò–®–ù–ò–ô –ø–∞—Ä–∞–º–µ—Ç—Ä!
)
```

## –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

**–§–∞–π–ª**: `autotrader_v2.py` (—Å—Ç—Ä–æ–∫–∏ ~864-875)

```python
# –ò–°–ü–†–ê–í–õ–ï–ù–û:
self.logger.log_sell(
    currency=base,
    volume=executed_amount,
    price=executed_price,
    delta_percent=growth_pct,
    pnl=profit  # ‚úÖ –£–±—Ä–∞–Ω –ª–∏—à–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä
)
```

–¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω `traceback.print_exc()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

## –ü–†–û–í–ï–†–ö–ê

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C)
python mTrade.py
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏:
```
[XXX] ‚úÖ –ü–†–û–î–ê–ñ–ê –ò–°–ü–û–õ–ù–ï–ù–ê!
[XXX] üí∞ –ü–†–û–§–ò–¢: +0.52 USDT (+5.2%)
[XXX] [OK] –ü—Ä–æ–¥–∞–∂–∞ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ –ª–æ–≥  ‚úÖ –≠–¢–û –°–û–û–ë–©–ï–ù–ò–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨!
[XXX] üéâ –¶–ò–ö–õ –ó–ê–í–ï–†–®–Å–ù!
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª –ª–æ–≥–æ–≤:
```powershell
Get-Content "trade_logs\XXX_logs.jsonl" -Tail 3
```

–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `"type":"sell"`:
```json
{"timestamp":"...","type":"sell","currency":"XXX","volume":1506.7,"price":0.006672,"delta_percent":0.53,"pnl":0.52,...}
```

## –°–¢–ê–¢–£–°

‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û**

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ñ–∞–π–ª—ã.

---

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π!** üöÄ
