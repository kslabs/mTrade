# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ê–í–¢–û–ü–†–û–î–ê–ñ–ò –û–°–¢–ê–¢–ö–û–í - –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø

## üéØ –ü–†–û–ë–õ–ï–ú–ê
–§—É–Ω–∫—Ü–∏—è `_try_sell_idle_balance` —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:
1. ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `api_client.get_balance(base)`
2. ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `self._reset_cycle(base, quote)`

–ò–∑-–∑–∞ —ç—Ç–∏—Ö –æ—à–∏–±–æ–∫ **–∞–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ –º–æ–Ω–µ—Ç –≤ IDLE —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ù–ï –†–ê–ë–û–¢–ê–õ–ê**.

---

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
**–ë—ã–ª–æ:**
```python
balance_info = api_client.get_balance(base)
if not balance_info:
    print(f"[{base}] ‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å")
    return

available_balance = float(balance_info.get('available', 0))
```

**–°—Ç–∞–ª–æ:**
```python
# –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–æ–Ω–µ—Ç—ã —á–µ—Ä–µ–∑ get_account_balance
all_balances = api_client.get_account_balance()
balance_info = next((b for b in all_balances if b.get('currency') == base), None)

if not balance_info:
    print(f"[{base}] ‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å")
    return

available_balance = float(balance_info.get('available', 0))
```

‚úÖ **–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `get_account_balance()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–ª–∞–Ω—Å–æ–≤**

---

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–±—Ä–æ—Å —Ü–∏–∫–ª–∞
**–ë—ã–ª–æ:**
```python
self._reset_cycle(base, quote)  # ‚ùå –ú–µ—Ç–æ–¥ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

**–°—Ç–∞–ª–æ:**
```python
# –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
with self.locks[base]:
    if base in self.cycles:
        self.cycles[base].reset(manual=False)
        print(f"[{base}] ‚úÖ –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω, –æ—Å—Ç–∞—Ç–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è")
```

‚úÖ **–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–±—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `reset()` –∫–ª–∞—Å—Å–∞ `TradingCycle`**

---

## üìä –ì–î–ï –ü–†–ò–ú–ï–ù–ï–ù–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã –≤ **3 –º–µ—Å—Ç–∞** —Ñ—É–Ω–∫—Ü–∏–∏ `_try_sell_idle_balance`:

### 1Ô∏è‚É£ –ö–æ–≥–¥–∞ –æ–±—ä—ë–º –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ
```python
if sell_amount_rounded < min_base_amount:
    print(f"[{base}] ‚ö†Ô∏è –û–±—ä–µ–º {sell_amount_rounded} –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ {min_base_amount}")
    print(f"[{base}] üóëÔ∏è –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª, –æ—Å—Ç–∞—Ç–∫–∏ —Å–ª–∏—à–∫–æ–º –º–∞–ª—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏")
    # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
    with self.locks[base]:
        if base in self.cycles:
            self.cycles[base].reset(manual=False)
            print(f"[{base}] ‚úÖ –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω, –æ—Å—Ç–∞—Ç–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è")
    return
```

### 2Ô∏è‚É£ –ö–æ–≥–¥–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π
```python
if total_value < min_quote_amount:
    print(f"[{base}] ‚ö†Ô∏è –°—Ç–æ–∏–º–æ—Å—Ç—å {total_value} USDT –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π {min_quote_amount}")
    print(f"[{base}] üóëÔ∏è –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª, –æ—Å—Ç–∞—Ç–∫–∏ —Å–ª–∏—à–∫–æ–º –º–∞–ª—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏")
    # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
    with self.locks[base]:
        if base in self.cycles:
            self.cycles[base].reset(manual=False)
            print(f"[{base}] ‚úÖ –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω, –æ—Å—Ç–∞—Ç–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è")
    return
```

### 3Ô∏è‚É£ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π/–Ω–µ—É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏
```python
if result and result.get('id'):
    order_id = result['id']
    print(f"[{base}] ‚úÖ –û—Ä–¥–µ—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ: {order_id}")
    print(f"[{base}] üîÑ –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤")
    # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
    with self.locks[base]:
        if base in self.cycles:
            self.cycles[base].reset(manual=False)
            print(f"[{base}] ‚úÖ –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤")
else:
    print(f"[{base}] ‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –æ—Å—Ç–∞—Ç–∫–æ–≤")
    print(f"[{base}] üîÑ –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏")
    # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
    with self.locks[base]:
        if base in self.cycles:
            self.cycles[base].reset(manual=False)
            print(f"[{base}] ‚úÖ –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –ø—Ä–æ–¥–∞–∂–∏")
```

### 4Ô∏è‚É£ –ü—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏
```python
except Exception as e:
    print(f"[{base}] ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–µ –æ—Å—Ç–∞—Ç–∫–æ–≤: {e}")
    print(f"[{base}] üîÑ –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏")
    # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
    with self.locks[base]:
        if base in self.cycles:
            self.cycles[base].reset(manual=False)
            print(f"[{base}] ‚úÖ –¶–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω –∏–∑-–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è")
```

---

## üîß –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –¢–ï–ü–ï–†–¨

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Å—Ç–∞—Ç–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–µ–ª–∏–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
```
1. –ë–æ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ DOGE –≤ IDLE —Å–æ—Å—Ç–æ—è–Ω–∏–∏
2. –ü–æ–ª—É—á–∞–µ—Ç –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ get_account_balance()
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ–±—ä—ë–º >= min_base_amount
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å >= min_quote_amount
5. –°–æ–∑–¥–∞—ë—Ç –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
6. ‚úÖ –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ü–∏–∫–ª –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏
7. üîÑ –¶–∏–∫–ª –º–æ–∂–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Å—Ç–∞—Ç–∫–∏ —Å–ª–∏—à–∫–æ–º –º–∞–ª—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
```
1. –ë–æ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ DOGE –≤ IDLE —Å–æ—Å—Ç–æ—è–Ω–∏–∏
2. –ü–æ–ª—É—á–∞–µ—Ç –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ get_account_balance()
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—ä—ë–º –∏–ª–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å
4. ‚ö†Ô∏è –û—Å—Ç–∞—Ç–∫–∏ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞
5. üóëÔ∏è –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ü–∏–∫–ª –ë–ï–ó –ø—Ä–æ–¥–∞–∂–∏ (–æ—Å—Ç–∞—Ç–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è)
6. üîÑ –¶–∏–∫–ª –º–æ–∂–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ
```
1. –ë–æ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ DOGE –≤ IDLE —Å–æ—Å—Ç–æ—è–Ω–∏–∏
2. –ü–æ–ª—É—á–∞–µ—Ç –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ get_account_balance()
3. –ü—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
4. ‚ùå –û—Ä–¥–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–Ω (API –æ—à–∏–±–∫–∞)
5. üîÑ –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ü–∏–∫–ª –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
6. üîÑ –¶–∏–∫–ª –º–æ–∂–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## üéì –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –°–ü–†–ê–í–ö–ê

### –ö–ª–∞—Å—Å TradingCycle
```python
@dataclass
class TradingCycle:
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–ª—è –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã"""
    state: CycleState = CycleState.IDLE
    cycle_id: int = 0
    total_cycles_count: int = 0
    # ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
    
    def reset(self, manual: bool = False):
        """–°–±—Ä–æ—Å —Ü–∏–∫–ª–∞ –≤ IDLE
        
        Args:
            manual: True –µ—Å–ª–∏ —Å–±—Ä–æ—Å –≤—Ä—É—á–Ω—É—é (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç), 
                   False –µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π
        """
        if self.state == CycleState.ACTIVE:
            self.total_cycles_count += 1
        
        self.state = CycleState.IDLE
        self.active_step = -1
        self.start_price = 0.0
        self.last_buy_price = 0.0
        self.total_invested_usd = 0.0
        self.base_volume = 0.0
        self.cycle_started_at = 0.0
        self.last_action_at = time.time()
        self.manual_pause = manual
```

### –î–æ—Å—Ç—É–ø –∫ —Ü–∏–∫–ª—É
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: —Å–±—Ä–æ—Å —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç TradingCycle
with self.locks[base]:
    if base in self.cycles:
        self.cycles[base].reset(manual=False)

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥
self._reset_cycle(base, quote)
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò

### –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
```bash
get_errors("autotrader_v2.py")
# –†–µ–∑—É–ª—å—Ç–∞—Ç: No errors found ‚úÖ
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ë–∞–ª–∞–Ω—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –¶–∏–∫–ª —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `with self.locks[base]`)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

---

## üöÄ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. **–ê–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–∞ –∫—Ä—É–ø–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤**: –û—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –±–∞–ª–∞–Ω—Å–µ >10 DOGE, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–¥–∞–∂—É
2. **–ê–≤—Ç–æ—Å–±—Ä–æ—Å –º–µ–ª–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤**: –û—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –±–∞–ª–∞–Ω—Å–µ <1 DOGE, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –±–µ–∑ –ø—Ä–æ–¥–∞–∂–∏
3. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç**: –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏/—Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª —Å—Ç–∞—Ä—Ç—É–µ—Ç –∑–∞–Ω–æ–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —à–∞–≥–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:
```bash
python autotrader_v2.py
```

---

## üìã –ò–¢–û–ì–ò

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `api_client.get_balance()` | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `get_account_balance()` |
| –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `self._reset_cycle()` | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `self.cycles[base].reset()` |
| –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ | ‚úÖ **–ù–ï–¢ –û–®–ò–ë–û–ö** |
| –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚úÖ **–°–û–ë–õ–Æ–î–ï–ù–ê** (`with self.locks[base]`) |
| –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ **–î–û–ë–ê–í–õ–ï–ù–û** –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö |

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞** –∏ –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
2. **–°–æ–∑–¥–∞—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ DOGE** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä—É—á–Ω—É—é –∫—É–ø–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ DOGE)
3. **–î–æ–∂–¥–∞—Ç—å—Å—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è** —Ñ—É–Ω–∫—Ü–∏–∏ `_try_sell_idle_balance`
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏**, —á—Ç–æ:
   - –ë–∞–ª–∞–Ω—Å –ø–æ–ª—É—á–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –û—Å—Ç–∞—Ç–∫–∏ –ø—Ä–æ–¥–∞–Ω—ã –∏–ª–∏ —Ü–∏–∫–ª —Å–±—Ä–æ—à–µ–Ω
   - –¶–∏–∫–ª –º–æ–∂–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ

---

**–í–ï–†–°–ò–Ø:** 2025-01-XX (–§–∏–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤)
**–§–ê–ô–õ:** autotrader_v2.py
**–§–£–ù–ö–¶–ò–Ø:** `_try_sell_idle_balance`
