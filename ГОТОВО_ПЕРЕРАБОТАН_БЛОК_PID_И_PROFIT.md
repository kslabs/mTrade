# ‚úÖ –ì–æ—Ç–æ–≤–æ: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –±–ª–æ–∫ PID –∏ –¥–æ–±–∞–≤–ª–µ–Ω –æ–±—â–∏–π Profit

**–î–∞—Ç–∞:** 2025-01-15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## üìã –ó–∞–¥–∞—á–∞

1. –£–º–µ–Ω—å—à–∏—Ç—å –≤–µ—Ä—Ö–Ω–µ–µ –∏ –Ω–∏–∂–Ω–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–æ—Ä–¥—é—Ä–∞ –≤ –æ–±–ª–∞—Å—Ç–∏ PID
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å PID –≤ –≤–µ—Ä—Ö–Ω—é—é —Å—Ç—Ä–æ—á–∫—É —Ç–µ–∫—Å—Ç–∞
3. –í –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ—á–∫–µ –¥–æ–±–∞–≤–∏—Ç—å "Profit:" —Å —Å—É–º–º–æ–π –ø—Ä–∏–±—ã–ª–µ–π –≤—Å–µ—Ö –≤–∞–ª—é—Ç

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1Ô∏è‚É£ HTML (templates/index.html)

**–ë—ã–ª–æ:**
```html
<div class="server-status-inline">
    <div class="status-dot" id="statusDot"></div>
    <span id="serverPID" style="color:#999;font-size:11px;">PID: ---</span>
</div>
```

**–°—Ç–∞–ª–æ:**
```html
<div class="server-status-inline">
    <div class="status-dot" id="statusDot"></div>
    <div style="display:flex;flex-direction:column;gap:2px;">
        <div style="font-size:11px;line-height:1.2;color:#999;">
            <strong>PID:</strong> <span id="serverPID">---</span>
        </div>
        <div style="font-size:11px;line-height:1.2;color:#999;">
            <strong>Profit:</strong> <span id="totalProfit" style="font-weight:600;">0.00</span> USDT
        </div>
    </div>
</div>
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ PID –≤—ã–Ω–µ—Å–µ–Ω –≤ –≤–µ—Ä—Ö–Ω—é—é —Å—Ç—Ä–æ–∫—É
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Å "Profit:"
- ‚úÖ –î–≤—É—Ö—Å—Ç—Ä–æ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º `gap:2px`
- ‚úÖ –≠–ª–µ–º–µ–Ω—Ç `#totalProfit` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

### 2Ô∏è‚É£ CSS (static/style.css)

**–ë—ã–ª–æ:**
```css
.server-status-inline {
    display:flex;
    align-items:center;
    gap:8px;
    padding:6px 12px;  /* ‚¨ÖÔ∏è –ë—ã–ª–æ 6px —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É */
    background:#1a1a1a;
    border-radius:6px;
    border:1px solid #3a3a3a;
    font-size:12px
}
```

**–°—Ç–∞–ª–æ:**
```css
.server-status-inline {
    display:flex;
    align-items:center;
    gap:8px;
    padding:4px 10px;  /* ‚¨ÖÔ∏è –£–º–µ–Ω—å—à–µ–Ω–æ –¥–æ 4px —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É */
    background:#1a1a1a;
    border-radius:6px;
    border:1px solid #3a3a3a;
    font-size:12px
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π padding: `6px ‚Üí 4px`
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π padding: `12px ‚Üí 10px`
- ‚úÖ –ë–ª–æ–∫ —Å—Ç–∞–ª –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º

---

### 3Ô∏è‚É£ JavaScript (static/app.js)

#### A. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PID (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ "PID:")

**–ë—ã–ª–æ:**
```javascript
if(pidEl) pidEl.textContent = 'PID: ' + (data.pid != null ? String(data.pid) : '---');
```

**–°—Ç–∞–ª–æ:**
```javascript
if(pidEl) pidEl.textContent = (data.pid != null ? String(data.pid) : '---');
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ—Ñ–∏–∫—Å "PID:" —Ç–µ–ø–µ—Ä—å –≤ HTML (`<strong>PID:</strong>`), –ø–æ—ç—Ç–æ–º—É –≤ JS –≤—ã–≤–æ–¥–∏–º —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

#### B. –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `updateTotalProfit()`

**–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ `startUptimeLoops()`:**
```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—â–µ–π –ø—Ä–∏–±—ã–ª–∏ –≤—Å–µ—Ö –≤–∞–ª—é—Ç
async function updateTotalProfit(){
  try{
    const response = await fetch('/api/session-profit');
    const data = await response.json();
    
    if(data.success){
      const totalProfit = data.total_profit ?? 0;
      const profitEl = document.getElementById('totalProfit');
      
      if(profitEl){
        const formatted = (typeof totalProfit === 'number' ? totalProfit : 0).toFixed(2);
        
        if(totalProfit > 0){
          profitEl.style.color = '#4CAF50';  // –ó–µ–ª—ë–Ω—ã–π –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏
          profitEl.textContent = '+' + formatted;
        } else if(totalProfit < 0){
          profitEl.style.color = '#f44336';  // –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏
          profitEl.textContent = formatted;
        } else {
          profitEl.style.color = '#999';     // –°–µ—Ä—ã–π –¥–ª—è –Ω—É–ª–µ–≤–æ–π –ø—Ä–∏–±—ã–ª–∏
          profitEl.textContent = '0.00';
        }
      }
    }
  } catch(e){
    console.error('[PROFIT] Update error:', e);
  }
}
```

**–ó–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `startUptimeLoops()`:**
```javascript
function startUptimeLoops(){
  // ...existing code...
  
  // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–π –ø—Ä–∏–±—ã–ª–∏
  updateTotalProfit();
  setInterval(updateTotalProfit, 5000);  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
}
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI:

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü¢ PID: 3012      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü¢ PID: 3012      ‚îÇ
‚îÇ    Profit: +12.34 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

- ‚úÖ –ë–ª–æ–∫ —Å—Ç–∞–ª **–∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ** (–º–µ–Ω—å—à–µ padding)
- ‚úÖ **–î–≤—É—Ö—Å—Ç—Ä–æ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∑–∞–∑–æ—Ä–æ–º
- ‚úÖ **PID** –≤ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç—Ä–æ–∫–µ
- ‚úÖ **Profit** –≤ –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ–∫–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Ü–≤–µ—Ç–æ–º:
  - üü¢ –ó–µ–ª—ë–Ω—ã–π: –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
  - üî¥ –ö—Ä–∞—Å–Ω—ã–π: –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
  - ‚ö™ –°–µ—Ä—ã–π: –Ω—É–ª–µ–≤–∞—è –ø—Ä–∏–±—ã–ª—å

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**Profit –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:**
- ‚úÖ –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`updateTotalProfit()`)
- ‚úÖ –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ `setInterval`
- ‚úÖ –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ `/api/session-profit` (–æ–±—â–∞—è –ø—Ä–∏–±—ã–ª—å –≤—Å–µ—Ö –≤–∞–ª—é—Ç)

**–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- `+12.34` ‚Äî –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
- `-5.67` ‚Äî –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
- `0.00` ‚Äî –Ω—É–ª–µ–≤–∞—è –ø—Ä–∏–±—ã–ª—å

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. ‚úÖ –ë–ª–æ–∫ PID/Profit –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ PID –≤ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç—Ä–æ–∫–µ
3. ‚úÖ Profit –≤ –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ–∫–µ
4. ‚úÖ Profit –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
5. ‚úÖ –¶–≤–µ—Ç Profit –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è
6. ‚úÖ –ë–ª–æ–∫ —Å—Ç–∞–ª –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ (—É–º–µ–Ω—å—à–µ–Ω padding)
7. ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –ö–æ–º–∞–Ω–¥—ã:

```powershell
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python mTrade.py

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:5000
```

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `templates/index.html` | –î–≤—É—Ö—Å—Ç—Ä–æ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ PID/Profit |
| `static/style.css` | –£–º–µ–Ω—å—à–µ–Ω padding (6px‚Üí4px, 12px‚Üí10px) |
| `static/app.js` | –§—É–Ω–∫—Ü–∏—è `updateTotalProfit()`, —É–±—Ä–∞–Ω –ø—Ä–µ—Ñ–∏–∫—Å "PID:" |

---

## üéâ –ò—Ç–æ–≥

**‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**

1. ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–æ—Ä–¥—é—Ä–∞ (padding: 4px 10px)
2. ‚úÖ PID –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ –≤–µ—Ä—Ö–Ω—é—é —Å—Ç—Ä–æ–∫—É
3. ‚úÖ –í –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω "Profit:" —Å –æ–±—â–µ–π —Å—É–º–º–æ–π –ø—Ä–∏–±—ã–ª–µ–π
4. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
5. ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
