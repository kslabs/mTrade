# ‚úÖ –ì–æ—Ç–æ–≤–æ: –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞ –æ–±—ä—ë–º–∞ –±–∞–∑—ã –≤ USDT

**–î–∞—Ç–∞:** 2025-01-15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–î–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞ –æ–±—ä—ë–º–∞ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã –≤ –∫–æ—Ç–∏—Ä—É–µ–º–æ–π –≤–∞–ª—é—Ç–µ (USDT) –ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1Ô∏è‚É£ Frontend (static/app.js)

**–§–∞–π–ª:** `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\static\app.js`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `updateAutoTradeLevels`:**

```javascript
// –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—ä—ë–º –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã
const volumeEl = $('autotradeBaseVolume');
let totalBaseVolume = null;  // ‚¨ÖÔ∏è –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞
if(volumeEl){
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ base_volume –∏–∑ —Ü–∏–∫–ª–∞
  if (levels.real_balance && levels.real_balance.total !== undefined) {
    const total = levels.real_balance.total;
    const available = levels.real_balance.available;
    const locked = levels.real_balance.locked;
    totalBaseVolume = total; // ‚¨ÖÔ∏è —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞
    
    if (locked > 0) {
      volumeEl.innerHTML = `${total.toFixed(8)}<br><small style="color: #999;">(${available.toFixed(8)} + <span style="color: #ff9800;">${locked.toFixed(8)} üîí</span>)</small>`;
    } else {
      volumeEl.textContent = total.toFixed(8);
    }
  } else if (levels.base_volume !== null) {
    totalBaseVolume = levels.base_volume;  // ‚¨ÖÔ∏è —Å–æ—Ö—Ä–∞–Ω—è–µ–º
    volumeEl.textContent = levels.base_volume.toFixed(8);
  } else {
    volumeEl.textContent = '-';
  }
}

// ‚¨áÔ∏è –ù–û–í–´–ô –ë–õ–û–ö: –û–±–Ω–æ–≤–ª—è–µ–º —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –æ–±—ä—ë–º–∞ –±–∞–∑—ã –≤ –∫–æ—Ç–∏—Ä—É–µ–º–æ–π –≤–∞–ª—é—Ç–µ (USDT)
const volumeUSDTEl = $('autotradeBaseVolumeUSDT');
if(volumeUSDTEl){
  const currentPrice = levels.current_price;
  if (totalBaseVolume !== null && totalBaseVolume > 0 && currentPrice !== null && currentPrice !== undefined && currentPrice > 0) {
    const equivalent = totalBaseVolume * parseFloat(currentPrice);
    volumeUSDTEl.textContent = equivalent.toFixed(2) + ' USDT';
  } else {
    volumeUSDTEl.textContent = '-';
  }
}
```

**–õ–æ–≥–∏–∫–∞:**
- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—â–∏–π –æ–±—ä—ë–º –±–∞–∑—ã (`totalBaseVolume`) –∏–∑ `real_balance.total` –∏–ª–∏ `base_volume`
- –£–º–Ω–æ–∂–∞–µ–º –æ–±—ä—ë–º –±–∞–∑—ã –Ω–∞ —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å (`current_price`)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π (–¥–ª—è USDT)
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "-"

---

### 2Ô∏è‚É£ Frontend (templates/index.html)

**–§–∞–π–ª:** `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\templates\index.html`

**–°—Ç—Ä–æ–∫–∞ —É–∂–µ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–∞–Ω–µ–µ (—Å—Ç—Ä–æ–∫–∞ 148):**

```html
<div class="balance-item">
    <div class="balance-label">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
    <div style="display:grid;grid-template-columns:auto 1fr;row-gap:2px;column-gap:6px;font-size:12px;color:#ccc;">
        <div>–®–∞–≥:</div><div id="autotradeCurrentStep">-</div>
        <div>–†–æ—Å—Ç –æ—Ç P0:</div><div id="autotradeGrowthPct">-</div>
        <div>–û—Ç –ø–æ—Å–ª.–ø–æ–∫—É–ø–∫–∏:</div><div id="autotradeGrowthFromLastBuy">-</div>
        <div>–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:</div><div id="autotradeInvested">-</div>
        <div>–û–±—ä—ë–º –±–∞–∑—ã:</div><div id="autotradeBaseVolume">-</div>
        <div>–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç USDT:</div><div id="autotradeBaseVolumeUSDT">-</div> ‚¨ÖÔ∏è –ù–û–í–ê–Ø –°–¢–†–û–ö–ê
        <div>–¢–æ—Ä–≥–æ–≤–ª—è:</div><div id="tradeIndicator" style="font-weight:bold;">‚è∏Ô∏è –û–∂–∏–¥–∞–Ω–∏–µ</div>
    </div>
</div>
```

---

## üîÑ –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç

1. **–ü—Ä–∏ —Å–º–µ–Ω–µ –≤–∞–ª—é—Ç—ã** (`switchBaseCurrency`) ‚Üí –≤—ã–∑–æ–≤ `loadMarketData` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ ‚Üí `updateAutoTradeLevels`
2. **–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ API** (`loadPerBaseIndicators`) ‚Üí `updateTradeIndicators` ‚Üí `updateAutoTradeLevels`
3. **–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ WebSocket** ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ ‚Üí `updateAutoTradeLevels`

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: BTC_USDT
```
–û–±—ä—ë–º –±–∞–∑—ã: 0.00350000
–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç USDT: 245.12 USDT
```

### –ü—Ä–∏–º–µ—Ä 2: ADA_USDT (—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º)
```
–û–±—ä—ë–º –±–∞–∑—ã: 1500.00000000
            (1450.00000000 + 50.00000000 üîí)
–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç USDT: 765.00 USDT
```

### –ü—Ä–∏–º–µ—Ä 3: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö
```
–û–±—ä—ë–º –±–∞–∑—ã: -
–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç USDT: -
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç 1: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç
- **–û–±—ä—ë–º –±–∞–∑—ã:** 100 ADA
- **–¢–µ–∫—É—â–∏–π –∫—É—Ä—Å:** 0.51 USDT
- **–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç:** 100 √ó 0.51 = 51.00 USDT ‚úÖ

### –¢–µ—Å—Ç 2: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
- **Available:** 95 ADA
- **Locked:** 5 ADA
- **Total:** 100 ADA
- **–ö—É—Ä—Å:** 0.51 USDT
- **–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç:** 100 √ó 0.51 = 51.00 USDT ‚úÖ

### –¢–µ—Å—Ç 3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–û–±—ä—ë–º –±–∞–∑—ã:** null
- **–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç:** "-" ‚úÖ

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript –Ω–∞ –æ—à–∏–±–∫–∏
# –†–µ–∑—É–ª—å—Ç–∞—Ç: No errors found ‚úÖ
```

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—á—ë—Ç —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞ –æ–±—ä—ë–º–∞ –±–∞–∑—ã –≤ USDT
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ –≤–∞–ª—é—Ç—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

üîÑ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏ (BTC, ADA, XRP –∏ —Ç.–¥.)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞: `–û–±—ä—ë–º –±–∞–∑—ã √ó –¢–µ–∫—É—â–∏–π –∫—É—Ä—Å = –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç USDT`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –±–∞–ª–∞–Ω—Å–µ (locked > 0)
5. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "-"

---

## üéâ –ò—Ç–æ–≥

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**!

- ‚úÖ Frontend: —Ä–∞—Å—á—ë—Ç —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `updateAutoTradeLevels`
- ‚úÖ UI: —Å—Ç—Ä–æ–∫–∞ "–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç USDT" —É–∂–µ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ HTML
- ‚úÖ –õ–æ–≥–∏–∫–∞: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ null/undefined
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ –≤–∞–ª—é—Ç—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å: –ø—Ä–æ–≤–µ—Ä–µ–Ω, –æ—à–∏–±–æ–∫ –Ω–µ—Ç

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!** üöÄ
