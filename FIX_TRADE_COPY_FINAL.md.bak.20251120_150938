# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Trade/Copy –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –∏ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

## –î–∞—Ç–∞: 10 –Ω–æ—è–±—Ä—è 2025

## –ü—Ä–æ–±–ª–µ–º–∞

1. **Trade/Copy –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ —Ä–µ–∂–∏–º –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
2. **–¢–∞–±–ª–∏—Ü–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

## –ü—Ä–∏—á–∏–Ω–∞

### Trade/Copy –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

**–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É frontend –∏ backend:**

- Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç: `'normal'` –∏ `'copy'`
- Backend API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç: `'trade'` –∏ `'copy'`
- HTML –∫–Ω–æ–ø–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç: `data-mode="normal"` –∏ `data-mode="copy"`

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ `updateTradingModeUI()`:**
- –§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `classList.toggle()` —Å —É—Å–ª–æ–≤–∏–µ–º, —á—Ç–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–∞ –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–∞ –æ–±–µ–∏—Ö –∫–Ω–æ–ø–∫–∞—Ö –∏–ª–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –¢–∞–±–ª–∏—Ü–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

Backend API —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ frontend –Ω–µ –∏–º–µ–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º.

## –†–µ—à–µ–Ω–∏–µ

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–í `loadTradingMode()`:**
```javascript
// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º 'trade' -> 'normal' –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å UI
currentTradingMode = d.mode === 'trade' ? 'normal' : d.mode;
```

**–í `switchTradingMode()`:**
```javascript
// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º 'normal' -> 'trade' –¥–ª—è API
const apiMode = targetMode === 'normal' ? 'trade' : targetMode;

// –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:
// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º 'trade' -> 'normal' –¥–ª—è UI
currentTradingMode = data.mode === 'trade' ? 'normal' : data.mode;
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `updateTradingModeUI()`

**–ë—ã–ª–æ:**
```javascript
normalBtn.classList.toggle('active', currentTradingMode==='normal');
copyBtn.classList.toggle('active', currentTradingMode==='copy');
```

**–°—Ç–∞–ª–æ:**
```javascript
// –Ø–≤–Ω–æ —É–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å active —É –æ–±–µ–∏—Ö –∫–Ω–æ–ø–æ–∫
normalBtn.classList.remove('active');
copyBtn.classList.remove('active');

// –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å active —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–µ
if(currentTradingMode==='normal' || currentTradingMode==='trade'){
  normalBtn.classList.add('active');
}else if(currentTradingMode==='copy'){
  copyBtn.classList.add('active');
}

logDbg('Trading mode UI updated: ' + currentTradingMode);
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω—ã `console.log()` –∏ `console.error()` –≤–æ –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `switchTradingMode()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
- `loadTradingMode()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
- `loadBreakEvenTable()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
- `updateTradingModeUI()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### API —Ç–µ—Å—Ç—ã (PowerShell)

**1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞:**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/mode" -Method GET -UseBasicParsing | Select-Object -ExpandProperty Content
```

**2. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Trade:**
```powershell
$body = @{mode='trade'} | ConvertTo-Json
Invoke-WebRequest -Uri "http://localhost:5000/api/mode" -Method POST -Body $body -ContentType "application/json" -UseBasicParsing | Select-Object -ExpandProperty Content
```

**3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Copy:**
```powershell
$body = @{mode='copy'} | ConvertTo-Json
Invoke-WebRequest -Uri "http://localhost:5000/api/mode" -Method POST -Body $body -ContentType "application/json" -UseBasicParsing | Select-Object -ExpandProperty Content
```

**4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏:**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/breakeven/table" -Method GET -UseBasicParsing | Select-Object -ExpandProperty Content
```

**5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–ª—é—Ç—ã:**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/breakeven/table?base_currency=BTC" -Method GET -UseBasicParsing | Select-Object -ExpandProperty Content
```

### Frontend —Ç–µ—Å—Ç—ã (Browser Console)

**1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞:**
```javascript
console.log('Current Trading Mode:', currentTradingMode);
```

**2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫:**
```javascript
const sw = document.getElementById('tradingModeSwitcher');
const normalBtn = sw.querySelector('[data-mode="normal"]');
const copyBtn = sw.querySelector('[data-mode="copy"]');
console.log('Normal button active:', normalBtn.classList.contains('active'));
console.log('Copy button active:', copyBtn.classList.contains('active'));
```

**3. –†—É—á–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:**
```javascript
await switchTradingMode('normal');
await switchTradingMode('copy');
```

**4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏:**
```javascript
await loadBreakEvenTable();
```

## –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### Trade/Copy –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —Å —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "TRADE":
   - –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π (–∑–µ–ª–µ–Ω–∞—è)
   - –ö–Ω–æ–ø–∫–∞ "COPY" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π
   - –†–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ª–æ–≥–∏: `[TRADE MODE] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ: copy -> normal`
3. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "COPY":
   - –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π (–æ—Ä–∞–Ω–∂–µ–≤–∞—è)
   - –ö–Ω–æ–ø–∫–∞ "TRADE" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π
   - –†–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ª–æ–≥–∏: `[TRADE MODE] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ: normal -> copy`

### –¢–∞–±–ª–∏—Ü–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

1. –¢–∞–±–ª–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –¢–∞–±–ª–∏—Ü–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∞–ª—é—Ç—ã
3. –¢–∞–±–ª–∏—Ü–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–æ—Ä–≥–æ–≤–ª–∏
4. –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ª–æ–≥–∏: `[BREAKEVEN] –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –≤–∞–ª—é—Ç—ã: BTC`
5. –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ: `[BREAKEVEN] –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—É—á–µ–Ω–∞, —Å—Ç—Ä–æ–∫: 17`

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- `templates/index.html` - frontend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - Trade/Copy –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å backend
‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
‚úÖ **–ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û** - API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ **–ì–û–¢–û–í–û** - –†–µ—à–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000
2. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Console (F12)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º Trade/Copy
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏—á–∏–Ω–µ.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ** (Ctrl+F5 –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)
   - HTML —à–∞–±–ª–æ–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `templates/index.html` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

2. **–ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä** (–µ—Å–ª–∏ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–æ–±–ª–µ–º–∞):
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîÑ" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PowerShell:
     ```powershell
     $body = @{} | ConvertTo-Json
     Invoke-WebRequest -Uri "http://localhost:5000/api/server/restart" -Method POST -Body $body -ContentType "application/json" -UseBasicParsing
     ```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- Backend API –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞: 'trade' –∏ 'copy'
- Frontend —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏
