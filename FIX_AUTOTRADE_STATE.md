# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ê–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–Ω –æ–∫–∞–∑—ã–≤–∞–ª—Å—è –≤–∫–ª—é—á–µ–Ω–Ω—ã–º.

## –ü—Ä–∏—á–∏–Ω–∞
–ù–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –∫–æ–¥ –¥–ª—è:
1. –û—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞
2. –ó–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `toggleAutoTrade()` 
**–§–∞–π–ª:** `templates/index.html`

**–ë—ã–ª–æ:**
```javascript
function toggleAutoTrade(){
  autoTradeEnabled = !autoTradeEnabled;
  updateAutoTradeUI();
  // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
}
```

**–°—Ç–∞–ª–æ:**
```javascript
async function toggleAutoTrade(){
  autoTradeEnabled = !autoTradeEnabled;
  updateAutoTradeUI();
  
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  const endpoint = autoTradeEnabled ? '/api/autotrade/start' : '/api/autotrade/stop';
  const response = await fetch(endpoint, { method: 'POST' });
  const result = await response.json();
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –æ—Ç–∫–∞—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
  if (!result.success) {
    autoTradeEnabled = !autoTradeEnabled;
    updateAutoTradeUI();
  }
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `loadUIState()`
**–§–∞–π–ª:** `templates/index.html`

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞:
```javascript
async function loadUIState() {
  const response = await fetch('/api/ui/state');
  const result = await response.json();
  
  if (result.success && result.state) {
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥
    autoTradeEnabled = result.state.auto_trade_enabled;
    updateAutoTradeUI();
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏
    Object.assign(tradingPermissions, result.state.enabled_currencies);
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –ø–∞—Ä—É
    currentBaseCurrency = result.state.active_base_currency;
    currentQuoteCurrency = result.state.active_quote_currency;
  }
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª:** `templates/index.html`, —Ñ—É–Ω–∫—Ü–∏—è `initApp()`

```javascript
async function initApp(){
  await loadNetworkMode();
  await loadTradingMode();
  await loadUIState(); // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
  updateAutoTradeUI();
  // ...–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É OFF
2. JavaScript –≤—ã–∑—ã–≤–∞–µ—Ç `toggleAutoTrade()`
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `/api/autotrade/stop`
4. –°–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `auto_trade_enabled: false` –≤ `ui_state.json`
5. UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

### –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `initApp()`
3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `loadUIState()`
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è GET –∑–∞–ø—Ä–æ—Å –Ω–∞ `/api/ui/state`
5. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
6. JavaScript –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `autoTradeEnabled = false`
7. UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è - –∫–Ω–æ–ø–∫–∞ OFF –∞–∫—Ç–∏–≤–Ω–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
```
http://localhost:5000
```

### –®–∞–≥ 2: –í—ã–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **OFF** –≤ –±–ª–æ–∫–µ AutoTrade

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
```
AutoTrade toggled: OFF
AutoTrade: –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
Get-Content ui_state.json | ConvertFrom-Json | Select-Object auto_trade_enabled
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `auto_trade_enabled: false`

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
```
UI State: –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - OFF
UI State: —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
```

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UI
–ö–Ω–æ–ø–∫–∞ **OFF** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–π (–ø–æ–¥—Å–≤–µ—á–µ–Ω–∞)

## –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç:
```
[BOOT] –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI
[BOOT] –ê–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥: False
```

–ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥–∞ (–≤ –ª–æ–≥–∞—Ö –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, –Ω–æ —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

–¢–µ–ø–µ—Ä—å —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è:
- ‚úÖ **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏** - –∫–∞–∫–∏–µ –≤–∞–ª—é—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã/–≤—ã–∫–ª—é—á–µ–Ω—ã
- ‚úÖ **–ê–∫—Ç–∏–≤–Ω–∞—è –≤–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞** - –ø–æ—Å–ª–µ–¥–Ω—è—è –≤—ã–±—Ä–∞–Ω–Ω–∞—è –ø–∞—Ä–∞
- ‚úÖ **–°–µ—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º** - work –∏–ª–∏ test

## –°—Ç–∞—Ç—É—Å
‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –ê–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 9 –Ω–æ—è–±—Ä—è 2025  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:** `templates/index.html`  
**API endpoints –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:** 
- GET `/api/ui/state`
- POST `/api/autotrade/start`
- POST `/api/autotrade/stop`
