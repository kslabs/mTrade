# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è **—Å–±—Ä–æ—Å–∞ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞.

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞"
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: header-right, —Å–ª–µ–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- **–¶–≤–µ—Ç**: –§–∏–æ–ª–µ—Ç–æ–≤—ã–π (#9C27B0)
- **–ò–∫–æ–Ω–∫–∞**: üîÑ
- **–§—É–Ω–∫—Ü–∏—è**: –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞ –∏ –ø—Ä–∏–±—ã–ª—å –≤—Å–µ—Ö –≤–∞–ª—é—Ç

### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
–í –±–ª–æ–∫–µ –∞–ø—Ç–∞–π–º–∞ —Ç–µ–ø–µ—Ä—å –¥–≤–µ —Å—Ç—Ä–æ–∫–∏:
- **–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞**: `UpTime: <–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞>`
- **–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞**: `–°–µ—Å—Å–∏—è: <–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞>`

### 3. Backend API
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `POST /api/reset-session`
- **–§—É–Ω–∫—Ü–∏—è**: `reset_bot_session()`
- **–î–µ–π—Å—Ç–≤–∏—è**:
  - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `bot_session_start_time`
  - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `SESSION_START_TIME`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞ (0 —Å–µ–∫—É–Ω–¥)

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å—Ç–∞—Ç—É—Å–∞
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `GET /api/server/status`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
  ```json
  {
    "running": true,
    "pid": 12345,
    "uptime": 3600,
    "bot_session_uptime": 1800
  }
  ```

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend (mTrade.py)
1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `bot_session_start_time`
2. –û–±–Ω–æ–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/server/status` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ `bot_session_uptime`
3. –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/reset-session` –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞
4. –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/reset-session` (—Ñ—É–Ω–∫—Ü–∏—è `reset_session`)

### Frontend (templates/index.html)
1. –û–±–Ω–æ–≤–ª–µ–Ω –±–ª–æ–∫ `uptimeDisplay` –¥–ª—è –ø–æ–∫–∞–∑–∞ –¥–≤—É—Ö —Å—Ç—Ä–æ–∫:
   - `<span id="serverUptime">` –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞
   - `<span id="botSessionUptime">` –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞
2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ `<button id="resetBotSessionBtn">` —Å –∫–ª–∞—Å—Å–æ–º `reset-session`

### JavaScript (static/app.js)
1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `_botSessionUptimeSeconds` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞
2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `fetchServerStatusOnce()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–≤—É—Ö –≤—Ä–µ–º–µ–Ω
3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `startUptimeLoops()` –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ –æ–±–æ–∏—Ö —Å—á–µ—Ç—á–∏–∫–æ–≤
4. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleResetBotSession()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞
5. –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ `resetBotSessionBtn`

### CSS (static/style.css)
1. –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ `.server-btn-small.reset-session`:
   - –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ü–≤–µ—Ç (#9C27B0)
   - –†–∞–∑–º–µ—Ä 36x36px
   - Hover —ç—Ñ—Ñ–µ–∫—Ç (#7B1FA2)

## üîÑ –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –ü—Ä–∏ —Å–±—Ä–æ—Å–µ —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞:
1. ‚úÖ –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞ (`bot_session_start_time`)
2. ‚úÖ –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏–±—ã–ª–∏ (`SESSION_START_TIME`)
3. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Å—Å–∏–∏ –≤ UI
4. ‚úÖ –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–π –≤–∞–ª—é—Ç—ã
5. ‚úÖ –ü—Ä–∏–±—ã–ª—å –∑–∞ —Å–µ—Å—Å–∏—é –≤—Å–µ—Ö –≤–∞–ª—é—Ç –æ–±–Ω—É–ª—è–µ—Ç—Å—è (—Ñ–∏–ª—å—Ç—Ä –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ `get_session_profit()`)

### –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞:
- ‚úÖ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ (`server_start_time`) —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –í—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞ (`bot_session_start_time`) —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –û–±–∞ —Å—á–µ—Ç—á–∏–∫–∞ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –Ω—É–ª—è

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
1. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ—Å—å –¥–µ–Ω—å, –∞–∫–∫—É–º—É–ª–∏—Ä—É—è –ø—Ä–∏–±—ã–ª—å
2. –í –∫–æ–Ω—Ü–µ –¥–Ω—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞–∂–∏–º–∞–µ—Ç "–°–±—Ä–æ—Å —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞"
3. –ü—Ä–∏–±—ã–ª—å –∑–∞ —Å–µ—Å—Å–∏—é –æ–±–Ω—É–ª—è–µ—Ç—Å—è, –Ω–æ —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
4. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å–µ—Å—Å–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–Ω–æ—Å–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
2. –ù–∞–∂–∏–º–∞–µ—Ç "–°–±—Ä–æ—Å —Å–µ—Å—Å–∏–∏ –±–æ—Ç–∞" –¥–ª—è –æ–±–Ω—É–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. –ù–∞–±–ª—é–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞

## üé® –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üöÄ mTrade                                    [‚óè] PID: 123‚îÇ
‚îÇ                                              UpTime: 2—á   ‚îÇ
‚îÇ                                              –°–µ—Å—Å–∏—è: 1—á   ‚îÇ
‚îÇ                                     [üîÑ] [üîÑ] [‚èπÔ∏è]       ‚îÇ
‚îÇ                                      ‚Üë    ‚Üë    ‚Üë          ‚îÇ
‚îÇ                                    —Å–±—Ä–æ—Å —Ä–µ—Å—Ç–∞—Ä—Ç —Å—Ç–æ–ø     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ Backend API –≥–æ—Ç–æ–≤
- ‚úÖ Frontend UI –≥–æ—Ç–æ–≤
- ‚úÖ JavaScript –ª–æ–≥–∏–∫–∞ –≥–æ—Ç–æ–≤–∞
- ‚úÖ CSS —Å—Ç–∏–ª–∏ –≥–æ—Ç–æ–≤—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∏–±—ã–ª–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É —Å–±—Ä–æ—Å–∞
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–±—ã–ª—å —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Å–µ—Å—Å–∏–∏
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –≤–∞–ª—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## üìñ –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `mTrade.py` - Backend API
- `templates/index.html` - HTML —à–∞–±–ª–æ–Ω
- `static/app.js` - JavaScript –ª–æ–≥–∏–∫–∞
- `static/style.css` - CSS —Å—Ç–∏–ª–∏
- `trade_logger.py` - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏
