# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚ö° –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ (–∫—Ä–∞—Ç–∫–æ)

‚úÖ **–£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** –≤ `_try_start_cycle`:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `base_volume > 0`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `start_price > 0`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ BASE –≤–∞–ª—é—Ç—ã

‚úÖ **–û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**:
- `active` ‚Äî —Ü–∏–∫–ª —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω
- `pending_start` ‚Äî —Ü–∏–∫–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- `Lock` ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –¶–∏–∫–ª —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–∏ **–ª—é–±–æ–π** —É—Å–ø–µ—à–Ω–æ–π –ø–æ–∫—É–ø–∫–µ > 0

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

### 1Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ:
python mTrade.py
```

### 2Ô∏è‚É£ –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
```
Chrome/Edge: Ctrl+Shift+Delete ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
Firefox: Ctrl+Shift+Delete ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
1. –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ç–æ—Ä–≥–æ–≤–ª—é –¥–ª—è –≤–∞–ª—é—Ç—ã
3. –î–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª—Å—è (`active: true`)

## üìä –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä—ã—Ç—å Debug Panel
2. –ù–∞–π—Ç–∏ –≤–∞–ª—é—Ç—É, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—è:
   - `active: true` ‚Äî —Ü–∏–∫–ª –∞–∫—Ç–∏–≤–µ–Ω ‚úì
   - `base_volume > 0` ‚Äî –æ–±—ä—ë–º –∫—É–ø–ª–µ–Ω ‚úì
   - `start_price > 0` ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ ‚úì

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è
```powershell
cat autotrader_cycles_state.json | Select-String -Pattern "active"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
```powershell
python diagnose_cycle_start.py
```

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- –¶–∏–∫–ª —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å–ø–µ—à–Ω–æ–π –ø–æ–∫—É–ø–∫–µ
- –§–ª–∞–≥ `active` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `true`
- –£—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã
- –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏—Ç–∞

### ‚ùå –û—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å):
- –¶–∏–∫–ª –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫
- –¶–∏–∫–ª –æ—Å—Ç–∞—ë—Ç—Å—è –≤ `pending_start`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: `AUTOTRADER_ARCHITECTURE.md`
- **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã**: `AUTOTRADER_VISUAL_SCHEME.md`
- **–ü–æ–ª–Ω–æ–µ —Ä–µ–∑—é–º–µ**: `AUTOTRADER_FIX_SUMMARY.md`

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### –ï—Å–ª–∏ —Ü–∏–∫–ª –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `auto_trade_enabled` –≤ state_manager
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤–∞–ª—é—Ç—ã –≤ `permissions`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã (`_get_market_price`)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: —Ñ–ª–∞–≥–∏ `active`, `pending_start`

### –ï—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Lock (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω –Ω–∞ –≤–∞–ª—é—Ç—É)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ `active`/`inactive` –≤ –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ñ–ª–∞–≥–æ–≤ `pending_start` –∏ `active`

## üéØ –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø

**–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–ú–Ω–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Üí –õ–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ ‚Üí –¶–∏–∫–ª –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç
```

**–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–ú–∏–Ω–∏–º—É–º –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Üí –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ ‚Üí –¶–∏–∫–ª —Å—Ç–∞—Ä—Ç—É–µ—Ç –≤—Å–µ–≥–¥–∞
```

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2024-12-02  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
