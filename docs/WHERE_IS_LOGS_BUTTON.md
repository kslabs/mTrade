# 🎯 Быстрое руководство: Где найти логи?

## ✅ Статус: Исправлено и готово к использованию

**Дата**: 14 ноября 2025, 10:12  
**Версия**: 1.8.1

---

## 📍 Местоположение кнопки переключения

### Визуальное расположение:

```
╔═══════════════════════════════════════════════════════════════╗
║                    mTrade - Gate.io Platform                  ║
╠═══════════════════════════════════════════════════════════════╣
║  [AutoTrade] [WORK/TEST] [TRADE/COPY]                        ║
╠═══════════════════════════════════════════════════════════════╣
║                                                               ║
║  📈 Индикатор (Визуализация торговли)                        ║
║                                                               ║
╠═══════════════════════════════════════════════════════════════╣
║                                                               ║
║  [Таблица безубыточности] / [Логи]    💾 Сохранить          ║ ← ВОТ ОНА!
║  ═══════════════════════════════════════════════════════     ║
║                                                               ║
║  Параметры торговли:                                          ║
║  ┌─────────┬──────────┬──────────┬───────────┬─────────┐     ║
║  │ Шагов:  │ Старт, $:│ Цена:    │ Pprof, %: │ Kprof: │     ║
║  │   16    │   3.00   │  0.8034  │   0.60    │  0.02  │     ║
║  └─────────┴──────────┴──────────┴───────────┴─────────┘     ║
║                                                               ║
║  Таблица безубыточности:                                      ║
║  ┌───┬─────────┬──────────┬────────────┬─────────────┐       ║
║  │ # │ ↓, %    │ Курс     │ Покупка, $ │ Инв.Сумм, $ │       ║
║  ├───┼─────────┼──────────┼────────────┼─────────────┤       ║
║  │ 0 │  0.00%  │  0.8034  │    3.00    │    3.00     │       ║
║  │ 1 │ -1.05%  │  0.7950  │    5.27    │    8.27     │       ║
║  └───┴─────────┴──────────┴────────────┴─────────────┘       ║
╚═══════════════════════════════════════════════════════════════╝
```

---

## 🚀 Как открыть логи: 3 простых шага

### Шаг 1: Откройте веб-интерфейс
```
http://localhost:5000
```

### Шаг 2: Найдите карточку с таблицей безубыточности
Прокрутите страницу вниз до карточки с заголовком:
```
📊 Таблица безубыточности
```

### Шаг 3: Кликните на кнопку "Логи"
В самом заголовке карточки увидите:
```
[Таблица безубыточности] / [Логи]
                             ↑
                         Кликните сюда!
```

---

## 🎨 Что вы увидите после переключения

### Панель логов содержит:

```
╔═══════════════════════════════════════════════════════════╗
║ [Таблица безубыточности] / [Логи]                        ║
╠═══════════════════════════════════════════════════════════╣
║                                                           ║
║  📊 Логи торговых операций                               ║
║                                                           ║
║  Всего записей: 14 | Последнее обновление: только что    ║
║  [🔄 Обновить]  [🗑️ Очистить]                            ║
║  ───────────────────────────────────────────────────────  ║
║                                                           ║
║  🟢 [22:51:45] Buy{Объем:4.2572; Курс:0.7950;           ║
║                    ↓Δ%:1.05; ↓%:1.05; Инвест:5.27$}     ║
║                                                           ║
║  🟢 [22:51:45] Buy{Объем:11.8886; Курс:0.7880;          ║
║                    ↓Δ%:0.88; ↓%:1.92; Инвест:17.16$}    ║
║                                                           ║
║  🔴 [22:51:45] Sell{Объем:85.9807; Курс:0.7939;         ║
║                     ↑Δ%:2.50; PnL:1.67$}                 ║
║                                                           ║
╚═══════════════════════════════════════════════════════════╝
```

### Цветовая схема:
- 🟢 **Зелёный фон** = операции покупки (Buy)
- 🔴 **Красный фон** = операции продажи (Sell)

---

## 🔄 Автообновление

**Логи обновляются автоматически каждые 5 секунд**, пока панель открыта.

Индикатор обновления:
```
Обновлено: только что ✓
Обновлено: 3 секунды назад
Обновлено: 5 секунд назад... [обновление]
```

---

## 🎮 Управление логами

### Кнопка "🔄 Обновить"
- Принудительное обновление логов
- Не дожидаясь автообновления

### Кнопка "🗑️ Очистить"
- Удалить все логи
- С подтверждением: "Вы уверены?"
- После очистки таблица станет пустой

---

## 📱 Для быстрого доступа

### Добавьте закладку в браузере:
```
Имя: mTrade - Логи
URL: http://localhost:5000
```

### Горячие клавиши браузера:
- `F5` — обновить страницу
- `Ctrl+F5` — жёсткая перезагрузка (с очисткой кэша)
- `F12` — открыть консоль разработчика (для диагностики)

---

## 🔍 Проверка работоспособности

### 1. Проверьте, что сервер запущен:
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/ping" -UseBasicParsing
# Ожидаемый ответ: "pong"
```

### 2. Проверьте API логов:
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/trade/logs?limit=5&formatted=1" -UseBasicParsing | Select-Object -ExpandProperty Content
```

### 3. Проверьте консоль браузера:
1. Откройте страницу: http://localhost:5000
2. Нажмите `F12`
3. Перейдите на вкладку "Console"
4. Должно быть сообщение: `[TradeLogsManager] Инициализация`

---

## ⚠️ Решение проблем

### Проблема: Кнопка "Логи" не появляется

**Решение 1**: Очистите кэш браузера
```
1. Ctrl+Shift+Delete
2. Выберите "Кэшированные изображения и файлы"
3. Нажмите "Очистить данные"
4. Перезагрузите страницу (F5)
```

**Решение 2**: Жёсткая перезагрузка
```
Ctrl+F5 или Ctrl+Shift+R
```

**Решение 3**: Проверьте консоль браузера
```
F12 → Console → проверьте наличие ошибок
```

### Проблема: Логи не отображаются

**Проверка 1**: Есть ли логи в файле?
```powershell
Get-Content trade_logs.jsonl -Tail 5
```

**Проверка 2**: Работает ли API?
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/trade/logs?limit=5" -UseBasicParsing
```

**Проверка 3**: Создайте тестовые логи
```powershell
python test_trade_logger.py
```

---

## 📊 Форматы данных

### Формат логов покупки (Buy):
```
[HH:MM:SS] Buy{Объем:X.XXXX; Курс:X.XXXX; ↓Δ%:X.XX; ↓%:X.XX; Инвест:X.XX$}
```

### Формат логов продажи (Sell):
```
[HH:MM:SS] Sell{Объем:X.XXXX; Курс:X.XXXX; ↑Δ%:X.XX; PnL:X.XX$}
```

### Расшифровка полей:
- **HH:MM:SS** — время операции
- **Объем** — количество купленной/проданной валюты
- **Курс** — цена за единицу
- **↓Δ%** — процент отклонения от стартовой цены
- **↓%** — процент просадки
- **Инвест** — общая сумма инвестиции
- **PnL** — прибыль/убыток от продажи

---

## 🎯 Быстрые ссылки

- **Главная страница**: http://localhost:5000
- **API логов**: http://localhost:5000/api/trade/logs?limit=100&formatted=1
- **Статистика**: http://localhost:5000/api/trade/logs/stats
- **Статус сервера**: http://localhost:5000/version

---

## 📚 Связанные документы

- `TRADE_LOGS_SYSTEM.md` — полная техническая документация
- `TRADE_LOGS_READY.md` — руководство по готовности системы
- `HOW_TO_VIEW_LOGS.md` — подробное руководство по просмотру
- `LOGS_VIEWING_GUIDE.md` — это руководство

---

## ✅ Чеклист проверки

- [x] Сервер запущен на порту 5000
- [x] API endpoints работают
- [x] Тестовые логи созданы
- [x] Инициализация TradeLogsManager добавлена в app.js
- [x] Браузер открыт на http://localhost:5000
- [ ] **→ Кнопка "Логи" видна в заголовке таблицы**
- [ ] **→ При клике открывается панель с логами**
- [ ] **→ Логи отображаются с цветовым выделением**

---

**Последнее обновление**: 14 ноября 2025, 10:12  
**Автор**: AI Assistant  
**Статус**: ✅ Полностью готово к использованию

---

## 💡 Совет

Добавьте эту страницу в закладки браузера для быстрого доступа к инструкциям!

```
Закладка: mTrade - Как просмотреть логи
URL: file:///c:/Users/Администратор/Documents/bGate.mTrade/LOGS_VIEWING_GUIDE.md
```
