# ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–∞–ª—é—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤–º–µ—Å—Ç–æ localStorage

**–î–∞—Ç–∞:** 6 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.7  
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –í–∞–ª—é—Ç—ã —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∞ –Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## –ü—Ä–æ–±–ª–µ–º–∞ —Å localStorage

**–ß—Ç–æ –±—ã–ª–æ:**
- –í–∞–ª—é—Ç—ã —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ `localStorage` –±—Ä–∞—É–∑–µ—Ä–∞
- –ö–∞–∂–¥—ã–π –±—Ä–∞—É–∑–µ—Ä –∏–º–µ–ª —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤ –¥—Ä—É–≥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ —Å–ø–∏—Å–æ–∫ –±—ã–ª –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
- –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ:**
- ‚ùå –†–∞–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚ùå –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫—ç—à–∞
- ‚ùå –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## –†–µ—à–µ–Ω–∏–µ: Server-Side Storage

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
1. ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `currencies.json` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–ª—é—Ç–∞–º–∏
3. ‚úÖ Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∞–ª—é—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
4. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

### –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         GET /api/currencies          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser 1  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> ‚îÇ            ‚îÇ
‚îÇ              ‚îÇ                                       ‚îÇ   Server   ‚îÇ
‚îÇ   Browser 2  ‚îÇ <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ            ‚îÇ
‚îÇ              ‚îÇ         JSON Response                 ‚îÇ currencies ‚îÇ
‚îÇ   Browser 3  ‚îÇ         POST /api/currencies          ‚îÇ   .json    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          Save changes
```

## –ù–æ–≤—ã–µ API Endpoints

### 1. GET `/api/currencies`
**–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç**

Request:
```http
GET /api/currencies HTTP/1.1
```

Response:
```json
{
  "success": true,
  "currencies": [
    { "code": "WLD", "symbol": "üåê" },
    { "code": "BTC", "symbol": "‚Çø" },
    { "code": "ETH", "symbol": "Œû" },
    ...
  ]
}
```

### 2. POST `/api/currencies`
**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç**

Request:
```http
POST /api/currencies HTTP/1.1
Content-Type: application/json

{
  "currencies": [
    { "code": "WLD", "symbol": "üåê" },
    { "code": "BTC", "symbol": "‚Çø" }
  ]
}
```

Response:
```json
{
  "success": true,
  "message": "–í–∞–ª—é—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã"
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- ‚ùå –î—É–±–ª–∏–∫–∞—Ç—ã –∫–æ–¥–æ–≤
- ‚ùå –ü—É—Å—Ç—ã–µ –∫–æ–¥—ã
- ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### Backend (`mTrade.py`)

#### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ `Config`:
```python
@staticmethod
def load_currencies():
    """–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç –∏–∑ currencies.json"""
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫

@staticmethod
def save_currencies(currencies):
    """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç –≤ currencies.json"""
    # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—à–∏–±–æ–∫
```

#### –ù–æ–≤—ã–µ endpoints:
```python
@app.route('/api/currencies', methods=['GET'])
def get_currencies():
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç"""

@app.route('/api/currencies', methods=['POST'])
def save_currencies():
    """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–∑–æ–≤—ã—Ö –≤–∞–ª—é—Ç"""
```

### Frontend (`index.html`)

#### –£–¥–∞–ª–µ–Ω–æ:
```javascript
‚ùå localStorage.getItem('baseCurrencies')
‚ùå localStorage.setItem('baseCurrencies', ...)
‚ùå –•–∞—Ä–¥–∫–æ–¥ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç –≤ HTML
```

#### –î–æ–±–∞–≤–ª–µ–Ω–æ:
```javascript
‚úÖ async function loadCurrenciesFromServer()
‚úÖ async function saveCurrenciesToServer()
‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∫–ª–∞–¥–æ–∫ –≤–∞–ª—é—Ç
```

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
```javascript
window.onload = async function() {
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞–ª—é—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ (–ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º!)
    await loadCurrenciesFromServer();
    
    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –≤–∞–ª—é—Ç—É –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—É—é
    currentBaseCurrency = baseCurrencies[0].code;
    
    // –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ WebSocket –¥–ª—è —ç—Ç–æ–π –ø–∞—Ä—ã
    subscribeToPairData(currentBaseCurrency, currentQuoteCurrency);
    ...
}
```

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
bGate.mTrade/
‚îú‚îÄ‚îÄ mTrade.py               # Backend —Å API
‚îú‚îÄ‚îÄ currencies.json         # üÜï –•—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∞–ª—é—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
‚îú‚îÄ‚îÄ secrets.json            # API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html          # Frontend (–±–µ–∑ localStorage)
‚îî‚îÄ‚îÄ gateio_websocket.py     # WebSocket –º–æ–¥—É–ª—å
```

## –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è `currencies.json` —Å –≤–∞–ª—é—Ç–∞–º–∏:

```json
[
  { "code": "WLD",   "symbol": "üåê" },
  { "code": "BTC",   "symbol": "‚Çø"  },
  { "code": "ETH",   "symbol": "Œû"  },
  { "code": "SOL",   "symbol": "‚óé"  },
  { "code": "BNB",   "symbol": "üî∂" },
  { "code": "XRP",   "symbol": "‚úï"  },
  { "code": "ADA",   "symbol": "‚Ç≥"  },
  { "code": "AVAX",  "symbol": "üî∫" },
  { "code": "DOT",   "symbol": "‚¨§"  },
  { "code": "MATIC", "symbol": "üî∑" }
]
```

**–í–∞–∂–Ω–æ:** `WLD` —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–≤–∞—è –≤–∞–ª—é—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. ‚úÖ **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã** - –æ–¥–∏–Ω —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –≤—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Å–ø–∏—Å–æ–∫
3. ‚úÖ **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫—ç—à–∞
4. ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤–µ–∑–¥–µ
5. ‚úÖ **Backup-friendly** - –ª–µ–≥–∫–æ —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
6. ‚úÖ **Git-friendly** - –º–æ–∂–Ω–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å localStorage

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. Frontend –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
3. –ï—Å–ª–∏ `currencies.json` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
4. –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ localStorage –≤ API –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∞–ª—é—Ç:
```powershell
curl http://localhost:5000/api/currencies | ConvertFrom-Json
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
```powershell
$body = @{
    currencies = @(
        @{ code = "WLD"; symbol = "üåê" },
        @{ code = "BTC"; symbol = "‚Çø" }
    )
} | ConvertTo-Json -Depth 3

Invoke-WebRequest -Uri "http://localhost:5000/api/currencies" `
    -Method POST `
    -ContentType "application/json" `
    -Body $body
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞:
```powershell
Get-Content currencies.json | ConvertFrom-Json
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ø–∞–º—è—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
2. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **–ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç** - —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –Ω–∞ Gate.io
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã** - —Ä–∞–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç cookies
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç localStorage
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ REST API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–í–µ—Ä—Å–∏—è:** 1.7  
**–î–∞—Ç–∞:** 6 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant
