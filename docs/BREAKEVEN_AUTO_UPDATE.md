# ✅ ИСПРАВЛЕНО: Таблица безубыточности обновляется автоматически

## Проблема
Таблица НЕ пересчитывалась при изменении параметров и переключении валют.

## Решение

### 1. Мгновенное обновление (500мс debounce)
- Event listeners на все поля параметров
- Автоматический пересчет при вводе
- Индикатор "⏳ Обновление..." → "✓ Обновлено"

### 2. Per-currency параметры
- Добавлено `base_currency` в сохранение/загрузку
- Каждая валюта имеет свои параметры
- Автозагрузка при смене валюты

### 3. Предпросмотр без сохранения
- Параметры передаются через URL
- Backend переопределяет значения из query string
- Таблица обновляется мгновенно

## Изменения

**Frontend:** `templates/index.html`
- `saveTradeParams()` — добавлен `base_currency`
- `loadTradeParams()` — загрузка с валютой
- `loadBreakEvenTable()` — передача параметров в URL
- `switchBaseCurrency()` — вызов `loadTradeParams()`
- Event listeners — auto-update на поля

**Backend:** `mTrade.py`
- `/api/breakeven/table` — поддержка параметров из URL

## Тестирование

1. Измените "Число шагов" → таблица обновится через 0.5 сек
2. Переключите валюту → параметры и таблица обновятся
3. Сохраните параметры → работает per-currency

## Статус

✅ РАБОТАЕТ  
✅ ПРОТЕСТИРОВАНО  
✅ ГОТОВО К ИСПОЛЬЗОВАНИЮ

---

Подробности: **BREAKEVEN_TABLE_QUICKSTART.md**
