# ‚úÖ –ß–ï–ö-–õ–ò–°–¢: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ _try_sell()

## üéØ –¶–µ–ª—å
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `_try_sell()` –≤ —Ñ–∞–π–ª–µ `autotrader.py`, —á—Ç–æ–±—ã –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –º–æ–≥ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–¥–∞–∂–∏ –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Ü–∏–∫–ª—ã —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –ø—Ä–∏–±—ã–ª–∏.

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

- [x] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞
- [x] –ù–∞–π–¥–µ–Ω —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∞–ª—é—Ç
- [x] –û–ø–∏—Å–∞–Ω—ã —ç—Ç–∞–ø—ã buy/sell
- [x] –í—ã—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è `_try_sell()`
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - [x] AUTOTRADER_COMPLETE_ARCHITECTURE.md
  - [x] MISSING_TRY_SELL_PROBLEM.md
  - [x] CURRENCY_CYCLE_QUICK_SCHEME.md
  - [x] FINAL_ANALYSIS_SUMMARY.md
  - [x] DOCS_INDEX_AUTOTRADER_FIX.md (–æ–±–Ω–æ–≤–ª—ë–Ω)

### –≠—Ç–∞–ø 2: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `_try_sell()` –≤ `autotrader.py`**
  - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ü–æ—Å–ª–µ `_try_rebuy()` (—Å—Ç—Ä–æ–∫–∞ ~1955)
  - –û—Å–Ω–æ–≤–∞: –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑ MISSING_TRY_SELL_PROBLEM.md
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
    - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ü–∏–∫–ª–∞
    - [x] –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
    - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ `pending.sell` (–ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏)
    - [x] –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ breakeven –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
    - [x] –†–∞—Å—á—ë—Ç —Ä–æ—Å—Ç–∞ —Ü–µ–Ω—ã –æ—Ç start_price
    - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–¥–∞–∂–∏
    - [x] –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏–∑ orderbook (bids)
    - [x] –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ `_place_limit_order_all_or_nothing('sell', ...)`
    - [x] –†–∞—Å—á—ë—Ç PnL (–ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫)
    - [x] –ó–∞–∫—Ä—ã—Ç–∏–µ —Ü–∏–∫–ª–∞ (active=False, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
    - [x] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `last_sell_time`
    - [x] –û–±–Ω—É–ª–µ–Ω–∏–µ `start_price` –≤ state_manager
    - [x] –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –±–∞–ª–∞–Ω—Å–æ–≤
    - [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `logger.log_sell()`
    - [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –≠—Ç–∞–ø 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

- [x] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Python:**
  ```powershell
  python -m py_compile autotrader.py
  ```
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫

- [x] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã:**
  - [x] `time`
  - [x] `json`
  - [x] `os`
  - [x] `threading`
  - [x] `datetime`
  - [x] `math`
  - [x] `traceback`
  - –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞

### –≠—Ç–∞–ø 3.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

- [x] **–î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `_try_sell()` –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª:**
  - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –í –±–ª–æ–∫–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (—Å—Ç—Ä–æ–∫–∞ ~2304)
  - –í—ã–∑–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ–¥ `_try_rebuy()`
  - –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫
  - –î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: [SELL_FUNCTION_INTEGRATED.md](SELL_FUNCTION_INTEGRATED.md)

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚è≥ –¢–†–ï–ë–£–ï–¢–°–Ø

- [ ] **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä:**
  ```powershell
  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
  python mTrade.py
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫:**
  - [ ] –ù–µ—Ç `AttributeError: 'AutoTrader' object has no attribute '_try_sell'`
  - [ ] –ù–µ—Ç –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `_try_sell()`

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ API:**
  ```powershell
  # –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  curl http://localhost:5000/api/autotrade/stats
  
  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ total_sell_orders —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª:**
  - [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä
  - [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞ (start)
  - [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –¥–æ–∫—É–ø–∫–∏ (rebuy) - –µ—Å–ª–∏ —Ü–µ–Ω–∞ —É–ø–∞–¥—ë—Ç
  - [ ] –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–æ—Å—Ç–∞ —Ü–µ–Ω—ã –¥–æ breakeven
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–¥–∞–∂–∞ –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª –∑–∞–∫—Ä—ã–ª—Å—è (active=False)
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å `log_sell`

### –≠—Ç–∞–ø 5: –í–∞–ª–∏–¥–∞—Ü–∏—è ‚è≥ –¢–†–ï–ë–£–ï–¢–°–Ø

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ü–∏–∫–ª–æ–≤:**
  ```powershell
  curl http://localhost:5000/api/autotrade/cycles
  ```
  - [ ] –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏: `active = false`
  - [ ] –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏: `base_volume = 0.0`
  - [ ] –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏: `start_price = 0.0`
  - [ ] –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏: `last_sell_time` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–¥–µ–ª–æ–∫:**
  - [ ] –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ sell
  - [ ] PnL —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - [ ] –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å:**
  - [ ] –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –±–∞–ª–∞–Ω—Å USDT —É–≤–µ–ª–∏—á–∏–ª—Å—è
  - [ ] –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –±–∞–ª–∞–Ω—Å BASE —É–º–µ–Ω—å—à–∏–ª—Å—è (–ø—Ä–æ–¥–∞–Ω–æ)

### –≠—Ç–∞–ø 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚è≥ –¢–†–ï–ë–£–ï–¢–°–Ø

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
  - [ ] –û—Ç–º–µ—Ç–∏—Ç—å –≤ MISSING_TRY_SELL_PROBLEM.md, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ FINAL_ANALYSIS_SUMMARY.md —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª SELL_FUNCTION_RESTORED.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–µ—à–µ–Ω–∏—è

---

## üìù –®–∞–±–ª–æ–Ω —Ñ—É–Ω–∫—Ü–∏–∏ `_try_sell()`

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–¥–ª—è –Ω–∞—á–∞–ª–∞):

```python
def _try_sell(self, base: str, quote: str):
    """
    –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ breakeven.
    
    –£—Å–ª–æ–≤–∏—è:
    - –¶–∏–∫–ª –∞–∫—Ç–∏–≤–µ–Ω (active == True)
    - –¶–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ —Ç—Ä–µ–±—É–µ–º—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç (>= breakeven_pct)
    
    –î–µ–π—Å—Ç–≤–∏—è:
    - –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –∏–∑ orderbook (bids)
    - –ü—Ä–æ–¥–∞—Ç—å –≤–µ—Å—å –æ–±—ä—ë–º base_volume
    - –ó–∞–∫—Ä—ã—Ç—å —Ü–∏–∫–ª (active=False)
    - –ó–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥–∞–∂—É
    """
    
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–∞
    cycle = self.cycles.get(base)
    if not cycle or not cycle.get('active'):
        return
    
    # 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã
    price = self._get_market_price(base, quote)
    if not price or price <= 0:
        return
    
    # 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ pending.sell (–µ—Å–ª–∏ –µ—Å—Ç—å)
    pending = cycle.get('pending', {})
    if pending.get('sell'):
        # TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
        return
    
    # 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    table = cycle.get('table', [])
    active_step = cycle.get('active_step', -1)
    
    if active_step < 0 or active_step >= len(table):
        return
    
    params_row = table[active_step]
    required_growth_pct = float(params_row.get('breakeven_pct', 0))
    
    # 5. –†–∞—Å—á—ë—Ç —Ä–æ—Å—Ç–∞
    start_price = cycle.get('start_price', 0)
    if start_price <= 0:
        return
    
    current_growth_pct = ((price - start_price) / start_price) * 100.0
    
    # 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è
    if current_growth_pct < required_growth_pct:
        return  # –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–æ—Å—Ç
    
    # 7. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏ –∏–∑ orderbook
    orderbook = self._get_orderbook(base, quote)
    if not orderbook:
        return
    
    params = self.state_manager.get_breakeven_params(base)
    sell_level = int(params.get('sell_level', 1))
    
    bids = orderbook.get('bids', [])
    if len(bids) < sell_level:
        sell_level = len(bids)
    
    if sell_level < 1:
        return
    
    exec_price = float(bids[sell_level - 1][0])
    
    # 8. –†–∞—Å—á—ë—Ç –æ–±—ä—ë–º–∞
    sell_volume = cycle.get('base_volume', 0)
    if sell_volume <= 0:
        return
    
    # 9. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞
    order_res = self._place_limit_order_all_or_nothing('sell', base, quote, sell_volume, exec_price)
    
    filled = float(order_res.get('filled', 0))
    
    if order_res.get('success') and filled >= sell_volume * 0.999:
        # –ü–û–õ–ù–ê–Ø –ü–†–û–î–ê–ñ–ê
        
        # –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞
        self.balance_cache.invalidate(reason=f"sell_{base}")
        
        # –†–∞—Å—á—ë—Ç PnL
        avg_invest_price = cycle['total_invested_usd'] / cycle['base_volume']
        actual_exec_price = float(order_res.get('avg_deal_price', exec_price))
        pnl = (actual_exec_price - avg_invest_price) * filled
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        self.logger.log_sell(base, filled, actual_exec_price, current_growth_pct, pnl)
        
        # –ó–∞–∫—Ä—ã—Ç–∏–µ —Ü–∏–∫–ª–∞
        current_time = time.time()
        self.cycles[base] = {
            'active': False,
            'active_step': -1,
            'table': table,
            'last_buy_price': 0.0,
            'start_price': 0.0,
            'total_invested_usd': 0.0,
            'base_volume': 0.0,
            'pending': {},
            'pending_start': False,
            'last_sell_time': current_time
        }
        
        # –û–±–Ω—É–ª–µ–Ω–∏–µ –≤ state_manager
        params = self.state_manager.get_breakeven_params(base)
        params['start_price'] = 0.0
        self.state_manager.set_breakeven_params(base, params)
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        self._save_cycles_state()
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        self.stats['total_sell_orders'] += 1
        self.stats['last_update'] = time.time()
        
        print(f"[AutoTrader][{base}] ‚úÖ –ü—Ä–æ–¥–∞–∂–∞: filled={filled:.8f}, price={actual_exec_price:.8f}, PnL={pnl:.4f}")
    
    else:
        # –ß–ê–°–¢–ò–ß–ù–ê–Ø –ü–†–û–î–ê–ñ–ê
        if filled > 0:
            pending['sell'] = {
                'filled': filled,
                'filled_usd': filled * exec_price,
                'remaining': sell_volume - filled,
                'exec_price': exec_price
            }
            cycle['base_volume'] = sell_volume - filled
            cycle['pending'] = pending
            self._save_cycles_state()
            
            print(f"[AutoTrader][{base}] ‚ÑπÔ∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞: filled={filled:.8f}, remaining={sell_volume - filled:.8f}")
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:
```powershell
# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
code autotrader.py

# –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫—É –ø–æ—Å–ª–µ _try_rebuy() (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 1955)
# –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ _try_sell() (—Å–º. —à–∞–±–ª–æ–Ω –≤—ã—à–µ)
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:
```powershell
python -m py_compile autotrader.py
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
```powershell
# Ctrl+C (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
python mTrade.py
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```powershell
# –ò—â–µ–º –æ—à–∏–±–∫–∏
grep -i "error" mTrade.log
grep -i "_try_sell" mTrade.log
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:

‚úÖ –ê–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `_try_sell()` –Ω–µ—Ç `AttributeError`  
‚úÖ –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ breakeven –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–¥–∞–∂–∞  
‚úÖ –¶–∏–∫–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –ü—Ä–∏–±—ã–ª—å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö  
‚úÖ –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è  

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [MISSING_TRY_SELL_PROBLEM.md](MISSING_TRY_SELL_PROBLEM.md) - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- [AUTOTRADER_COMPLETE_ARCHITECTURE.md](AUTOTRADER_COMPLETE_ARCHITECTURE.md) - –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [FINAL_ANALYSIS_SUMMARY.md](FINAL_ANALYSIS_SUMMARY.md) - –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ
- [DOCS_INDEX_AUTOTRADER_FIX.md](DOCS_INDEX_AUTOTRADER_FIX.md) - –ò–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –æ–∂–∏–¥–∞–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üö® –ö–†–ò–¢–ò–ß–ù–û
