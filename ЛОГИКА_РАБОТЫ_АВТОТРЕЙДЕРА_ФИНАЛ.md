# üìò –ü–û–õ–ù–ê–Ø –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –ê–í–¢–û–¢–†–ï–ô–î–ï–†–ê ‚Äî –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø

**–î–∞—Ç–∞:** 2024-12-XX  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ–¥—Ä–µ–Ω—ã  
**–í–µ—Ä—Å–∏—è:** autotrader_v2.py (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)

---

## üéØ –ö–†–ê–¢–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï

–ê–≤—Ç–æ—Ç—Ä–µ–π–¥–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ü–∏–∫–ª—ã –ø–æ–∫—É–ø–∫–∏-–ø—Ä–æ–¥–∞–∂–∏ —Å —Ü–µ–ª—å—é –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏ –æ—Ç –∫–æ–ª–µ–±–∞–Ω–∏–π —Ü–µ–Ω—ã. –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
1. **–°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞** ‚Äî MARKET-–æ—Ä–¥–µ—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏—é
2. **–ü—Ä–æ–¥–∞–∂–∞** ‚Äî LIMIT-–æ—Ä–¥–µ—Ä –ø–æ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

**–ì–õ–ê–í–ù–û–ï –ü–†–ê–í–ò–õ–û:** –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–°–¢–†–û–ì–û** –ø–æ —Ü–µ–ª–µ–≤–æ–π –¥–µ–ª—å—Ç–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–∏–∂–µ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏!

---

## üìä –®–ê–ì–ò –¶–ò–ö–õ–ê

### –®–ê–ì 1: –°–¢–ê–†–¢–û–í–ê–Ø –ü–û–ö–£–ü–ö–ê

**–£—Å–ª–æ–≤–∏—è –∑–∞–ø—É—Å–∫–∞:**
- –¶–∏–∫–ª –ù–ï –∞–∫—Ç–∏–≤–µ–Ω (`state == IDLE`)
- –ï—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ USDT –Ω–∞ –±–∞–ª–∞–Ω—Å–µ
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ <= —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ü–µ–Ω—ã –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ù–µ—Ç —Ñ–ª–∞–≥–∞ `_buying_in_progress` (–∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ü—Ä–æ—Ü–µ—Å—Å:**
```python
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ _buying_in_progress = True
2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ç—Ä–µ–±—É–µ–º—É—é —Å—É–º–º—É USDT –¥–ª—è –ø–æ–∫—É–ø–∫–∏
3. –°–æ–∑–¥–∞—Ç—å MARKET-–æ—Ä–¥–µ—Ä –Ω–∞ –ø–æ–∫—É–ø–∫—É (order_type='market')
4. –î–æ–∂–¥–∞—Ç—å—Å—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ (0.5 —Å–µ–∫)
5. –ü–æ–ª—É—á–∏—Ç—å –†–ï–ê–õ–¨–ù–£–Æ —Ü–µ–Ω—É –ø–æ–∫—É–ø–∫–∏ –∏–∑ avg_deal_price
6. –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å –†–ï–ê–õ–¨–ù–û–ô —Ü–µ–Ω–æ–π
7. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ü–∏–∫–ª:
   - state = ACTIVE
   - start_price = executed_price (–†–ï–ê–õ–¨–ù–ê–Ø —Ü–µ–Ω–∞!)
   - base_volume = executed_amount
   - total_invested_usd = executed_cost
   - table = –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
8. –°–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥ _buying_in_progress = False
9. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ñ–∞–π–ª
10. –ó–∞–ø–∏—Å–∞—Ç—å –ø–æ–∫—É–ø–∫—É –≤ –ª–æ–≥
```

**–¢–∏–ø –æ—Ä–¥–µ—Ä–∞:** `MARKET`  
**–ü–æ—á–µ–º—É MARKET:**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –≤ –ø–æ–∑–∏—Ü–∏—é
- –¶–µ–Ω–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ç–µ–∫—É—â–µ–π –Ω–∞ –º–æ–º–µ–Ω—Ç —Ä–∞—Å—á—ë—Ç–∞ (slippage)
- **–í–ê–ñ–ù–û:** –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å –†–ï–ê–õ–¨–ù–û–ô —Ü–µ–Ω–æ–π –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è!

---

### –®–ê–ì 2: –ü–†–û–î–ê–ñ–ê

**–£—Å–ª–æ–≤–∏—è –∑–∞–ø—É—Å–∫–∞:**
- –¶–∏–∫–ª –∞–∫—Ç–∏–≤–µ–Ω (`state == ACTIVE`)
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ >= —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏
- –ù–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö SELL-–æ—Ä–¥–µ—Ä–æ–≤
- –ù–µ—Ç —Ñ–ª–∞–≥–∞ `_selling_in_progress` (–∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- –ï—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –Ω–∞ –±–∞–ª–∞–Ω—Å–µ

**–ü—Ä–æ—Ü–µ—Å—Å:**
```python
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ _selling_in_progress = True

2. –ü–û–õ–£–ß–ò–¢–¨ –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ó –¢–ê–ë–õ–ò–¶–´ (–ø–æ–¥ lock):
   - start_price (—Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
   - breakeven_price (—Ü–µ–Ω–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏)
   - target_delta_pct (—Ü–µ–ª–µ–≤–∞—è –¥–µ–ª—å—Ç–∞ –≤ %)
   - base_volume (–æ–±—ä—ë–º –º–æ–Ω–µ—Ç)

3. –†–ê–°–°–ß–ò–¢–ê–¢–¨ –¶–ï–õ–ï–í–£–Æ –¶–ï–ù–£ –ü–†–û–î–ê–ñ–ò:
   target_sell_price = start_price √ó (1 + target_delta_pct / 100)

4. –ü–†–û–í–ï–†–ö–ê ‚Ññ1: target_sell_price > start_price
   ‚ùå –ï—Å–ª–∏ –ù–ï–¢ ‚Üí –ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê (–∑–∞—â–∏—Ç–∞ –æ—Ç —É–±—ã—Ç–∫–æ–≤)

5. –ü–†–û–í–ï–†–ö–ê ‚Ññ2: target_sell_price >= breakeven_price
   ‚ùå –ï—Å–ª–∏ –ù–ï–¢ ‚Üí –ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê (–æ—à–∏–±–∫–∞ —Ç–∞–±–ª–∏—Ü—ã)

6. –ü–û–õ–£–ß–ò–¢–¨ –ê–ö–¢–£–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï (–ë–ï–ó lock):
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ SELL-–æ—Ä–¥–µ—Ä–∞
   - –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
   - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É —Ä—ã–Ω–∫–∞

7. –ü–†–û–í–ï–†–ö–ê ‚Ññ3: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã
   current_price >= target_sell_price
   ‚ùå –ï—Å–ª–∏ –ù–ï–¢ ‚Üí –ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê (—Ü–µ–Ω–∞ —É–ø–∞–ª–∞)

8. –°–û–ó–î–ê–¢–¨ LIMIT-–û–†–î–ï–†:
   order = create_spot_order(
       side='sell',
       order_type='limit',
       amount=available_base,
       price=target_sell_price
   )

9. –î–û–ñ–î–ê–¢–¨–°–Ø –ò–°–ü–û–õ–ù–ï–ù–ò–Ø (0.5 —Å–µ–∫)

10. –ü–†–û–í–ï–†–ò–¢–¨ –°–¢–ê–¢–£–°:
    a) –ï—Å–ª–∏ –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω (status='closed'):
       - –ü–æ–ª—É—á–∏—Ç—å executed_price –∏–∑ avg_deal_price
       - –ü–†–û–í–ï–†–ö–ê ‚Ññ4: executed_price >= target_sell_price
         ‚ö†Ô∏è –ï—Å–ª–∏ –ù–ï–¢ ‚Üí –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï (–æ—à–∏–±–∫–∞ API –±–∏—Ä–∂–∏!)
       - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ—Ñ–∏—Ç
       - –ó–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–¥–∞–∂—É –≤ –ª–æ–≥ (–º–∞—Ä–∫–µ—Ä [AUTO_SELL])
       - –°–±—Ä–æ—Å–∏—Ç—å —Ü–∏–∫–ª –≤ IDLE
       - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
    b) –ï—Å–ª–∏ –æ—Ä–¥–µ—Ä –ù–ï –∏—Å–ø–æ–ª–Ω–µ–Ω (status='open'):
       - –û—Ä–¥–µ—Ä –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∫–Ω–∏–≥–µ –∑–∞—è–≤–æ–∫
       - –ò—Å–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã
       - –õ–æ–≥–∏—Ä—É–µ–º Order ID –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

11. –°–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥ _selling_in_progress = False
```

**–¢–∏–ø –æ—Ä–¥–µ—Ä–∞:** `LIMIT`  
**–¶–µ–Ω–∞ LIMIT:** `target_sell_price` (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã)  
**–ü–æ—á–µ–º—É LIMIT:**
- –ì–∞—Ä–∞–Ω—Ç–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ slippage –≤–Ω–∏–∑
- –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–¢–û–õ–¨–ö–û** –ø–æ —Ü–µ–Ω–µ >= `target_sell_price`
- –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –Ω–∏–∂–µ ‚Äî –æ—Ä–¥–µ—Ä –∂–¥—ë—Ç –≤ –∫–Ω–∏–≥–µ –∑–∞—è–≤–æ–∫

---

## üî¢ –§–û–†–ú–£–õ–´ –ò –†–ê–°–ß–Å–¢–´

### –†–∞—Å—á—ë—Ç target_sell_price
```
target_sell_price = start_price √ó (1 + target_delta_pct / 100)
```

**–ì–¥–µ:**
- `start_price` ‚Äî –†–ï–ê–õ–¨–ù–ê–Ø —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (–∏–∑ `avg_deal_price`)
- `target_delta_pct` ‚Äî —Ü–µ–ª–µ–≤–∞—è –¥–µ–ª—å—Ç–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä:**
```
start_price = 2.5000 USDT
target_delta_pct = 1.84%

target_sell_price = 2.5000 √ó (1 + 1.84 / 100)
                  = 2.5000 √ó 1.0184
                  = 2.5460 USDT
```

### –†–∞—Å—á—ë—Ç breakeven_price (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã)
```
breakeven_price = (total_invested_usd + total_fees) / total_volume
```

**–ì–¥–µ:**
- `total_invested_usd` ‚Äî –æ–±—â–∞—è —Å—É–º–º–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π (–≤–∫–ª—é—á–∞—è –¥–æ–∫—É–ø–∫–∏)
- `total_fees` ‚Äî –æ–±—â–∞—è —Å—É–º–º–∞ –∫–æ–º–∏—Å—Å–∏–π
- `total_volume` ‚Äî –æ–±—â–∏–π –æ–±—ä—ë–º –º–æ–Ω–µ—Ç

**–õ–æ–≥–∏–∫–∞:**
- –î–ª—è —à–∞–≥–∞ 0 (—Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞): `breakeven_price ‚âà start_price + –∫–æ–º–∏—Å—Å–∏—è`
- `target_sell_price` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å >= `breakeven_price` –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–º–∏—Å—Å–∏–π

---

## üõ°Ô∏è –ó–ê–©–ò–¢–´ –û–¢ –£–ë–´–¢–ö–û–í

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–∞—Å—á—ë—Ç–æ–º
```python
if target_sell_price <= start_price:
    print("–ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê - —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –Ω–µ –≤—ã—à–µ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏!")
    return
```
**–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç:** –ü—Ä–æ–¥–∞–∂–∏ –ø–æ —Ü–µ–Ω–µ –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ –Ω–∏–∂–µ

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã
```python
if target_sell_price < breakeven_price:
    print("–ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê - –æ—à–∏–±–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏!")
    return
```
**–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç:** –û—à–∏–±–æ–∫ –≤ —Ä–∞—Å—á—ë—Ç–µ —Ç–∞–±–ª–∏—Ü—ã

---

### 3. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã
```python
current_price = get_market_price()
if current_price < target_sell_price:
    print("–ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê - —Ü–µ–Ω–∞ —É–ø–∞–ª–∞ –≤–æ –≤—Ä–µ–º—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏!")
    return
```
**–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç:** –ü—Ä–æ–¥–∞–∂–∏ –ø–æ —Å—Ç–∞—Ä–æ–π —Ü–µ–Ω–µ, –µ—Å–ª–∏ —Ä—ã–Ω–æ–∫ —É–ø–∞–ª

---

### 4. LIMIT-–æ—Ä–¥–µ—Ä —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π
```python
order = create_spot_order(
    order_type='limit',
    price=target_sell_price  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
)
```
**–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç:** Slippage –≤–Ω–∏–∑, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —Ü–µ–Ω–µ –Ω–∏–∂–µ —Ü–µ–ª–µ–≤–æ–π

---

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
```python
executed_price = float(order_status.get('avg_deal_price'))
if executed_price < target_sell_price:
    print("‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∏–∂–µ —Ü–µ–ª–µ–≤–æ–π - –æ—à–∏–±–∫–∞ API!")
```
**–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç:** –û—à–∏–±–æ–∫ API –±–∏—Ä–∂–∏, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üìã –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –ë–ª–æ–∫ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∂–µ–π
```
[WLD] üî¥ ========== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–ï–†–ï–î –ü–†–û–î–ê–ñ–ï–ô ==========
[WLD]   rate (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã): 2.5000
[WLD]   target_delta_pct (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã): 1.84
[WLD]   breakeven_price (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã): 2.5125
[WLD]   start_price (—Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏): 2.5000
[WLD]   price (—Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞): 2.5500
[WLD]   base_volume: 40.0
[WLD]   active_step: 0
[WLD] üî¥ ===============================================
```

### –ë–ª–æ–∫ 2: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
```
[WLD] üîµ ========== –ü–ê–†–ê–ú–ï–¢–†–´ –ó–ê–ü–†–û–°–ê –ù–ê –ü–†–û–î–ê–ñ–£ ==========
[WLD] üîµ [SELL_EXECUTION_FROM_TRY_SELL] ‚Üê –ü—Ä–æ–¥–∞–∂–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ _try_sell
[WLD]   currency_pair: WLD_USDT
[WLD]   side: sell
[WLD]   order_type: LIMIT (–≥–∞—Ä–∞–Ω—Ç–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã!)
[WLD]   amount: 40.0 WLD
[WLD]   price (LIMIT): 2.5460 USDT
[WLD]   ---
[WLD]   –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ —Ä—ã–Ω–∫–∞: 2.5500
[WLD]   –¶–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏: 2.5460
[WLD]   –¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (start_price): 2.5000
[WLD]   –û–∂–∏–¥–∞–µ–º–∞—è –¥–µ–ª—å—Ç–∞: 2.00%
[WLD]   –¢—Ä–µ–±—É–µ–º–∞—è –¥–µ–ª—å—Ç–∞ (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã): 1.84%
[WLD]   –û–∂–∏–¥–∞–µ–º–∞—è –≤—ã—Ä—É—á–∫–∞: >=101.8400 USDT
[WLD] üîµ =====================================================
```

### –ë–ª–æ–∫ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–∞
```
[WLD] ‚úÖ ========== –†–ï–ó–£–õ–¨–¢–ê–¢ –°–û–ó–î–ê–ù–ò–Ø –û–†–î–ï–†–ê ==========
[WLD]   Order ID: 123456789
[WLD] ‚úÖ ==================================================
```

### –ë–ª–æ–∫ 4: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–µ—Å–ª–∏ –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω)
```
[WLD] ‚úÖ ========== –§–ò–ù–ê–ù–°–û–í–´–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò ==========
[WLD]   –í–ª–æ–∂–µ–Ω–æ: 100.0000 USDT
[WLD]   –í—ã—Ä—É—á–∫–∞: 102.0000 USDT
[WLD]   –î–µ–ª—å—Ç–∞: 2.00%
[WLD]   –ü—Ä–æ—Ñ–∏—Ç: 2.0000 USDT
[WLD]   –¶–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞: 2.5460 USDT
[WLD]   –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: 2.5500 USDT
[WLD] ‚úÖ –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è >= —Ü–µ–ª–µ–≤–æ–π (–∑–∞—â–∏—Ç–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞)
[WLD] ‚úÖ ===========================================
```

### –ú–∞—Ä–∫–µ—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `[AUTO_SELL]` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–¥–∞–∂–∞ (–∏–∑ `_try_sell`)
- `[MANUAL_SELL_ALL]` ‚Äî —Ä—É—á–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ (–∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)

---

## ‚ùå –ß–¢–û –ù–ï–í–û–ó–ú–û–ñ–ù–û

1. ‚ùå –ü—Ä–æ–¥–∞–∂–∞ –ø–æ —Ü–µ–Ω–µ <= `start_price` (–ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Ññ1)
2. ‚ùå –ü—Ä–æ–¥–∞–∂–∞ –ø–æ —Ü–µ–Ω–µ < `target_sell_price` (LIMIT-–æ—Ä–¥–µ—Ä API)
3. ‚ùå –ü–æ–¥–º–µ–Ω–∞ `target_sell_price` –Ω–∞ –¥—Ä—É–≥—É—é —Ü–µ–Ω—É (—É–±—Ä–∞–Ω–∞)
4. ‚ùå MARKET-–æ—Ä–¥–µ—Ä –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ (–∑–∞–º–µ–Ω—ë–Ω –Ω–∞ LIMIT)
5. ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `rate` –≤–º–µ—Å—Ç–æ `start_price` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

---

## ‚úÖ –ß–¢–û –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–û

1. ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞ ‚Äî MARKET-–æ—Ä–¥–µ—Ä (–±—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥)
2. ‚úÖ –ê–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–∞ ‚Äî LIMIT-–æ—Ä–¥–µ—Ä —Å `price=target_sell_price`
3. ‚úÖ –ü—Ä–æ–¥–∞–∂–∞ —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–ª–µ–≤–æ–π –¥–µ–ª—å—Ç–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
4. ‚úÖ –†–∞—Å—á—ë—Ç `target_sell_price` –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏
5. ‚úÖ –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–¥–æ –∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–∞)
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–≤—ã—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ API)
7. ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
8. ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–æ–¥–∞–∂–∏ –≤ –ª–æ–≥–∞—Ö

---

## üß™ –°–¶–ï–ù–ê–†–ò–ò –†–ê–ë–û–¢–´

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ –°–†–ê–ó–£
```
1. –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: 2.5500 >= target_sell_price: 2.5460 ‚úÖ
2. –°–æ–∑–¥–∞–Ω LIMIT-–æ—Ä–¥–µ—Ä —Å —Ü–µ–Ω–æ–π 2.5460
3. –ß–µ—Ä–µ–∑ 0.5 —Å–µ–∫: status = 'closed'
4. –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: 2.5500 >= 2.5460 ‚úÖ
5. –ü—Ä–æ—Ñ–∏—Ç: 2.00 USDT
6. –¶–∏–∫–ª –∑–∞–≤–µ—Ä—à—ë–Ω
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: LIMIT-–æ—Ä–¥–µ—Ä –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è —Å—Ä–∞–∑—É
```
1. –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: 2.5500 >= target_sell_price: 2.5460 ‚úÖ
2. –°–æ–∑–¥–∞–Ω LIMIT-–æ—Ä–¥–µ—Ä —Å —Ü–µ–Ω–æ–π 2.5460
3. –ß–µ—Ä–µ–∑ 0.5 —Å–µ–∫: status = 'open'
4. –û—Ä–¥–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∫–Ω–∏–≥–µ –∑–∞—è–≤–æ–∫
5. –ò—Å–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã 2.5460+
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –≤–æ –≤—Ä–µ–º—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
```
1. –ù–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: 2.5500 >= 2.5460 ‚úÖ
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞, –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤...
3. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: 2.5400 < 2.5460 ‚ùå
4. –ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ–¥–∞–∂–∏ –ø–æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û—à–∏–±–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ
```
1. target_sell_price = 2.5000
2. breakeven_price = 2.5125
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: 2.5000 < 2.5125 ‚ùå
4. –ü–†–û–î–ê–ñ–ê –û–¢–ú–ï–ù–ï–ù–ê (–æ—à–∏–±–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ)
5. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã
```

---

## üìÇ –§–ê–ô–õ–´

### –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
- `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\autotrader_v2.py`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `–§–ò–ù–ê–õ–¨–ù–ê–Ø_–ü–†–û–í–ï–†–ö–ê_–í–°–ï–•_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ô.txt` ‚Äî —Å–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `–ü–†–û–í–ï–†–ö–ê_–¢–ò–ü–û–í_–û–†–î–ï–†–û–í_–§–ò–ù–ê–õ.md` ‚Äî –¥–µ—Ç–∞–ª–∏ —Ç–∏–ø–æ–≤ –æ—Ä–¥–µ—Ä–æ–≤
- `–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï_–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–ó–ê–ú–ï–ù–´_–¶–ï–ù–´.txt` ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–¥–º–µ–Ω—ã
- `–ß–ï–ö–õ–ò–°–¢_–ü–†–û–í–ï–†–ö–ò.txt` ‚Äî –±—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç
- `–õ–û–ì–ò–ö–ê_–†–ê–ë–û–¢–´_–ê–í–¢–û–¢–†–ï–ô–î–ï–†–ê_–§–ò–ù–ê–õ.md` ‚Äî —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

---

**üìÖ –î–∞—Ç–∞:** 2024-12-XX  
**‚úÖ –°—Ç–∞—Ç—É—Å:** –ì–û–¢–û–í–û –ö –≠–ö–°–ü–õ–£–ê–¢–ê–¶–ò–ò  
**üéØ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ–¥—Ä–µ–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã**
