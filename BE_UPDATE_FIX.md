# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: BE –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏

**–î–∞—Ç–∞:** 19 –Ω–æ—è–±—Ä—è 2025 –≥.  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–µ BE (breakeven price) –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–æ—Å—å.

**–ü—Ä–∏–º–µ—Ä:**
```
–°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞: –ö—É—Ä—Å=0.1585
BE –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: 0.1549 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
–û–∂–∏–¥–∞–µ—Ç—Å—è: BE = 0.1585 (–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
```

**–õ–æ–≥ –ø–æ–∫—É–ø–∫–∏:**
```
[13:18:53] Buy{–û–±—ä–µ–º:63.0800; –ö—É—Ä—Å:0.1585; ‚ÜìŒî%:0.00; ‚Üì%:0.00; –ò–Ω–≤–µ—Å—Ç:9.9988}
```

---

## üîç –ü—Ä–∏—á–∏–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞:

1. **–¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
   ```python
   # autotrader.py, —Å—Ç—Ä–æ–∫–∞ 223
   if not cycle.get('table') or params.get('start_price', 0) == 0:
       table = calculate_breakeven_table(params, current_price)
   ```

2. **–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏:**
   - P0 (start_price) –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ cycle –∏ state_manager
   - **–ù–û —Ç–∞–±–ª–∏—Ü–∞ –ù–ï –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è!**
   - BE –±–µ—Ä—ë—Ç—Å—è –∏–∑ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã (—Å –ø—Ä–µ–∂–Ω–∏–º start_price)

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   - BE –≤ —Ç–∞–±–ª–∏—Ü–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω —Å —Å—Ç–∞—Ä—ã–º P0
   - BE –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–Ω–µ –ø–æ–∫—É–ø–∫–∏

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ—Å—á—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏

**–§–∞–π–ª:** `autotrader.py`  
**–§—É–Ω–∫—Ü–∏—è:** `_try_start_cycle()`  
**–°—Ç—Ä–æ–∫–∏:** 472-481

**–ö–æ–¥ –î–û:**
```python
# –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –æ–±–Ω–æ–≤–ª—è–µ–º start_price –≤ state_manager –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
try:
    current_params = self.state_manager.get_breakeven_params(base)
    current_params['start_price'] = buy_price
    self.state_manager.update_breakeven_params(base, current_params)
    print(f"[AutoTrader][{base}] üìä –û–±–Ω–æ–≤–ª—ë–Ω start_price –≤ state_manager: {buy_price:.8f}")
except Exception as e:
    print(f"[AutoTrader][{base}] ‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è start_price –≤ state_manager: {e}")
```

**–ö–æ–¥ –ü–û–°–õ–ï:**
```python
# –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –æ–±–Ω–æ–≤–ª—è–µ–º start_price –≤ state_manager –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
try:
    current_params = self.state_manager.get_breakeven_params(base)
    current_params['start_price'] = buy_price
    self.state_manager.update_breakeven_params(base, current_params)
    print(f"[AutoTrader][{base}] üìä –û–±–Ω–æ–≤–ª—ë–Ω start_price –≤ state_manager: {buy_price:.8f}")
    
    # –í–ê–ñ–ù–û: –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Å –Ω–æ–≤—ã–º start_price
    new_table = calculate_breakeven_table(current_params, buy_price)
    cycle['table'] = new_table
    print(f"[AutoTrader][{base}] üìä –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–∞ —Å –Ω–æ–≤—ã–º P0: {buy_price:.8f}")
except Exception as e:
    print(f"[AutoTrader][{base}] ‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è start_price –∏ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ —Ç–∞–±–ª–∏—Ü—ã: {e}")
```

---

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. –¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏:

```
1. –ü–æ–∫—É–ø–∫–∞ ‚Üí buy_price = 0.1585
2. P0 = buy_price (0.1585) ‚úÖ
3. P0 —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ state_manager ‚úÖ
4. –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å P0 = 0.1585 ‚úÖ –ù–û–í–û–ï!
5. BE —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º P0 ‚úÖ –ù–û–í–û–ï!
6. BE –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è = 0.1585 ‚úÖ –ù–û–í–û–ï!
```

### 2. BE —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω:

| –î–µ–π—Å—Ç–≤–∏–µ | P0 | –¢–∞–±–ª–∏—Ü–∞ | BE | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ? |
|----------|----|---------|----|-----------|
| **–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 0.1585 | –°—Ç–∞—Ä–∞—è (P0=0.1549) | 0.1549 | ‚ùå –ù–ï–¢ |
| **–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 0.1585 | –ù–æ–≤–∞—è (P0=0.1585) | 0.1585 | ‚úÖ –î–ê |

---

## üìä –î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á—ë—Ç–∞ BE

### –§–æ—Ä–º—É–ª–∞ BE (–∏–∑ breakeven_calculator.py):

```python
# –®–∞–≥ 0 (—Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞):
total_invested = start_volume  # –°—É–º–º–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
total_coins = start_volume / start_price  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç
breakeven_price = total_invested / total_coins  # BE = —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏

# –î–ª—è —à–∞–≥–∞ 0:
BE = start_volume / (start_volume / start_price)
BE = start_price  # ‚úÖ BE = P0
```

**–î–ª—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏:**
```
start_volume = 9.9988 USDT
start_price = 0.1585
total_coins = 9.9988 / 0.1585 = 63.08 –º–æ–Ω–µ—Ç
BE = 9.9988 / 63.08 = 0.1585 ‚úÖ
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

1. **–°—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞:**
   ```
   –õ–æ–≥: Buy{–û–±—ä–µ–º:63.08; –ö—É—Ä—Å:0.1585; –ò–Ω–≤–µ—Å—Ç:9.9988}
   –õ–æ–≥: üìä –û–±–Ω–æ–≤–ª—ë–Ω start_price –≤ state_manager: 0.1585
   –õ–æ–≥: üìä –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–∞ —Å –Ω–æ–≤—ã–º P0: 0.1585
   ```

2. **–¢–∞–±–ª–∏—Ü–∞ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏:**
   ```
   –°—Ç—Ä–æ–∫–∞ 0: Rate=0.1585, BE=0.1585 ‚úÖ
   ```

3. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä:**
   ```
   Start: 0.1585 ‚úÖ
   BE: 0.1585 ‚úÖ
   ```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∞

### –ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏:

- [ ] –í –ª–æ–≥–∞—Ö: `üìä –û–±–Ω–æ–≤–ª—ë–Ω start_price in state_manager`
- [ ] –í –ª–æ–≥–∞—Ö: `üìä –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–∞ —Å –Ω–æ–≤—ã–º P0`
- [ ] P0 –≤ —Ç–∞–±–ª–∏—Ü–µ (—Å—Ç—Ä–æ–∫–∞ 0, Rate) = —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏
- [ ] BE –≤ —Ç–∞–±–ª–∏—Ü–µ (—Å—Ç—Ä–æ–∫–∞ 0, BE) = —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏
- [ ] BE –≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–µ = —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏

### –ü–æ—Å–ª–µ –¥–æ–∫—É–ø–∫–∏:

- [ ] P0 –ù–ï –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- [ ] BE –æ–±–Ω–æ–≤–∏–ª—Å—è (–Ω–æ–≤—ã–π —à–∞–≥)
- [ ] –¢–∞–±–ª–∏—Ü–∞ –ù–ï –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª–∞—Å—å (–Ω–µ—Ç –ª–æ–≥–∞)

---

## üéØ –ò—Ç–æ–≥

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå BE –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏
- ‚ùå BE –±—Ä–∞–ª—Å—è –∏–∑ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã
- ‚ùå BE –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–Ω–µ –ø–æ–∫—É–ø–∫–∏

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ BE –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∫—É–ø–∫–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º P0
- ‚úÖ BE —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–Ω–µ –ø–æ–∫—É–ø–∫–∏

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ:**
- `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\autotrader.py` (—Å—Ç—Ä–æ–∫–∏ 477-481)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ:**
- `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\breakeven_calculator.py` (—Ä–∞—Å—á—ë—Ç BE)
- `c:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\Documents\bGate.mTrade\mTrade.py` (–æ—Ç–¥–∞—á–∞ BE –≤ UI)

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 2025-11-19  
**–í–µ—Ä—Å–∏—è:** v1.8.6
