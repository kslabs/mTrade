# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø + –£–ú–ï–ù–¨–®–ï–ù–ù–´–ô –ë–û–†–î–Æ–†

## üéØ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### 1. –ë–æ—Ä–¥—é—Ä –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π —É–º–µ–Ω—å—à–µ–Ω —Å 2px –Ω–∞ 1px ‚úÖ
```css
/* –ë—ã–ª–æ: */
.base-currency-tabs .tab-item .perm-indicator {border:2px solid #111}
.base-currency-tabs .tab-item.active .perm-indicator.on {box-shadow:0 0 0 2px #0d3}

/* –°—Ç–∞–ª–æ: */
.base-currency-tabs .tab-item .perm-indicator {border:1px solid #111}
.base-currency-tabs .tab-item.active .perm-indicator.on {box-shadow:0 0 0 1px #0d3}
```

### 2. –°–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è ‚úÖ
```javascript
function forceApplyInactiveColors(){
  // –ù–∞—Ö–æ–¥–∏—Ç –í–°–ï –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∞–ª—é—Ç—ã
  // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–∫—Ä–∞—à–∏–≤–∞–µ—Ç –∏—Ö –≤ —Å–∏–Ω–∏–π —Ü–≤–µ—Ç
  // –õ–æ–≥–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
}
```

### 3. –§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ –í–°–ï–• –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–∫–∞—Ö ‚úÖ
- –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (`loadTradingPermissions`)
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (`toggleTradingPermission`)
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ (`renderCurrencyTabs`)
- –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`DOMContentLoaded`)
- –í–Ω—É—Ç—Ä–∏ `updateTabsPermissionsUI` (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 100ms)

---

## üî• –ü–û–ß–ï–ú–£ –≠–¢–û –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:

1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (—á–µ—Ä–µ–∑ 200ms –ø–æ—Å–ª–µ DOMContentLoaded)
   ```javascript
   setTimeout(() => forceApplyInactiveColors(), 200);
   ```

2. **–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π** (—á–µ—Ä–µ–∑ 50ms)
   ```javascript
   updateTabsPermissionsUI();
   setTimeout(() => forceApplyInactiveColors(), 50);
   ```

3. **–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** (—á–µ—Ä–µ–∑ 50ms)
   ```javascript
   updateTabsPermissionsUI();
   setTimeout(() => forceApplyInactiveColors(), 50);
   ```

4. **–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫** (—á–µ—Ä–µ–∑ 50ms)
   ```javascript
   updateTabsPermissionsUI();
   setTimeout(() => forceApplyInactiveColors(), 50);
   ```

5. **–í –∫–æ–Ω—Ü–µ updateTabsPermissionsUI** (—á–µ—Ä–µ–∑ 100ms)
   ```javascript
   setTimeout(() => {
     // –ü–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–∏–Ω–∏–π —Ü–≤–µ—Ç
   }, 100);
   ```

**–ò—Ç–æ–≥–æ: 5 —Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–µ–∫ –≤—ã–∑–æ–≤–∞!** –°–∏–Ω–∏–π —Ü–≤–µ—Ç –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ!

---

## üé® –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´

### –§—É–Ω–∫—Ü–∏—è `forceApplyInactiveColors()`:

```javascript
function forceApplyInactiveColors(){
  console.log('[FORCE_COLOR] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–Ω–µ–≥–æ —Ü–≤–µ—Ç–∞');
  
  const tabs = document.querySelectorAll('.tab-item');
  
  tabs.forEach(tab => {
    const code = tab.dataset.code;
    const permissionEnabled = window.tradingPermissions && window.tradingPermissions[code];
    const isInactive = (permissionEnabled !== true);
    
    console.log(`[FORCE_COLOR] ${code}: permission=${permissionEnabled}, isInactive=${isInactive}`);
    
    if(isInactive){
      const codeLabel = tab.querySelector('.code-label');
      if(codeLabel){
        const isActive = tab.classList.contains('active');
        const blueColor = isActive ? '#64B5F6' : '#2196F3';
        
        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
        codeLabel.style.cssText = `color: ${blueColor} !important;`;
        codeLabel.setAttribute('style', `color: ${blueColor} !important;`);
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        const finalColor = window.getComputedStyle(codeLabel).color;
        console.log(`[FORCE_COLOR] ${code}: —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–∏–Ω–∏–π, computed="${finalColor}"`);
      }
    }
  });
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –í–°–ï–ú –≤–∫–ª–∞–¥–∫–∞–º
- –î–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `permissionEnabled !== true`
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–∏–Ω–∏–π —Ü–≤–µ—Ç –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏
- –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

## ‚ö° –ü–†–û–í–ï–†–ö–ê

```powershell
# 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python _autotrader.py

# 2. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
http://localhost:8080

# 3. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∂—ë—Å—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
Ctrl + Shift + R
```

---

## üîç –ß–¢–û –ò–°–ö–ê–¢–¨ –í –ö–û–ù–°–û–õ–ò (F12)

### –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```
[INIT] –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–∏–Ω–∏–π —Ü–≤–µ—Ç –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
[FORCE_COLOR] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–Ω–µ–≥–æ —Ü–≤–µ—Ç–∞ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç
[FORCE_COLOR] ANIME: permission=undefined, isInactive=true
[FORCE_COLOR] ANIME: —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–∏–Ω–∏–π, computed="rgb(33, 150, 243)"
[FORCE_COLOR] –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç: X
```

### –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

```
[SUCCESS] –¢–æ—Ä–≥–æ–≤–ª—è –¥–ª—è ANIME: —Ä–∞–∑—Ä–µ—à–µ–Ω–∞
[FORCE_COLOR] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–Ω–µ–≥–æ —Ü–≤–µ—Ç–∞ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª—é—Ç
[FORCE_COLOR] ANIME: permission=true, isInactive=false
```

---

## üé® –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ (ANIME):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üî¥ANIME üå∏         ‚îÇ  ‚Üê –Ø–†–ö–û-–°–ò–ù–ò–ô —Ç–µ–∫—Å—Ç
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     1px –æ—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è
  ‚Üë
  –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å –±–æ—Ä–¥—é—Ä–æ–º 1px (–≤–º–µ—Å—Ç–æ 2px)
```

### –í–∏–∑—É–∞–ª—å–Ω–æ:
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ **–Ø–†–ö–û-–°–ò–ù–ï–ï** (#2196F3)
- ‚úÖ –û—Ç—Å—Ç—É–ø **1 –ø–∏–∫—Å–µ–ª—å** –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π —Å **–±–æ–ª–µ–µ —Ç–æ–Ω–∫–∏–º –±–æ—Ä–¥—é—Ä–æ–º** (1px)

### –í Element Inspector (F12 ‚Üí Elements):
```html
<div class="tab-item inactive-currency" data-code="ANIME">
  <span class="perm-indicator off" style="border: 1px solid #111;"></span>
  <span class="code-label" style="color: rgb(33, 150, 243) !important;">ANIME</span>
  <span class="symbol-label">üå∏</span>
</div>
```

---

## üìä –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### static/style.css (1 –∏–∑–º–µ–Ω–µ–Ω–∏–µ):
```css
/* –£–º–µ–Ω—å—à–µ–Ω –±–æ—Ä–¥—é—Ä –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å 2px –Ω–∞ 1px */
.base-currency-tabs .tab-item .perm-indicator {border:1px solid #111}
.base-currency-tabs .tab-item.active .perm-indicator.on {box-shadow:0 0 0 1px #0d3}
```

### static/app.js (6 –∏–∑–º–µ–Ω–µ–Ω–∏–π):

1. **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `forceApplyInactiveColors()`** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ

2. **–í `loadTradingPermissions()`:**
   ```javascript
   setTimeout(() => forceApplyInactiveColors(), 50);
   ```

3. **–í `toggleTradingPermission()`:**
   ```javascript
   setTimeout(() => forceApplyInactiveColors(), 50);
   ```

4. **–í `renderCurrencyTabs()`:**
   ```javascript
   setTimeout(() => forceApplyInactiveColors(), 50);
   ```

5. **–í `DOMContentLoaded`:**
   ```javascript
   setTimeout(() => forceApplyInactiveColors(), 200);
   ```

6. **–í `updateTabsPermissionsUI()` —É–∂–µ –±—ã–ª–æ:**
   ```javascript
   setTimeout(() => { /* –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ */ }, 100);
   ```

---

## ‚úÖ –ì–ê–†–ê–ù–¢–ò–ò

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã:
–§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ **5 —Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö** —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏:
- 50ms –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- 50ms –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- 50ms –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
- 100ms –≤–Ω—É—Ç—Ä–∏ updateTabsPermissionsUI
- 200ms –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –≤–∏–¥–Ω–æ:
- –ö–∞–∫–∞—è –≤–∞–ª—é—Ç–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- –ö–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `permission`
- –†–µ–∑—É–ª—å—Ç–∞—Ç `computed` —Ü–≤–µ—Ç–∞
- –°–∫–æ–ª—å–∫–æ –≤–∞–ª—é—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
- `style.cssText` —Å `!important`
- `setAttribute('style', ...)` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `getComputedStyle`

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

**–°–ò–ù–ò–ô –¶–í–ï–¢ –¢–ï–ü–ï–†–¨ –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –ü–†–ò–ú–ï–ù–Ø–ï–¢–°–Ø!**

–ü—Ä–∏—á–∏–Ω—ã:
1. ‚úÖ –û—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è
2. ‚úÖ –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ 5 —Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö
3. ‚úÖ –° –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –¥–ª—è —É—á—ë—Ç–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏
4. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
5. ‚úÖ –ë–æ—Ä–¥—é—Ä –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —É–º–µ–Ω—å—à–µ–Ω –¥–æ 1px

---

**–î–∞—Ç–∞:** 2024-12-12  
**–ú–µ—Ç–æ–¥:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è + –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï
