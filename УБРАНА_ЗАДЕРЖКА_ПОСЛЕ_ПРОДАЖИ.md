# ‚úÖ –£–ë–†–ê–ù–ê –ó–ê–î–ï–†–ñ–ö–ê –ü–û–°–õ–ï –ü–†–û–î–ê–ñ–ò

## üìã –ß—Ç–æ –±—ã–ª–æ —É–±—Ä–∞–Ω–æ

### 1. –£–¥–∞–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ `_try_start_cycle`
**–ë—ã–ª–æ** (—Å—Ç—Ä–æ–∫–∞ ~687):
```python
# –ù–û–í–ê–Ø –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ (60 —Å–µ–∫—É–Ω–¥)
if hasattr(cycle, 'last_sell_at') and cycle.last_sell_at > 0:
    time_since_sell = time.time() - cycle.last_sell_at
    if time_since_sell < 60:
        print(f"[{base}] ‚è∏Ô∏è [SKIP] –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ ({time_since_sell:.1f}s < 60s)")
        return
    else:
        print(f"[{base}] ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –∏—Å—Ç–µ–∫–ª–∞ ({time_since_sell:.1f}s >= 60s), —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–π —Ü–∏–∫–ª")
        cycle.last_sell_at = 0.0
```

**–°—Ç–∞–ª–æ**:
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–±—Ä–∞–Ω–∞ - —Ç–æ—Ä–≥–æ–≤–ª—è –∏–¥—ë—Ç –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
```

### 2. –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ `last_sell_at` –∏–∑ `TradingCycle`
**–ë—ã–ª–æ** (—Å—Ç—Ä–æ–∫–∞ ~56):
```python
last_sell_at: float = 0.0  # –ù–û–í–û–ï: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–¥–∞–∂–∏ (–¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º —Ü–∏–∫–ª–æ–º)
```

**–°—Ç–∞–ª–æ**:
```python
# –ü–æ–ª–µ —É–¥–∞–ª–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é
```

### 3. –£–¥–∞–ª—ë–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ `last_sell_at` –≤ –º–µ—Ç–æ–¥–µ `reset()`
**–ë—ã–ª–æ** (—Å—Ç—Ä–æ–∫–∞ ~89):
```python
# üî¥ –í–ê–ñ–ù–û: last_sell_at –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ–º - –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —Ü–∏–∫–ª–æ–º!
```

**–°—Ç–∞–ª–æ**:
```python
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–¢–µ–ø–µ—Ä—å —Ç–æ—Ä–≥–æ–≤–ª—è –∏–¥—ë—Ç –ù–ï–ü–†–ï–†–´–í–ù–û:**
- ‚úÖ –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ **–°–†–ê–ó–£** –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –Ω–æ–≤—ã–π —Ü–∏–∫–ª (–µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å —á–∏—Å—Ç)
- ‚úÖ –ù–µ—Ç –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ç–æ—Ä–≥–æ–≤–ª–∏
- ‚úÖ –í—Å–µ –≤–∞–ª—é—Ç—ã —Ç–æ—Ä–≥—É—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ (–±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π)

## üìä –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```
[21:04:23] Sell (–ø—Ä–æ–¥–∞–∂–∞)
[21:04:23] ‚è∏Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ 60 —Å–µ–∫
...–æ–∂–∏–¥–∞–Ω–∏–µ...
[21:05:23] Buy (–Ω–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞) ‚Üê –ß–µ—Ä–µ–∑ 60+ —Å–µ–∫—É–Ω–¥
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```
[21:04:23] Sell (–ø—Ä–æ–¥–∞–∂–∞)
[21:04:24] Buy (–Ω–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞) ‚Üê –°–†–ê–ó–£ (–µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å —á–∏—Å—Ç)
```

## üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ –æ—Å—Ç–∞—ë—Ç—Å—è

**–í–∞–∂–Ω–æ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ –ù–ï —É–¥–∞–ª–µ–Ω–∞!

–§—É–Ω–∫—Ü–∏—è `_check_and_reset_if_empty()` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã –ü–ï–†–ï–î –Ω–æ–≤—ã–º —Ü–∏–∫–ª–æ–º
- ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –º–æ–Ω–µ—Ç ‚Üí –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç
- ‚úÖ –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å —á–∏—Å—Ç ‚Üí —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –Ω–æ–≤—ã–π —Ü–∏–∫–ª

**–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:**
- –ù–µ—Ç –¥–≤–æ–π–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫
- –ù–µ—Ç –ø–æ–∫—É–ø–æ–∫ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤ –æ—Ç –ø—Ä–æ—à–ª–æ–≥–æ —Ü–∏–∫–ª–∞

## üöÄ –°—Ç–∞—Ç—É—Å

- ‚úÖ **–£–±—Ä–∞–Ω–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 60 —Å–µ–∫—É–Ω–¥**
- ‚úÖ **–¢–æ—Ä–≥–æ–≤–ª—è –∏–¥—ë—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ**
- ‚úÖ **–í—Å–µ –≤–∞–ª—é—Ç—ã —Ç–æ—Ä–≥—É—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ**
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- ‚úÖ **–ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω, –æ—à–∏–±–æ–∫ –Ω–µ—Ç**

---

**–î–∞—Ç–∞**: 2025-12-11  
**–§–∞–π–ª**: `autotrader_v2.py`
