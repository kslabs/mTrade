# ðŸ” Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ WS

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** Ð£ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð²Ð°Ð»ÑŽÑ‚ Ð¿Ñ€Ð¾Ð¿Ð°Ð» WS Ð¸ Ð´Ð¾Ð»Ð³Ð¾ Ð½Ðµ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ Ñ€ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°.

---

## ðŸ” Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° (F12)

### 1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð»Ð¾Ð³:
```
[INIT] Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸: {logDbg: "function", formatPrice: "function", $: "function"}
```

**Ð•ÑÐ»Ð¸ ÐÐ•Ð¢** â†’ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¾Ð¼ Ð¼Ð¾Ð´ÑƒÐ»Ñ

---

### 2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ Ð½Ð° Ð²Ð°Ð»ÑŽÑ‚Ñ‹

Ð”Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸:
```
[DBG] subscribeToAllCurrencies: Ð¿Ð¾Ð´Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ÑÑ Ð½Ð° 16 Ð²Ð°Ð»ÑŽÑ‚ Ñ USDT
[DBG] subscribeToPairData BTC_USDT
[DBG] subscribeToPairData ETH_USDT
...
[DBG] subscribeToAllCurrencies: Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾
```

**Ð•ÑÐ»Ð¸ ÐÐ•Ð¢** â†’ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ° Ð½Ðµ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¸Ð»Ð¸ Ð¿Ð°Ð´Ð°ÐµÑ‚ Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹

---

### 3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° WS Ð´Ð»Ñ Ð²ÐºÐ»Ð°Ð´Ð¾Ðº

Ð”Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸:
```
[BORDER_WS] BTC: ready-to-sell (current=... >= sell=...)
[BORDER_WS] ETH: normal (buy=... < current=... < sell=...)
```

**Ð•ÑÐ»Ð¸ Ð²Ð¸Ð´Ð½Ð¾ Ð¼Ð½Ð¾Ð³Ð¾:**
```
[BORDER_WS] XXX: ws-disconnected (currentPrice=undefined/null/0, ...)
```
â†’ Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð½Ðµ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ñ‡ÐµÑ€ÐµÐ· WS

---

### 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº JavaScript

Ð˜Ñ‰Ð¸Ñ‚Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ñ‚Ð¸Ð¿Ð°:
- `Uncaught ReferenceError: logDbg is not defined`
- `Uncaught ReferenceError: $ is not defined`
- `Uncaught ReferenceError: formatPrice is not defined`

**Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ** â†’ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒÑŽ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð¿Ð¾ÑÐ»Ðµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð°

---

## ðŸ› ï¸ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹

### 1. ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¾Ð¼ Ð¼Ð¾Ð´ÑƒÐ»Ñ

**ÐŸÑ€Ð¸Ð·Ð½Ð°Ðº:** ÐžÑˆÐ¸Ð±ÐºÐ° Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð¿Ñ€Ð¾ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð¸Ð»Ð¸ undefined Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð° Ð² `app.js`:
```javascript
import { logDbg, formatPrice, $ } from './js/utils.js';
```

---

### 2. ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒÑŽ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸

**ÐŸÑ€Ð¸Ð·Ð½Ð°Ðº:** Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð² Ð¾Ð´Ð½Ð¸Ñ… Ð¼ÐµÑÑ‚Ð°Ñ…, Ð½Ð¾ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ñ…

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹ Ð² Ð½Ð°Ñ‡Ð°Ð»Ðµ Ñ„Ð°Ð¹Ð»Ð° Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð²ÐµÐ·Ð´Ðµ

---

### 3. ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð½Ðµ ÑÐ²ÑÐ·Ð°Ð½Ð° Ñ Ñ€ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð³Ð¾Ð¼

**ÐŸÑ€Ð¸Ð·Ð½Ð°Ðº:** Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚, Ð»Ð¾Ð³Ð¸ ÐµÑÑ‚ÑŒ, Ð½Ð¾ WS Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾ Ð½Ðµ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ

**Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹:**
- ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ (WS ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚)
- ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ ÑÐµÑ‚ÑŒÑŽ
- ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹ Ð¿ÐµÑ€ÐµÐ¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ (Ð½Ðµ ÑÐ²ÑÐ·Ð°Ð½Ð° Ñ Ð½Ð°ÑˆÐ¸Ð¼Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸)

**ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ:**
1. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€: `python mTrade.py`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð° Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ¸ WebSocket
3. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð»Ð¸ WS Ð² ÑÑ‚Ð°Ñ€Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ (Ð¾Ñ‚ÐºÐ°Ñ‚Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ)

---

## ðŸ”„ ÐžÑ‚ÐºÐ°Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)

Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð° Ð¸ ÑÐ²ÑÐ·Ð°Ð½Ð° Ñ Ñ€ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð³Ð¾Ð¼:

```bash
git restore static/app.js
git restore static/js/utils.js
git restore templates/index.html
```

Ð˜Ð»Ð¸ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ:
1. Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ `logDbg`, `formatPrice`, `$` Ð² `app.js`
2. Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð°
3. Ð£Ð±Ñ€Ð°Ñ‚ÑŒ `type="module"` Ð¸Ð· `index.html`

---

## ðŸ“Š Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. âœ… ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð° (F12)
2. âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð»Ð¾Ð³Ð¸ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ° Ð²Ñ‹ÑˆÐµ
3. âœ… ÐÐ°Ð¹Ñ‚Ð¸ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½ÑƒÑŽ Ð¾ÑˆÐ¸Ð±ÐºÑƒ
4. âœ… Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð½Ð°Ð¹Ð´ÐµÐ½Ð½Ð¾Ð¹ Ð¾ÑˆÐ¸Ð±ÐºÐµ

---

**Ð¤Ð°Ð¹Ð» ÑÐ¾Ð·Ð´Ð°Ð½:** 14 Ð´ÐµÐºÐ°Ð±Ñ€Ñ 2025  
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
