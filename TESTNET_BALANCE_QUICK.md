# 🚀 Быстрый старт: Управление балансом в Testnet

## Что изменилось?

✅ **Реальное API вместо симуляции** - теперь используются официальные API Gate.io для установки баланса в тестовой сети  
✅ **Клик на "Vol 24h"** - открывает диалог установки баланса (только в тестовом режиме)  
✅ **Автоматическое обновление** - баланс обновляется в реальном времени после установки  

---

## ⚡ Быстрая установка баланса (3 клика)

### 1️⃣ Переключиться в Test Network
В правом верхнем углу выбрать **"Test Network"**

### 2️⃣ Кликнуть на "Vol 24h"
В заголовке "📈 Рынок и стакан" справа кликнуть на синюю цифру объёма

### 3️⃣ Ввести данные
```
Валюта: USDT
Количество: 100000
```

✅ **Готово!** Баланс установлен через Gate.io Testnet API

---

## 📋 Примеры использования

### Пример 1: Установить 100,000 USDT
```
1. Клик на "Vol 24h"
2. Ввести: USDT
3. Ввести: 100000
4. ✅ Баланс USDT = 100,000
```

### Пример 2: Установить 10 BTC
```
1. Клик на "Vol 24h"
2. Ввести: BTC
3. Ввести: 10
4. ✅ Баланс BTC = 10
```

### Пример 3: Установить 50 ETH
```
1. Клик на "Vol 24h"
2. Ввести: ETH
3. Ввести: 50
4. ✅ Баланс ETH = 50
```

---

## 🔄 Сброс всех балансов

### Через консоль браузера (F12)
```javascript
resetTestnetBalances()
```

### Через API
```bash
curl -X POST http://localhost:5000/api/testnet/balance/reset
```

---

## ⚠️ Требования

### API ключи для тестовой сети

**Создать файл**: `config/secrets_test.json`

```json
{
  "GATEIO_API_KEY": "ваш_testnet_ключ",
  "GATEIO_API_SECRET": "ваш_testnet_секрет"
}
```

**Где получить**:
1. https://www.gate.io/myaccount/apiv4keys
2. Создать API Key для **Testnet**
3. Скопировать ключи в файл

---

## 🐛 Решение проблем

### "Доступно только в тестовой сети"
**Причина**: Вы в рабочем режиме  
**Решение**: Переключитесь в "Test Network" в правом верхнем углу

### "Не найдены API ключи"
**Причина**: Отсутствует файл `config/secrets_test.json`  
**Решение**: Создайте файл с ключами (см. выше)

### "Invalid API key"
**Причина**: Неверные ключи или ключи для рабочей сети  
**Решение**: Убедитесь, что используете ключи для **testnet**

### Баланс не обновляется
**Причина**: API запрос не прошёл  
**Решение**: 
1. Откройте консоль (F12)
2. Проверьте ошибки
3. Проверьте логи сервера (`server.log`)

---

## 💡 Полезные команды

### Проверить текущий режим
```bash
curl http://localhost:5000/api/network
```

### Установить баланс через curl
```bash
curl -X POST http://localhost:5000/api/testnet/balance/set \
  -H "Content-Type: application/json" \
  -d '{"currency":"USDT","amount":"100000"}'
```

### Проверить баланс
```bash
curl http://localhost:5000/api/pair/balances?base_currency=BTC&quote_currency=USDT
```

### Сбросить балансы
```bash
curl -X POST http://localhost:5000/api/testnet/balance/reset
```

---

## 📊 Визуальный пример

```
┌─────────────────────────────────────────────────────────────┐
│ 📈 Рынок и стакан         Vol 24h: 1.23M  [USDT ▼]         │ ← Клик здесь!
├─────────────────────────────────────────────────────────────┤
│ BTC_USDT                                      $42,567.89    │
├─────────────────────────────────────────────────────────────┤
│ Баланс BTC: 0.00123456    ≈ $52.43                         │
│ Баланс USDT: 1000.00      Котируемая валюта                │ ← Обновится
└─────────────────────────────────────────────────────────────┘

После клика на "Vol 24h":
┌────────────────────────────────────┐
│ Установить баланс в тестовой сети  │
│                                    │
│ Введите код валюты:                │
│ [USDT                          ]   │ ← Ввести валюту
│                                    │
│            [OK]  [Отмена]          │
└────────────────────────────────────┘

Затем:
┌────────────────────────────────────┐
│ Введите количество USDT:           │
│                                    │
│ [100000                        ]   │ ← Ввести количество
│                                    │
│            [OK]  [Отмена]          │
└────────────────────────────────────┘

Результат:
✅ Баланс USDT установлен: 100000
```

---

## 🎯 Что дальше?

- ✅ Баланс установлен через официальное API Gate.io Testnet
- ✅ Можно начинать тестирование торговых стратегий
- ✅ Можно проверить автотрейдинг на тестовых средствах
- ✅ Баланс сохраняется в тестовой сети Gate.io

---

## 📚 Полная документация

См. файл: `TESTNET_BALANCE_API.md`
